/*! For license information please see main.156ae61e.js.LICENSE.txt */
!function(){var e={678:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in n))break e;n=n[i]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function i(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.h=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var s=a[n[o]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return e}));var l="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};o("Object.assign",(function(e){return e||l}));var c,f="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var p;e:{var d={};try{d.__proto__={a:!0},p=d.a;break e}catch(wn){}p=!1}c=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=c;function m(e,t){if(e.prototype=f(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ya=t.prototype}function v(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function y(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function g(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function b(e,t,n){return e.h=n,{value:t}}function w(e){this.h=new v,this.i=e}function k(e,t,n,r){try{var a=t.call(e.h.j,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.h.m=!1,a;var o=a.value}catch(i){return e.h.j=null,g(e.h,i),x(e)}return e.h.j=null,r.call(e.h,o),x(e)}function x(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(n){e.h.i=void 0,g(e.h,n)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return y(e.h),e.h.j?t=k(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=x(e)),t},this.throw=function(t){return y(e.h),e.h.j?t=k(e,e.h.j.throw,t,e.h.u):(g(e.h,t),t=x(e)),t},this.return=function(t){return function(e,t){y(e.h);var n=e.h.j;return n?k(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),x(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function N(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,a){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,a)}(e.next())}))}(new S(new w(e)))}function T(e){return e||Array.prototype.fill}v.prototype.u=function(e){this.i=e},v.prototype.return=function(e){this.l={return:e},this.h=this.v},o("Promise",(function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.h=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j((function(){t.m()}))}this.h.push(e)};var o=a.setTimeout;n.prototype.j=function(e){o(e,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.l(r)}}}this.h=null},n.prototype.l=function(e){this.j((function(){throw e}))},t.prototype.l=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(n){return void this.m(n)}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;o((function(){if(e.D()){var t=a.console;"undefined"!==typeof t&&t.error(e.j)}}),1)},t.prototype.D=function(){if(this.u)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,n(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)i.i(this.h[e]);this.h=null}};var i=new n;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var n=this.l();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(n){o(n)}}:t}var a,o,i=new t((function(e,t){a=e,o=t}));return this.T(r(e,a),r(n,o)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function n(){switch(r.i){case 1:e(r.j);break;case 2:t(r.j);break;default:throw Error("Unexpected state: "+r.i)}}var r=this;null==this.h?i.i(n):this.h.push(n),this.u=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var a=s(e),o=a.next();!o.done;o=a.next())r(o.value).T(t,n)}))},t.all=function(e){var n=s(e),a=n.next();return a.done?r([]):new t((function(e,t){function o(t){return function(n){i[t]=n,0==--s&&e(i)}}var i=[],s=0;do{i.push(void 0),s++,r(a.value).T(o(i.length-1),t),a=n.next()}while(!a.done)}))},t})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e){return e}))}})),o("Array.prototype.fill",(function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}})),o("Int8Array.prototype.fill",T),o("Uint8Array.prototype.fill",T),o("Uint8ClampedArray.prototype.fill",T),o("Int16Array.prototype.fill",T),o("Uint16Array.prototype.fill",T),o("Int32Array.prototype.fill",T),o("Uint32Array.prototype.fill",T),o("Float32Array.prototype.fill",T),o("Float64Array.prototype.fill",T),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var a=n[t];if(a===e||Object.is(a,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}));var E=this||self;function _(e,t){e=e.split(".");var n,r=E;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function I(e){var t;return(t=E.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var O=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),a="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in a&&(r[o]=t.call(void 0,a[o],o,e));return r},A={},C=null;function M(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),a=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),a=C[n];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}D();for(var r=0;;){var a=n(-1),o=n(0),i=n(64),s=n(64);if(64===s&&-1===a)break;t(a<<2|o>>4),64!=i&&(t(o<<4&240|i>>2),64!=s&&t(i<<6&192|s))}}(e,(function(e){r[a++]=e})),a!==n?r.subarray(0,a):r}function D(){if(!C){C={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));A[n]=r;for(var a=0;a<r.length;a++){var o=r[a];void 0===C[o]&&(C[o]=a)}}}}var R="undefined"!==typeof Uint8Array,P=!(I("Trident")||I("MSIE"))&&"function"===typeof E.btoa;function L(e){if(!P){var t;void 0===t&&(t=0),D(),t=A[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",a=0,o=0;a<e.length-2;a+=3){var i=e[a],s=e[a+1],u=e[a+2],l=t[i>>2];i=t[(3&i)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=l+i+s+u}switch(l=0,u=r,e.length-a){case 2:u=t[(15&(l=e[a+1]))<<2]||r;case 1:e=e[a],n[o]=t[e>>2]+t[(3&e)<<4|l>>4]+u+r}return n.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return t+=String.fromCharCode.apply(null,e),btoa(t)}var F,z=RegExp("[-_.]","g");function B(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function j(e){if(!P)return M(e);z.test(e)&&(e=e.replace(z,B)),e=atob(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function U(){return F||(F=new Uint8Array(0))}var V={},H="function"===typeof Uint8Array.prototype.slice,W=0,K=0;function q(e){var t=0>e,n=(e=Math.abs(e))>>>0;e=Math.floor((e-n)/4294967296),t&&(t=(n=s(Y(n,e))).next().value,e=n.next().value,n=t),W=n>>>0,K=e>>>0}var G,$="function"===typeof BigInt;function Y(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function Q(e,t){this.i=e>>>0,this.h=t>>>0}function X(e){if(!e)return G||(G=new Q(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)q(Number(e));else if($)e=BigInt(e),W=Number(e&BigInt(4294967295))>>>0,K=Number(e>>BigInt(32)&BigInt(4294967295));else{var t=+("-"===e[0]);K=W=0;for(var n=e.length,r=t,a=(n-t)%6+t;a<=n;r=a,a+=6)r=Number(e.slice(r,a)),K*=1e6,4294967296<=(W=1e6*W+r)&&(K+=W/4294967296|0,W%=4294967296);t&&(e=(t=s(Y(W,K))).next().value,t=t.next().value,W=e,K=t)}return new Q(W,K)}function J(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function Z(){return Error("Failed to read varint, encoding is invalid.")}function ee(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}function te(){throw Error("Invalid UTF8")}function ne(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var re,ae,oe,ie=void 0,se="undefined"!==typeof TextDecoder,ue="undefined"!==typeof TextEncoder;function le(e){if(e!==V)throw Error("illegal external caller")}function ce(e,t){if(le(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function fe(){return oe||(oe=new ce(null,V))}function pe(e){le(V);var t=e.V;return null==(t=null==t||R&&null!=t&&t instanceof Uint8Array?t:"string"===typeof t?j(t):null)?t:e.V=t}function de(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,he(this,e,t)}function he(e,t,n){n=void 0===n?{}:n,e.S=void 0!==n.S&&n.S,t&&(t=function(e){if("string"===typeof e)return{buffer:j(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===ce)return{buffer:pe(e)||U(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t),e.i=t.buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function me(e,t){if(e.h=t,t>e.j)throw ee(e.j,t)}function ve(e){var t=e.i,n=e.h,r=t[n++],a=127&r;if(128&r&&(a|=(127&(r=t[n++]))<<7,128&r&&(a|=(127&(r=t[n++]))<<14,128&r&&(a|=(127&(r=t[n++]))<<21,128&r&&(a|=(r=t[n++])<<28,128&r&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw Z();return me(e,n),a}function ye(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var n=e.h,r=n+t;if(r>e.j)throw ee(t,e.j-n);return e.h=r,n}de.prototype.reset=function(){this.h=this.l};var ge=[];function be(){this.h=[]}function we(e,t,n){for(;0<n||127<t;)e.h.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.h.push(t)}function ke(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function xe(e,t){if(ge.length){var n=ge.pop();he(n,e,t),e=n}else e=new de(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function Se(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var n=ve(e.h)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw J(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=n,!0}function Ne(e){switch(e.i){case 0:if(0!=e.i)Ne(e);else e:{for(var t=(e=e.h).h,n=t+10,r=e.i;t<n;)if(0===(128&r[t++])){me(e,t);break e}throw Z()}break;case 1:me(e=e.h,e.h+8);break;case 2:2!=e.i?Ne(e):(t=ve(e.h)>>>0,me(e=e.h,e.h+t));break;case 5:me(e=e.h,e.h+4);break;case 3:for(t=e.l;;){if(!Se(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.i){if(e.l!=t)throw Error("Unmatched end-group tag");break}Ne(e)}break;default:throw J(e.i,e.j)}}be.prototype.length=function(){return this.h.length},be.prototype.end=function(){var e=this.h;return this.h=[],e},xe.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},xe.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var Te=[];function Ee(){this.j=[],this.i=0,this.h=new be}function _e(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var Ie="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():void 0;function Oe(e,t){return Ie?e[Ie]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function Ae(e,t){Ie?e[Ie]&&(e[Ie]&=~t):void 0!==e.A&&(e.A&=~t)}function Ce(e){var t;return null==(t=Ie?e[Ie]:e.A)?0:t}function Me(e,t){Ie?e[Ie]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function De(e){return Oe(e,1),e}function Re(e,t){Me(t,-51&(0|e))}function Pe(e,t){Me(t,-41&(18|e))}var Le={};function Fe(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&e.constructor===Object}var ze,Be,je=[];function Ue(e){if(2&Ce(e.o))throw Error("Cannot mutate an immutable Message")}function Ve(e){var t=e.length;(t=t?e[t-1]:void 0)&&Fe(t)?t.g=1:(t={},e.push((t.g=1,t)))}function He(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function We(e,t){return-1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function Ke(e,t,n,r){Ue(e),qe(e,t,n,r)}function qe(e,t,n,r){e.j&&(e.j=void 0),t>=e.i||r?He(e)[t]=n:(e.o[t+e.G]=n,(e=e.B)&&t in e&&delete e[t])}function Ge(e,t,n,r){var a=We(e,t);Array.isArray(a)||(a=ze);var o=Ce(a);if(1&o||De(a),r)2&o||Oe(a,2),1&n||Object.freeze(a);else{r=!(2&n);var i=2&o;1&n||!i?r&&16&o&&!i&&Ae(a,16):qe(e,t,a=De(Array.prototype.slice.call(a)))}return a}function $e(e,t){var n=We(e,t),r=null==n?n:"number"===typeof n||"NaN"===n||"Infinity"===n||"-Infinity"===n?Number(n):void 0;return null!=r&&r!==n&&qe(e,t,r),r}function Ye(e,t,n,r,a){e.h||(e.h={});var o=e.h[n],i=Ge(e,n,3,a);if(!o){var s=i;o=[];var u=!!(16&Ce(e.o));i=!!(2&Ce(s));var l=s;!a&&i&&(s=Array.prototype.slice.call(s));for(var c=i,f=0;f<s.length;f++){var p=s[f],d=t,h=!1;if(h=void 0!==h&&h,void 0!==(p=Array.isArray(p)?new d(p):h?new d:void 0)){var m=h=Ce(d=p.o);i&&(m|=2),u&&(m|=16),m!=h&&Me(d,m),d=m,c=c||!!(2&d),o.push(p)}}return e.h[n]=o,t=33|(u=Ce(s)),u!=(t=c?-9&t:8|t)&&(c=s,Object.isFrozen(c)&&(c=Array.prototype.slice.call(c)),Me(c,t),s=c),l!==s&&qe(e,n,s),(a||r&&i)&&Oe(o,2),r&&Object.freeze(o),o}return a||(a=Object.isFrozen(o),r&&!a?Object.freeze(o):!r&&a&&(o=Array.prototype.slice.call(o),e.h[n]=o)),o}function Qe(e,t,n){var r=!!(2&Ce(e.o));if(t=Ye(e,t,n,r,r),e=Ge(e,n,3,r),!(r||8&Ce(e))){for(r=0;r<t.length;r++){if(2&Ce((n=t[r]).o)){var a=ut(n,!1);a.j=n}else a=n;n!==a&&(t[r]=a,e[r]=a.o)}Oe(e,8)}return t}function Xe(e,t,n){if(null!=n&&"number"!==typeof n)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);Ke(e,t,n)}function Je(e,t,n,r,a){Ue(e);var o=Ye(e,n,t,!1,!1);return n=null!=r?r:new n,e=Ge(e,t,2,!1),void 0!=a?(o.splice(a,0,n),e.splice(a,0,n.o)):(o.push(n),e.push(n.o)),n.C()&&Ae(e,8),n}function Ze(e,t){return null==e?t:e}function et(e,t,n){return n=void 0===n?0:n,Ze($e(e,t),n)}function tt(e,t,n,r){if(null!=e){if(Array.isArray(e))e=nt(e,t,n,void 0!==r);else if(Fe(e)){var a,o={};for(a in e)o[a]=tt(e[a],t,n,r);e=o}else e=t(e,r);return e}}function nt(e,t,n,r){var a=Ce(e);r=r?!!(16&a):void 0,e=Array.prototype.slice.call(e);for(var o=0;o<e.length;o++)e[o]=tt(e[o],t,n,r);return n(a,e),e}function rt(e){return e.ja===Le?e.toJSON():function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(0!==(128&Ce(e)))return Ve(e=Array.prototype.slice.call(e)),e}else{if(R&&null!=e&&e instanceof Uint8Array)return L(e);if(e instanceof ce){var t=e.V;return null==t?"":"string"===typeof t?t:e.V=L(t)}}}return e}(e)}function at(e,t){128&e&&Ve(t)}function ot(e,t,n){if(n=void 0===n?Pe:n,null!=e){if(R&&e instanceof Uint8Array)return e.length?new ce(new Uint8Array(e),V):fe();if(Array.isArray(e)){var r=Ce(e);return 2&r?e:!t||32&r||!(16&r||0===r)?(4&(t=Ce(e=nt(e,ot,4&r?Pe:n,!0)))&&2&t&&Object.freeze(e),e):(Me(e,2|r),e)}return e.ja===Le?st(e):e}}function it(e,t,n,r,a,o,i){if(e=e.h&&e.h[n]){if(2&(r=Ce(e))?r=e:(Pe(r,o=O(e,st)),Object.freeze(o),r=o),Ue(t),i=null==r?ze:De([]),null!=r){for(o=!!r.length,e=0;e<r.length;e++){var s=r[e];o=o&&!(2&Ce(s.o)),i[e]=s.o}o=1|(o?8:0),((e=Ce(i))&o)!==o&&(Object.isFrozen(i)&&(i=Array.prototype.slice.call(i)),Me(i,e|o)),t.h||(t.h={}),t.h[n]=r}else t.h&&(t.h[n]=void 0);qe(t,n,i,a)}else Ke(t,n,ot(r,o,i),a)}function st(e){return 2&Ce(e.o)||Oe((e=ut(e,!0)).o,2),e}function ut(e,t){var n=e.o,r=[];Oe(r,16);var a=e.constructor.h;if(a&&r.push(a),a=e.B){r.length=n.length,r.fill(void 0,r.length,n.length);var o={};r[r.length-1]=o}0!==(128&Ce(n))&&Ve(r),t=t||e.C()?Pe:Re,o=e.constructor,Be=r,r=new o(r),Be=void 0,e.R&&(r.R=e.R.slice()),o=!!(16&Ce(n));for(var i=a?n.length-1:n.length,s=0;s<i;s++)it(e,r,s-e.G,n[s],!1,o,t);if(a)for(var u in a)it(e,r,+u,a[u],!0,o,t);return r}function lt(e,t,n){null==e&&(e=Be),Be=void 0;var r,a=this.constructor.i||0,o=0<a,i=this.constructor.h,s=!1;if(null==e){var u=48,l=!0;o&&(a=0,u|=128),Me(e=i?[i]:[],u)}else{if(!Array.isArray(e))throw Error();if(i&&i!==e[0])throw Error();var c=u=Oe(e,0);if((l=0!==(16&c))&&((s=0!==(32&c))||(c|=32)),o){if(128&c)a=0;else if(0<e.length){var f=e[e.length-1];if(Fe(f)&&"g"in f){a=0,c|=128,delete f.g;var p,d=!0;for(p in f){d=!1;break}d&&e.pop()}}}else if(128&c)throw Error();u!==c&&Me(e,c)}if(this.G=(i?0:-1)-a,this.h=void 0,this.o=e,a=(i=this.o.length)-1,i&&Fe(i=this.o[a])?(this.B=i,this.i=a-this.G):void 0!==t&&-1<t?(this.i=Math.max(t,a+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE,!o&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(t=l&&!s&&!0,o=this.i,l=0;l<n.length;l++)(s=n[l])<o?(a=e[s+=this.G])?ct(a,t):e[s]=ze:(r||(r=He(this)),(a=r[s])?ct(a,t):r[s]=ze)}function ct(e,t){if(Array.isArray(e)){var n=Ce(e),r=1;!t||2&n||(r|=16),(n&r)!==r&&Me(e,n|r)}}function ft(e,t,n){if(n){var r,a={};for(r in n){var o=n[r],i=o.qa;i||(a.J=o.wa||o.oa.W,o.ia?(a.aa=bt(o.ia),i=function(e){return function(t,n,r){return e.J(t,n,r,e.aa)}}(a)):o.ka?(a.Z=wt(o.da.P,o.ka),i=function(e){return function(t,n,r){return e.J(t,n,r,e.Z)}}(a)):i=a.J,o.qa=i),i(t,e,o.da),a={J:a.J,aa:a.aa,Z:a.Z}}}!function(e,t){if(t=t.R){_e(e,e.h.end());for(var n=0;n<t.length;n++)_e(e,pe(t[n])||U())}}(t,e)}Me(je,23),ze=Object.freeze(je),lt.prototype.toJSON=function(){return nt(this.o,rt,at)},lt.prototype.C=function(){return!!(2&Ce(this.o))},lt.prototype.ja=Le,lt.prototype.toString=function(){return this.o.toString()};var pt=Symbol();function dt(e,t,n){return e[pt]||(e[pt]=function(e,r){return t(e,r,n)})}function ht(e){var t=e[pt];if(!t){var n=Mt(e);t=function(e,t){return Dt(e,t,n)},e[pt]=t}return t}function mt(e){var t=function(e){var t=e.ia;return t?ht(t):(t=e.va)?dt(e.da.P,t,e.ka):void 0}(e),n=e.da,r=e.oa.U;return t?function(e,a){return r(e,a,n,t)}:function(e,t){return r(e,t,n)}}function vt(e,t){var n=e[t];return"function"==typeof n&&0===n.length&&(n=n(),e[t]=n),Array.isArray(n)&&(_t in n||kt in n||0<n.length&&"function"==typeof n[0])?n:void 0}function yt(e,t,n,r,a,o){t.P=e[0];var i=1;if(e.length>i&&"number"!==typeof e[i]){var s=e[i++];n(t,s)}for(;i<e.length;){n=e[i++];for(var u=i+1;u<e.length&&"number"!==typeof e[u];)u++;switch(s=e[i++],u-=i){case 0:r(t,n,s);break;case 1:(u=vt(e,i))?(i++,a(t,n,s,u)):r(t,n,s,e[i++]);break;case 2:a(t,n,s,u=vt(e,u=i++),e[i++]);break;case 3:o(t,n,s,e[i++],e[i++],e[i++]);break;case 4:o(t,n,s,e[i++],e[i++],e[i++],e[i++]);break;default:throw Error("unexpected number of binary field arguments: "+u)}}return t}var gt=Symbol();function bt(e){var t=e[gt];if(!t){var n=Et(e);t=function(e,t){return Rt(e,t,n)},e[gt]=t}return t}function wt(e,t){var n=e[gt];return n||(n=function(e,n){return ft(e,n,t)},e[gt]=n),n}var kt=Symbol();function xt(e,t){e.push(t)}function St(e,t,n){e.push(t,n.W)}function Nt(e,t,n,r){var a=bt(r),o=Et(r).P,i=n.W;e.push(t,(function(e,t,n){return i(e,t,n,o,a)}))}function Tt(e,t,n,r,a,o){var i=wt(r,o),s=n.W;e.push(t,(function(e,t,n){return s(e,t,n,r,i)}))}function Et(e){var t=e[kt];return t||(t=yt(e,e[kt]=[],xt,St,Nt,Tt),_t in e&&kt in e&&(e.length=0),t)}var _t=Symbol();function It(e,t){e[0]=t}function Ot(e,t,n,r){var a=n.U;e[t]=r?function(e,t,n){return a(e,t,n,r)}:a}function At(e,t,n,r,a){var o=n.U,i=ht(r),s=Mt(r).P;e[t]=function(e,t,n){return o(e,t,n,s,i,a)}}function Ct(e,t,n,r,a,o,i){var s=n.U,u=dt(r,a,o);e[t]=function(e,t,n){return s(e,t,n,r,u,i)}}function Mt(e){var t=e[_t];return t||(t=yt(e,e[_t]={},It,Ot,At,Ct),_t in e&&kt in e&&(e.length=0),t)}function Dt(e,t,n){for(;Se(t)&&4!=t.i;){var r=t.l,a=n[r];if(!a){var o=n[0];o&&(o=o[r])&&(a=n[r]=mt(o))}if(!a||!a(t,e,r)){r=e,o=(a=t).j,Ne(a);var i=a;if(!i.ca){if(a=i.h.h-o,i.h.h=o,i=i.h,0==a)a=fe();else{if(o=ye(i,a),i.S&&i.m)a=i.i.subarray(o,o+a);else{i=i.i;var s=o;a=s===(a=o+a)?U():H?i.slice(s,a):new Uint8Array(i.subarray(s,a))}a=0==a.length?fe():new ce(a,V)}(o=r.R)?o.push(a):r.R=[a]}}}return e}function Rt(e,t,n){for(var r=n.length,a=1==r%2,o=a?1:0;o<r;o+=2)(0,n[o+1])(t,e,n[o]);ft(e,t,a?n[0]:void 0)}function Pt(e,t){return{U:e,W:t}}var Lt=Pt((function(e,t,n){if(5!==e.i)return!1;var r=(e=e.h).i,a=e.h,o=r[a],i=r[a+1],s=r[a+2];return r=r[a+3],me(e,e.h+4),e=2*((i=(o<<0|i<<8|s<<16|r<<24)>>>0)>>31)+1,o=i>>>23&255,i&=8388607,Ke(t,n,255==o?i?NaN:1/0*e:0==o?e*Math.pow(2,-149)*i:e*Math.pow(2,o-150)*(i+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=$e(t,n))){ke(e.h,8*n+5),e=e.h;var r=+t;0===r?0<1/r?W=K=0:(K=0,W=2147483648):isNaN(r)?(K=0,W=2147483647):34028234663852886e22<(r=(n=0>r?-2147483648:0)?-r:r)?(K=0,W=(2139095040|n)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),K=0,W=(n|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,K=0,W=(n|t+127<<23|8388607&r)>>>0),n=W,e.h.push(n>>>0&255),e.h.push(n>>>8&255),e.h.push(n>>>16&255),e.h.push(n>>>24&255)}})),Ft=Pt((function(e,t,n){if(0!==e.i)return!1;var r=e.h,a=0,o=e=0,i=r.i,s=r.h;do{var u=i[s++];a|=(127&u)<<o,o+=7}while(32>o&&128&u);for(32<o&&(e|=(127&u)>>4),o=3;32>o&&128&u;o+=7)e|=(127&(u=i[s++]))<<o;if(me(r,s),!(128>u))throw Z();return r=a>>>0,(e=2147483648&(u=e>>>0))&&(u=~u>>>0,0==(r=1+~r>>>0)&&(u=u+1>>>0)),r=4294967296*u+(r>>>0),Ke(t,n,e?-r:r),!0}),(function(e,t,n){null!=(t=We(t,n))&&("string"===typeof t&&X(t),null!=t&&(ke(e.h,8*n),"number"===typeof t?(e=e.h,q(t),we(e,W,K)):(n=X(t),we(e.h,n.i,n.h))))})),zt=Pt((function(e,t,n){return 0===e.i&&(Ke(t,n,ve(e.h)),!0)}),(function(e,t,n){if(null!=(t=We(t,n))&&null!=t)if(ke(e.h,8*n),e=e.h,0<=(n=t))ke(e,n);else{for(t=0;9>t;t++)e.h.push(127&n|128),n>>=7;e.h.push(1)}})),Bt=Pt((function(e,t,n){if(2!==e.i)return!1;var r=ve(e.h)>>>0,a=ye(e=e.h,r);if(e=e.i,se){var o,i=e;(o=re)||(o=re=new TextDecoder("utf-8",{fatal:!0})),e=a+r,i=0===a&&e===i.length?i:i.subarray(a,e);try{var s=o.decode(i)}catch(f){if(void 0===ie){try{o.decode(new Uint8Array([128]))}catch(p){}try{o.decode(new Uint8Array([97])),ie=!0}catch(p){ie=!1}}throw!ie&&(re=void 0),f}}else{r=(s=a)+r,a=[];for(var u,l,c=null;s<r;)128>(u=e[s++])?a.push(u):224>u?s>=r?te():(l=e[s++],194>u||128!==(192&l)?(s--,te()):a.push((31&u)<<6|63&l)):240>u?s>=r-1?te():128!==(192&(l=e[s++]))||224===u&&160>l||237===u&&160<=l||128!==(192&(i=e[s++]))?(s--,te()):a.push((15&u)<<12|(63&l)<<6|63&i):244>=u?s>=r-2?te():128!==(192&(l=e[s++]))||0!==l-144+(u<<28)>>30||128!==(192&(i=e[s++]))||128!==(192&(o=e[s++]))?(s--,te()):(u=(7&u)<<18|(63&l)<<12|(63&i)<<6|63&o,u-=65536,a.push(55296+(u>>10&1023),56320+(1023&u))):te(),8192<=a.length&&(c=ne(c,a),a.length=0);s=ne(c,a)}return Ke(t,n,s),!0}),(function(e,t,n){if(null!=(t=We(t,n))){var r=!1;if(r=void 0!==r&&r,ue){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(ae||(ae=new TextEncoder)).encode(t)}else{for(var a=0,o=new Uint8Array(3*t.length),i=0;i<t.length;i++){var s=t.charCodeAt(i);if(128>s)o[a++]=s;else{if(2048>s)o[a++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&i<t.length){var u=t.charCodeAt(++i);if(56320<=u&&57343>=u){s=1024*(s-55296)+u-56320+65536,o[a++]=s>>18|240,o[a++]=s>>12&63|128,o[a++]=s>>6&63|128,o[a++]=63&s|128;continue}i--}if(r)throw Error("Found an unpaired surrogate");s=65533}o[a++]=s>>12|224,o[a++]=s>>6&63|128}o[a++]=63&s|128}}t=a===o.length?o:o.subarray(0,a)}ke(e.h,8*n+2),ke(e.h,t.length),_e(e,e.h.end()),_e(e,t)}})),jt=Pt((function(e,t,n,r,a){if(2!==e.i)return!1;t=Je(t,n,r),n=e.h.j,r=ve(e.h)>>>0;var o=e.h.h+r,i=o-n;if(0>=i&&(e.h.j=o,a(t,e,void 0,void 0,void 0),i=o-e.h.h),i)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=o,e.h.j=n,!0}),(function(e,t,n,r,a){if(null!=(t=Qe(t,r,n)))for(r=0;r<t.length;r++){var o=e;ke(o.h,8*n+2);var i=o.h.end();_e(o,i),i.push(o.i),o=i,a(t[r],e),i=e;var s=o.pop();for(s=i.i+i.h.length()-s;127<s;)o.push(127&s|128),s>>>=7,i.i++;o.push(s),i.i++}}));function Ut(e){return function(t,n){e:{if(Te.length){var r=Te.pop();r.setOptions(n),he(r.h,t,n),t=r}else t=new xe(t,n);try{var a=Mt(e),o=Dt(new a.P,t,a);break e}finally{(a=t.h).i=null,a.m=!1,a.l=0,a.j=0,a.h=0,a.S=!1,t.l=-1,t.i=-1,100>Te.length&&Te.push(t)}o=void 0}return o}}function Vt(e){return function(){var t=new Ee;Rt(this,t,Et(e)),_e(t,t.h.end());for(var n=new Uint8Array(t.i),r=t.j,a=r.length,o=0,i=0;i<a;i++){var s=r[i];n.set(s,o),o+=s.length}return t.j=[n],n}}function Ht(e){lt.call(this,e)}m(Ht,lt);var Wt=[Ht,1,zt,2,Lt,3,Bt,4,Bt];function Kt(e){lt.call(this,e,-1,qt)}Ht.prototype.l=Vt(Wt),m(Kt,lt),Kt.prototype.addClassification=function(e,t){return Je(this,1,Ht,e,t),this};var qt=[1],Gt=Ut([Kt,1,jt,Wt]);function $t(e){lt.call(this,e)}m($t,lt);var Yt=[$t,1,Lt,2,Lt,3,Lt,4,Lt,5,Lt];function Qt(e){lt.call(this,e,-1,Xt)}$t.prototype.l=Vt(Yt),m(Qt,lt);var Xt=[1],Jt=Ut([Qt,1,jt,Yt]);function Zt(e){lt.call(this,e)}m(Zt,lt);var en=[Zt,1,Lt,2,Lt,3,Lt,4,Lt,5,Lt,6,Ft],tn=Ut(en);function nn(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function rn(e){return Qe(e,Ht,1).map((function(e){var t=We(e,1);return{index:null==t?0:t,score:et(e,2),label:null!=We(e,3)?Ze(We(e,3),""):void 0,displayName:null!=We(e,4)?Ze(We(e,4),""):void 0}}))}function an(e){return{x:et(e,1),y:et(e,2),z:et(e,3),visibility:null!=$e(e,4)?et(e,4):void 0}}function on(e){return e.map((function(e){return Qe(Jt(e),$t,1).map(an)}))}function sn(e,t){this.i=e,this.h=t,this.m=0}function un(e,t,n){return function(e,t){var n=e.h;if(void 0===e.s){var r=nn(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),a=nn(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.s=o,n.useProgram(r),a=n.getUniformLocation(r,"sampler0"),e.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),xa:a},e.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.enableVertexAttribArray(e.l.O),n.vertexAttribPointer(e.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.l.N),n.vertexAttribPointer(e.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(a,0)}r=e.l,n.useProgram(e.s),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.i.bindTexture2d(t.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"===typeof e.h.canvas.transferToImageBitmap?Promise.resolve(e.h.canvas.transferToImageBitmap()):n?Promise.resolve(e.h.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise((function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)})))}function ln(e){this.h=e}Zt.prototype.l=Vt(en);var cn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function fn(e,t){return t+e}function pn(e,t){window[e]=t}function dn(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||fn,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.ha=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.l[n]="function"===typeof r?r():r)}}function hn(e){var t,n,r,a,o,i,s,l,c,f,p;return N((function(d){switch(d.h){case 1:return e.ga?(t=void 0===e.h.files?[]:"function"===typeof e.h.files?e.h.files(e.l):e.h.files,b(d,N((function(e){switch(e.h){case 1:return e.s=2,b(e,WebAssembly.instantiate(cn),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}})),2)):d.return();case 2:if(n=d.i,"object"===typeof window)return pn("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),pn("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter((function(e){return void 0!==e.data})),s=t.filter((function(e){return void 0===e.data})),l=Promise.all(i.map((function(t){var n=mn(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then((function(t){return e.overrideFile(r,t),Promise.resolve(t)}))}return n}))),c=Promise.all(s.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.ha)):Promise.resolve()}))).then((function(){var t,n,r;return N((function(a){if(1==a.h)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,b(a,t(n),2);r.i=a.i,a.h=0}))})),f=N((function(t){return e.h.graph&&e.h.graph.url?t=b(t,mn(e,e.h.graph.url),0):(t.h=0,t=void 0),t})),b(d,Promise.all([c,l,f]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.ha)})),importScripts.apply(null,u(r)),a=e,b(d,createMediapipeSolutionsWasm(Module),6);case 6:a.i=d.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,o=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,ua:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(o),d.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(p=e.m.getContext("webgl2",{}))&&!(p=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),d.return();e.K=p,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,d.h=0}}))}function mn(e,t){var n,r;return N((function(a){return t in e.L?a.return(e.L[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.L[t]=r,a.return(r))}))}function vn(e,t,n){var r,a,o,i,u,l,c,f,p,d,h,m,v,y;return N((function(g){switch(g.h){case 1:if(!n)return g.return(t);for(r={},a=0,o=s(Object.keys(n)),i=o.next();!i.done;i=o.next())u=i.value,"string"!==typeof(l=n[u])&&"texture"===l.type&&void 0!==t[l.stream]&&++a;1<a&&(e.M=!1),c=s(Object.keys(n)),i=c.next();case 2:if(i.done){g.h=4;break}if(f=i.value,"string"===typeof(p=n[f]))return v=r,y=f,b(g,function(e,t,n){var r;return N((function(a){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.i.Uint8BlobList?a.return(n):n instanceof e.i.Texture2dDataOut?((r=e.v[t])||(r=new sn(e.i,e.K),e.v[t]=r),a.return(un(r,n,e.M))):a.return(void 0)}))}(e,f,t[p]),14);if(d=t[p.stream],"detection_list"===p.type){if(d){for(var w=d.getRectList(),k=d.getLandmarksList(),x=d.getClassificationsList(),S=[],T=0;T<w.size();++T){var E=tn(w.get(T)),_=void 0;_=void 0===_?0:_,E={la:{ra:et(E,1),sa:et(E,2),height:et(E,3),width:et(E,4),rotation:et(E,5,0),pa:Ze(We(E,6),_)},ea:Qe(Jt(k.get(T)),$t,1).map(an),ba:rn(Gt(x.get(T)))},S.push(E)}w=S}else w=[];r[f]=w,g.h=7;break}if("proto_list"===p.type){if(d){for(w=Array(d.size()),k=0;k<d.size();k++)w[k]=d.get(k);d.delete()}else w=[];r[f]=w,g.h=7;break}if(void 0===d){g.h=3;break}if("float_list"===p.type){r[f]=d,g.h=7;break}if("proto"===p.type){r[f]=d,g.h=7;break}if("texture"!==p.type)throw Error("Unknown output config type: '"+p.type+"'");return(h=e.v[f])||(h=new sn(e.i,e.K),e.v[f]=h),b(g,un(h,d,e.M),13);case 13:m=g.i,r[f]=m;case 7:p.transform&&r[f]&&(r[f]=p.transform(r[f])),g.h=3;break;case 14:v[y]=g.i;case 3:i=c.next(),g.h=2;break;case 4:return g.return(r)}}))}function yn(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),a=new e.i.StringList,o=s(t.wants),i=o.next();!i.done;i=o.next())a.push_back(i.value);o=e.i.PacketListener.implement({onResults:function(a){for(var o={},i=0;i<t.wants.length;++i)o[r[i]]=a.get(i);var s=e.listeners[n];s&&(e.I=vn(e,o,t.outs).then((function(n){n=s(n);for(var a=0;a<t.wants.length;++a){var i=o[r[a]];"object"===typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}n&&(e.I=n)})))}}),e.j.attachMultiListener(a,o),a.delete()}function gn(e){return void 0===e&&(e=0),1===e?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function bn(e){var t=this;e=e||{},this.h=new dn({locateFile:e.locateFile,files:function(e){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:gn(e.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:on},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:on},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(e){return e.map((function(e){return rn(Gt(e))[0]}))}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,a;return N((function(o){return 1==o.h?(n=gn(e),r="third_party/mediapipe/modules/hand_landmark/"+n,b(o,mn(t.h,n),2)):(a=o.i,t.h.overrideFile(r,a),o.return(!0))}))}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}(e=dn.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},e.reset=function(){var e=this;return N((function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.h.options){for(var r=[],a=[],o={},i=s(Object.keys(e)),u=i.next();!u.done;o={X:o.X,Y:o.Y},u=i.next())if(!((u=u.value)in this.l)||this.l[u]!==e[u]){this.l[u]=e[u];var l=t[u];void 0!==l&&(l.onChange&&(o.X=l.onChange,o.Y=e[u],r.push(function(e){return function(){return N((function(t){if(1==t.h)return b(t,e.X(e.Y),2);!0===t.i&&(n.u=!0),t.h=0}))}}(o))),l.graphOptionXref&&(u=Object.assign({},{calculatorName:"",calculatorIndex:0},l.graphOptionXref,{valueNumber:1===l.type?e[u]:0,valueBoolean:0===l.type&&e[u],valueString:2===l.type?e[u]:""}),a.push(u)))}0===r.length&&0===a.length||(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(a),this.F=(void 0===this.F?[]:this.F).concat(r))}},e.initialize=function(){var e=this;return N((function(t){return 1==t.h?b(t,hn(e),2):3!=t.h?b(t,function(e){var t,n,r,a,o,i,u,l;return N((function(c){if(1==c.h)return e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url?c.return():(e.u=!0,e.h.graph&&e.h.graph.url?(e.fa=e.h.graph.url,b(c,mn(e,e.h.graph.url),3)):void(c.h=2));for(2!=c.h&&(t=c.i,e.j.loadGraph(t)),n=s(Object.keys(e.D)),r=n.next();!r.done;r=n.next())a=r.value,e.j.overrideFile(a,e.D[a]);if(e.D={},e.h.listeners)for(o=s(e.h.listeners),i=o.next();!i.done;i=o.next())u=i.value,yn(e,u);l=e.l,e.l={},e.setOptions(l),c.h=0}))}(e),3):b(t,function(e){var t,n,r,a,o,i;return N((function(u){switch(u.h){case 1:if(!e.u)return u.return();if(!e.F){u.h=2;break}t=s(e.F),n=t.next();case 3:if(n.done){u.h=5;break}return b(u,(0,n.value)(),4);case 4:n=t.next(),u.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(r=new e.i.GraphOptionChangeRequestList,a=s(e.H),o=a.next();!o.done;o=a.next())i=o.value,r.push_back(i);e.j.changeOptions(r),r.delete(),e.H=void 0}e.u=!1,u.h=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(e,t){var n,r,a,o,i,u,l,c,f,p=this;return N((function(d){switch(d.h){case 1:return p.h.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),b(d,p.I,2)):d.return();case 2:return b(d,p.initialize(),3);case 3:for(r=new p.i.PacketDataList,a=s(Object.keys(e)),o=a.next();!o.done;o=a.next())if(i=o.value,u=p.h.inputs[i]){e:{var h=e[i];switch(u.type){case"video":var m=p.s[u.stream];if(m||(m=new sn(p.i,p.K),p.s[u.stream]=m),0===m.m&&(m.m=m.i.createTexture()),"undefined"!==typeof HTMLVideoElement&&h instanceof HTMLVideoElement)var v=h.videoWidth,y=h.videoHeight;else"undefined"!==typeof HTMLImageElement&&h instanceof HTMLImageElement?(v=h.naturalWidth,y=h.naturalHeight):(v=h.width,y=h.height);y={glName:m.m,width:v,height:y},(v=m.h).canvas.width=y.width,v.canvas.height=y.height,v.activeTexture(v.TEXTURE0),m.i.bindTexture2d(m.m),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,h),m.i.bindTexture2d(0),m=y;break e;case"detections":for((m=p.s[u.stream])||(m=new ln(p.i),p.s[u.stream]=m),m.data||(m.data=new m.h.DetectionListData),m.data.reset(h.length),y=0;y<h.length;++y){v=h[y];var g=m.data,w=g.setBoundingBox,k=y,x=v.la,S=new Zt;if(Xe(S,1,x.ra),Xe(S,2,x.sa),Xe(S,3,x.height),Xe(S,4,x.width),Xe(S,5,x.rotation),Ke(S,6,x.pa),x=S.l(),w.call(g,k,x),v.ea)for(g=0;g<v.ea.length;++g){S=v.ea[g],k=(w=m.data).addNormalizedLandmark,x=y,S=Object.assign({},S,{visibility:S.visibility?S.visibility:0});var N=new $t;Xe(N,1,S.x),Xe(N,2,S.y),Xe(N,3,S.z),S.visibility&&Xe(N,4,S.visibility),S=N.l(),k.call(w,x,S)}if(v.ba)for(g=0;g<v.ba.length;++g)k=(w=m.data).addClassification,x=y,S=v.ba[g],Xe(N=new Ht,2,S.score),S.index&&Ke(N,1,S.index),S.label&&Ke(N,3,S.label),S.displayName&&Ke(N,4,S.displayName),S=N.l(),k.call(w,x,S)}m=m.data;break e;default:m={}}}switch(l=m,c=u.stream,u.type){case"video":r.pushTexture2d(Object.assign({},l,{stream:c,timestamp:n}));break;case"detections":(f=l).stream=c,f.timestamp=n,r.pushDetectionList(f);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return p.j.send(r),b(d,p.I,4);case 4:r.delete(),d.h=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},_("Solution",dn),_("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=bn.prototype).close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(e){this.h.onResults(e)},e.initialize=function(){var e=this;return N((function(t){return b(t,e.h.initialize(),0)}))},e.reset=function(){this.h.reset()},e.send=function(e){var t=this;return N((function(n){return b(n,t.h.send(e),0)}))},e.setOptions=function(e){this.h.setOptions(e)},_("Hands",bn),_("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),_("VERSION","0.4.1675469240")}).call(this)},987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:v;if(t){if(e<0)return y;if(e>=d)return x}else{if(e<=-h)return S;if(e+1>=h)return k}return e<0?s(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=u;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=s(l(n,8)),o=v,i=0;i<e.length;i+=8){var u=Math.min(8,e.length-i),f=parseInt(e.substring(i,i+u),n);if(u<8){var p=s(l(n,u));o=o.mul(p).add(s(f))}else o=(o=o.mul(a)).add(s(f))}return o.unsigned=t,o}function f(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=f;var p=4294967296,d=p*p,h=d/2,m=i(1<<24),v=i(0);n.ZERO=v;var y=i(0,!0);n.UZERO=y;var g=i(1);n.ONE=g;var b=i(1,!0);n.UONE=b;var w=i(-1);n.NEG_ONE=w;var k=u(-1,2147483647,!1);n.MAX_VALUE=k;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var N=n.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},N.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(l(e,6),this.unsigned),o=this,i="";;){var u=o.div(a),c=(o.sub(u.mul(a)).toInt()>>>0).toString(e);if((o=u).isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},N.isZero=function(){return 0===this.high&&0===this.low},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return 1===(1&this.low)},N.isEven=function(){return 0===(1&this.low)},N.equals=function(e){return r(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},N.eq=N.equals,N.notEquals=function(e){return!this.eq(e)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(e){return this.comp(e)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(e){return this.comp(e)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(e){return this.comp(e)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(e){return this.comp(e)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(e){if(r(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(g)},N.neg=N.negate,N.add=function(e){r(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,p=0,d=0,h=0;return d+=(h+=o+(65535&e.low))>>>16,p+=(d+=a+l)>>>16,c+=(p+=n+s)>>>16,c+=t+i,u((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},N.subtract=function(e){return r(e)||(e=f(e)),this.add(e.neg())},N.sub=N.subtract,N.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=f(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(S))return e.isOdd()?S:v;if(e.eq(S))return this.isOdd()?S:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,i=65535&this.low,l=e.high>>>16,c=65535&e.high,p=e.low>>>16,d=65535&e.low,h=0,y=0,g=0,b=0;return g+=(b+=i*d)>>>16,y+=(g+=o*d)>>>16,g&=65535,y+=(g+=i*p)>>>16,h+=(y+=a*d)>>>16,y&=65535,h+=(y+=o*p)>>>16,y&=65535,h+=(y+=i*c)>>>16,h+=n*d+a*p+o*c+i*l,u((g&=65535)<<16|(b&=65535),(h&=65535)<<16|(y&=65535),this.unsigned)},N.mul=N.multiply,N.divide=function(e){if(r(e)||(e=f(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;o=y}else{if(this.eq(S))return e.eq(g)||e.eq(w)?S:e.eq(S)?g:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?g:w:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(S))return this.unsigned?y:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),c=i<=48?1:l(2,i-48),p=s(n),d=p.mul(e);d.isNegative()||d.gt(a);)d=(p=s(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=g),o=o.add(p),a=a.sub(d)}return o},N.div=N.divide,N.modulo=function(e){return r(e)||(e=f(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return u(~this.low,~this.high,this.unsigned)},N.and=function(e){return r(e)||(e=f(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},N.or=function(e){return r(e)||(e=f(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},N.xor=function(e){return r(e)||(e=f(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},N.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},N.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},N.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},463:function(e,t,n){"use strict";var r=n(791),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(h,e)||!f.call(d,e)&&(p.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function j(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var a=l.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var u="\n"+a[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case T:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ne=null;function Te(e){if(e=ba(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=ka(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Oe(){}var Ae=!1;function Ce(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ne)&&(Oe(),_e())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=ka(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Pe(e,t,n,r,a,o,i,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Fe=null,ze=!1,Be=null,je={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,a,o,i,s,u){Le=!1,Fe=null,Pe.apply(je,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=ft(s):0!==(o&=i)&&(r=ft(o))}else 0!==(i=n&~a)?r=ft(i):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,Nt,Tt,Et=!1,_t=[],It=null,Ot=null,At=null,Ct=new Map,Mt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ga(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function jt(){Et=!1,null!==It&&zt(It)&&(It=null),null!==Ot&&zt(Ot)&&(Ot=null),null!==At&&zt(At)&&(At=null),Ct.forEach(Bt),Mt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Ot&&Ut(Ot,e),null!==At&&Ut(At,e),Ct.forEach(t),Mt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function qt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function Gt(e,t,n,r){if(Wt){var a=Yt(e,t,n,r);if(null===a)Wr(e,t,r,$t,n),Pt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Lt(It,e,t,n,r,a),!0;case"dragenter":return Ot=Lt(Ot,e,t,n,r,a),!0;case"mouseover":return At=Lt(At,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ct.set(o,Lt(Ct.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Mt.set(o,Lt(Mt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&kt(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,$t,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=ga(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),pn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(dn),mn=an(F({},dn,{dataTransfer:0})),vn=an(F({},fn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),wn=an(F({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Nn}var En=F({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(En),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Cn),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Pn,Fn=c&&(!Rn||Pn&&8<Pn&&11>=Pn),zn=String.fromCharCode(32),Bn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function $n(e){zr(e,0)}function Yn(e){if(G(wa(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Kn(t,Gn,e,ke(e)),Ce($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!f.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==$(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Nr={};function Tr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Tr("animationend"),_r=Tr("animationiteration"),Ir=Tr("animationstart"),Or=Tr("transitionend"),Ar=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ar.set(e,t),u(t,[e])}for(var Dr=0;Dr<Cr.length;Dr++){var Rr=Cr[Dr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(_r,"onAnimationIteration"),Mr(Ir,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,u,l){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Fe;Le=!1,Fe=null,ze||(ze=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&a.isPropagationStopped())break e;Fr(a,s,l),o=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,l=s.currentTarget,s=s.listener,u!==o&&a.isPropagationStopped())break e;Fr(a,s,l),o=u}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=Kt;break;case 4:a=qt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ga(s)))return;if(5===(u=i.tag)||6===u){r=o=i;continue e}s=s.parentNode}}r=r.return}Ce((function(){var r=o,a=ke(n),i=[];e:{var s=Ar.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Er:case _r:case Ir:u=yn;break;case Or:u=An;break;case"scroll":u=pn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var d,h=r;null!==h;){var m=(d=h).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==p&&(null!=(m=Me(h,p))&&c.push(Kr(h,m,d)))),f)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!ga(l)&&!l[ha])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ga(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==u?s:wa(u),d=null==l?s:wa(l),(s=new c(m,h+"leave",u,n,a)).target=f,s.relatedTarget=d,m=null,ga(a)===r&&((c=new c(p,h+"enter",l,n,a)).target=d,c.relatedTarget=f,m=c),f=m,u&&l)e:{for(p=l,h=0,d=c=u;d;d=Gr(d))h++;for(d=0,m=p;m;m=Gr(m))d++;for(;0<h-d;)c=Gr(c),h--;for(;0<d-h;)p=Gr(p),d--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Gr(c),p=Gr(p)}c=null}else c=null;null!==u&&$r(i,s,u,c,!1),null!==l&&null!==f&&$r(i,f,l,c,!0)}if("select"===(u=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Qn;else if(Wn(s))if(Xn)v=ir;else{v=ar;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Kn(i,v,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wa(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(vr=y,yr=r,gr=null);break;case"focusout":gr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(g=en()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,Vn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:y}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=g))}zr(i,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Me(e,n))&&r.unshift(Kr(e,o,a)),null!=(o=Me(e,t))&&r.push(Kr(e,o,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,a?null!=(u=Me(n,o))&&i.unshift(Kr(n,u,s)):a||null!=(u=Me(n,o))&&i.push(Kr(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),pa="__reactFiber$"+fa,da="__reactProps$"+fa,ha="__reactContainer$"+fa,ma="__reactEvents$"+fa,va="__reactListeners$"+fa,ya="__reactHandles$"+fa;function ga(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ka(e){return e[da]||null}var xa=[],Sa=-1;function Na(e){return{current:e}}function Ta(e){0>Sa||(e.current=xa[Sa],xa[Sa]=null,Sa--)}function Ea(e,t){Sa++,xa[Sa]=e.current,e.current=t}var _a={},Ia=Na(_a),Oa=Na(!1),Aa=_a;function Ca(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){Ta(Oa),Ta(Ia)}function Ra(e,t,n){if(Ia.current!==_a)throw Error(o(168));Ea(Ia,t),Ea(Oa,n)}function Pa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,H(e)||"Unknown",a));return F({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Aa=Ia.current,Ea(Ia,e),Ea(Oa,Oa.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pa(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ta(Oa),Ta(Ia),Ea(Ia,e)):Ta(Oa),Ea(Oa,n)}var za=null,Ba=!1,ja=!1;function Ua(e){null===za?za=[e]:za.push(e)}function Va(){if(!ja&&null!==za){ja=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ba=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ge(Ze,Va),a}finally{bt=t,ja=!1}}return null}var Ha=[],Wa=0,Ka=null,qa=0,Ga=[],$a=0,Ya=null,Qa=1,Xa="";function Ja(e,t){Ha[Wa++]=qa,Ha[Wa++]=Ka,Ka=e,qa=t}function Za(e,t,n){Ga[$a++]=Qa,Ga[$a++]=Xa,Ga[$a++]=Ya,Ya=e;var r=Qa;e=Xa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Xa=o+e}else Qa=1<<o|n<<a|r,Xa=e}function eo(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function to(e){for(;e===Ka;)Ka=Ha[--Wa],Ha[Wa]=null,qa=Ha[--Wa],Ha[Wa]=null;for(;e===Ya;)Ya=Ga[--$a],Ga[$a]=null,Xa=Ga[--$a],Ga[$a]=null,Qa=Ga[--$a],Ga[$a]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Qa,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=la(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw po(),Error(o(418));for(;t;)io(e,t),t=la(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=la(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?la(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=la(e.nextSibling)}function ho(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Na(null),bo=null,wo=null,ko=null;function xo(){ko=wo=bo=null}function So(e){var t=go.current;Ta(go),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var _o=null;function Io(e){null===_o?_o=[e]:_o.push(e)}function Oo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Co=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ou)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ao(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ao(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var a=e.updateQueue;Co=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var u=s,l=u.next;u.next=null,null===i?o=l:i.next=l,i=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var f=a.baseState;for(i=0,c=l=u=null,s=o;;){var p=s.lane,d=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,d=n,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(d,f,p);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(d,f,p):h)||void 0===p)break e;f=F({},f,p);break e;case 2:Co=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,i|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(u=f),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Fu|=i,e.lanes=i,e.memoizedState=f}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var jo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),a=nl(e),o=Ro(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,a))&&(rl(t,e,a,r),Lo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),a=nl(e),o=Ro(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,a))&&(rl(t,e,a,r),Lo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),a=Ro(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Po(e,a,r))&&(rl(t,e,r,n),Lo(t,e,r))}};function Ho(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,o))}function Wo(e,t,n){var r=!1,a=_a,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(a=Ma(t)?Aa:Ia.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ca(e,a):_a),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=jo,Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Eo(o):(o=Ma(t)?Aa:Ia.current,a.context=Ca(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Vo.enqueueReplaceState(a,a.state,null),zo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===jo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&Yo(o)===t.type)?((r=a(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case x:return(t=Bl(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Ll(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?l(e,t,n,r):null;case x:return n.key===a?c(e,t,n,r):null;case M:return d(e,t,(a=n._init)(n._payload),r)}if(te(n)||P(n))return null!==a?null:f(e,t,n,r,null);$o(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,a,null);$o(t,r)}return null}function m(a,o,s,u){for(var l=null,c=null,f=o,m=o=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=d(a,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(a,f),o=i(y,o,m),null===c?l=y:c.sibling=y,c=y,f=v}if(m===s.length)return n(a,f),ao&&Ja(a,m),l;if(null===f){for(;m<s.length;m++)null!==(f=p(a,s[m],u))&&(o=i(f,o,m),null===c?l=f:c.sibling=f,c=f);return ao&&Ja(a,m),l}for(f=r(a,f);m<s.length;m++)null!==(v=h(f,a,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=i(v,o,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(a,e)})),ao&&Ja(a,m),l}function v(a,s,u,l){var c=P(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=d(a,m,g.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,v),null===f?c=b:f.sibling=b,f=b,m=y}if(g.done)return n(a,m),ao&&Ja(a,v),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=p(a,g.value,l))&&(s=i(g,s,v),null===f?c=g:f.sibling=g,f=g);return ao&&Ja(a,v),c}for(m=r(a,m);!g.done;v++,g=u.next())null!==(g=h(m,a,v,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=i(g,s,v),null===f?c=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ja(a,v),c}return function e(r,o,i,u){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case k:e:{for(var l=i.key,c=o;null!==c;){if(c.key===l){if((l=i.type)===S){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&Yo(l)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=Go(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===S?((o=Ll(i.props.children,r.mode,u,i.key)).return=r,r=o):((u=Pl(i.type,i.key,i.props,null,r.mode,u)).ref=Go(r,o,i),u.return=r,r=u)}return s(r);case x:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bl(i,r.mode,u)).return=r,r=o}return s(r);case M:return e(r,o,(c=i._init)(i._payload),u)}if(te(i))return m(r,o,i,u);if(P(i))return v(r,o,i,u);$o(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=zl(i,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Qo(!0),Jo=Qo(!1),Zo={},ei=Na(Zo),ti=Na(Zo),ni=Na(Zo);function ri(e){if(e===Zo)throw Error(o(174));return e}function ai(e,t){switch(Ea(ni,t),Ea(ti,e),Ea(ei,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(ei),Ea(ei,t)}function oi(){Ta(ei),Ta(ti),Ta(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=ue(t,e.type);t!==n&&(Ea(ti,e),Ea(ei,n))}function si(e){ti.current===e&&(Ta(ei),Ta(ti))}var ui=Na(0);function li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function fi(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var pi=w.ReactCurrentDispatcher,di=w.ReactCurrentBatchConfig,hi=0,mi=null,vi=null,yi=null,gi=!1,bi=!1,wi=0,ki=0;function xi(){throw Error(o(321))}function Si(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ni(e,t,n,r,a,i){if(hi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?ss:us,e=n(r,a),bi){i=0;do{if(bi=!1,wi=0,25<=i)throw Error(o(301));i+=1,yi=vi=null,t.updateQueue=null,pi.current=ls,e=n(r,a)}while(bi)}if(pi.current=is,t=null!==vi&&null!==vi.next,hi=0,yi=vi=mi=null,gi=!1,t)throw Error(o(300));return e}function Ti(){var e=0!==wi;return wi=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?mi.memoizedState=yi=e:yi=yi.next=e,yi}function _i(){if(null===vi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=vi.next;var t=null===yi?mi.memoizedState:yi.next;if(null!==t)yi=t,vi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vi=e).memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},null===yi?mi.memoizedState=yi=e:yi=yi.next=e}return yi}function Ii(e,t){return"function"===typeof t?t(e):t}function Oi(e){var t=_i(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var u=s=null,l=null,c=i;do{var f=c.lane;if((hi&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=p,s=r):l=l.next=p,mi.lanes|=f,Fu|=f}c=c.next}while(null!==c&&c!==i);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Fu|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ai(e){var t=_i(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ci(){}function Mi(e,t){var n=mi,r=_i(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,ws=!0),r=r.queue,Wi(Pi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==yi&&1&yi.memoizedState.tag){if(n.flags|=2048,Bi(9,Ri.bind(null,n,r,a,t),void 0,null),null===Au)throw Error(o(349));0!==(30&hi)||Di(n,t,a)}return a}function Di(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ri(e,t,n,r){t.value=n,t.getSnapshot=r,Li(t)&&Fi(e)}function Pi(e,t,n){return n((function(){Li(t)&&Fi(e)}))}function Li(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fi(e){var t=Ao(e,1);null!==t&&rl(t,e,1,-1)}function zi(e){var t=Ei();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ji(){return _i().memoizedState}function Ui(e,t,n,r){var a=Ei();mi.flags|=e,a.memoizedState=Bi(1|t,n,void 0,void 0===r?null:r)}function Vi(e,t,n,r){var a=_i();r=void 0===r?null:r;var o=void 0;if(null!==vi){var i=vi.memoizedState;if(o=i.destroy,null!==r&&Si(r,i.deps))return void(a.memoizedState=Bi(t,n,o,r))}mi.flags|=e,a.memoizedState=Bi(1|t,n,o,r)}function Hi(e,t){return Ui(8390656,8,e,t)}function Wi(e,t){return Vi(2048,8,e,t)}function Ki(e,t){return Vi(4,2,e,t)}function qi(e,t){return Vi(4,4,e,t)}function Gi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $i(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vi(4,4,Gi.bind(null,t,e),n)}function Yi(){}function Qi(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ji(e,t,n){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=di.transition;di.transition={};try{e(!1),t()}finally{bt=n,di.transition=r}}function es(){return _i().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Oo(e,t,n,r))){rl(n,e,r,tl()),os(n,t,r)}}function ns(e,t,n){var r=nl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var u=t.interleaved;return null===u?(a.next=a,Io(t)):(a.next=u.next,u.next=a),void(t.interleaved=a)}}catch(l){}null!==(n=Oo(e,t,a,r))&&(rl(n,e,r,a=tl()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){bi=gi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var is={readContext:Eo,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ei().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Hi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ui(4194308,4,Gi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ei().memoizedState=e},useState:zi,useDebugValue:Yi,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=zi(!1),t=e[0];return e=Zi.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Ei();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Au)throw Error(o(349));0!==(30&hi)||Di(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Hi(Pi.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,Ri.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ei(),t=Au.identifierPrefix;if(ao){var n=Xa;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=wi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ki++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Eo,useCallback:Qi,useContext:Eo,useEffect:Wi,useImperativeHandle:$i,useInsertionEffect:Ki,useLayoutEffect:qi,useMemo:Xi,useReducer:Oi,useRef:ji,useState:function(){return Oi(Ii)},useDebugValue:Yi,useDeferredValue:function(e){return Ji(_i(),vi.memoizedState,e)},useTransition:function(){return[Oi(Ii)[0],_i().memoizedState]},useMutableSource:Ci,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1},ls={readContext:Eo,useCallback:Qi,useContext:Eo,useEffect:Wi,useImperativeHandle:$i,useInsertionEffect:Ki,useLayoutEffect:qi,useMemo:Xi,useReducer:Ai,useRef:ji,useState:function(){return Ai(Ii)},useDebugValue:Yi,useDeferredValue:function(e){var t=_i();return null===vi?t.memoizedState=e:Ji(t,vi.memoizedState,e)},useTransition:function(){return[Ai(Ii)[0],_i().memoizedState]},useMutableSource:Ci,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,qu=r),ps(0,t)},n}function ms(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var o=t.ref;return To(t,a),r=Ni(e,t,n,r,o,a),n=Ti(),null===e||ws?(ao&&n&&eo(t),t.flags|=1,ks(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Dl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ns(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)return Ks(e,t,a)}return t.flags|=1,(e=Rl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Ks(e,t,a);0!==(131072&e.flags)&&(ws=!0)}}return _s(e,t,n,r,a)}function Ts(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Ru,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Ru,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ea(Ru,Du),Du|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ea(Ru,Du),Du|=r;return ks(e,t,a,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,a){var o=Ma(n)?Aa:Ia.current;return o=Ca(t,o),To(t,a),n=Ni(e,t,n,r,o,a),r=Ti(),null===e||ws?(ao&&r&&eo(t),t.flags|=1,ks(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a))}function Is(e,t,n,r,a){if(Ma(n)){var o=!0;La(t)}else o=!1;if(To(t,a),null===t.stateNode)Ws(e,t),Wo(t,n,r),qo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=Eo(l):l=Ca(t,l=Ma(n)?Aa:Ia.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;f||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||u!==l)&&Ko(t,i,r,l),Co=!1;var p=t.memoizedState;i.state=p,zo(t,r,i,a),u=t.memoizedState,s!==r||p!==u||Oa.current||Co?("function"===typeof c&&(Uo(t,n,c,r),u=t.memoizedState),(s=Co||Ho(t,n,s,r,p,u,l))?(f||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Do(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:yo(t.type,s),i.props=l,f=t.pendingProps,p=i.context,"object"===typeof(u=n.contextType)&&null!==u?u=Eo(u):u=Ca(t,u=Ma(n)?Aa:Ia.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==f||p!==u)&&Ko(t,i,r,u),Co=!1,p=t.memoizedState,i.state=p,zo(t,r,i,a);var h=t.memoizedState;s!==f||p!==h||Oa.current||Co?("function"===typeof d&&(Uo(t,n,d,r),h=t.memoizedState),(l=Co||Ho(t,n,l,r,p,h,u)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=u,r=l):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,a)}function Os(e,t,n,r,a,o){Es(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Fa(t,n,!1),Ks(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ks(e,t,s,o),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),ai(e,t.containerInfo)}function Cs(e,t,n,r,a){return ho(),mo(a),t.flags|=256,ks(e,t,n,r),t.child}var Ms,Ds,Rs,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,a=t.pendingProps,i=ui.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(ui,1&i),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=a.children,e=a.fallback,s?(a=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,a,0,null),e=Ll(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):Bs(t,u));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Fl({mode:"visible",children:r.children},a,0,null),(i=Ll(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,i);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(i=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Au)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ao(e,a),rl(r,e,a,-1))}return vl(),js(e,t,s,r=fs(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=la(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ga[$a++]=Qa,Ga[$a++]=Xa,Ga[$a++]=Ya,Qa=e.id,Xa=e.overflow,Ya=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,a,r,i,n);if(s){s=a.fallback,u=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:a.children};return 0===(1&u)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null):(a=Rl(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Rl(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Rl(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Vs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Hs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=ui.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(ui,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===li(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===li(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ma(t.type)&&Da(),Gs(t),null;case 3:return r=t.stateNode,oi(),Ta(Oa),Ta(Ia),fi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Ds(e,t),Gs(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ri(ei.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pa]=t,r[da]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Pr.length;a++)Br(Pr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var u in ge(n,i),a=null,i)if(i.hasOwnProperty(u)){var l=i[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,l,e),a=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,l,e),a=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":q(r),Z(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[pa]=t,e[da]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Pr.length;a++)Br(Pr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":Q(e,r),a=Y(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in ge(n,a),l=a)if(l.hasOwnProperty(i)){var c=l[i];"style"===i?ve(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Br("scroll",e):null!=c&&b(e,i,c,u))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ta(ui),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pa]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),i=!1}else null!==oo&&(sl(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ui.current)?0===Pu&&(Pu=3):vl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oi(),Ds(e,t),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return So(t.type._context),Gs(t),null;case 19:if(Ta(ui),null===(i=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=i.rendering))if(r)qs(i,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=li(e))){for(t.flags|=128,qs(i,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(u=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,e=u.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(ui,1&ui.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Hu&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=li(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate&&!ao)return Gs(t),null}else 2*Xe()-i.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=i.last)?n.sibling=u:t.child=u,i.last=u)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=ui.current,Ea(ui,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return pl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ma(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Ta(Oa),Ta(Ia),fi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Ta(ui),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(ui),null;case 4:return oi(),null;case 10:return So(t.type._context),null;case 22:case 23:return pl(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Rs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var u=a[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Br("scroll",e),i||u===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tu(t,n,o)}a=a.next}while(a!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function iu(e){var t=e.alternate;null!==t&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[da],delete t[ma],delete t[va],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,pu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,a=pu;fu=null,du(e,t,n),pu=a,null!==(fu=r)&&(pu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(pu?(e=fu,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),Vt(e)):ua(fu,n.stateNode));break;case 4:r=fu,a=pu,fu=n.stateNode.containerInfo,pu=!0,du(e,t,n),fu=r,pu=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tu(n,t,i),a=a.next}while(a!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ol.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,pu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,pu=!0;break e}u=u.return}if(null===fu)throw Error(o(160));hu(i,s,a),fu=null,pu=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){Tl(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{ru(3,e,e.return),au(3,e)}catch(v){Tl(e,e.return,v)}try{ru(5,e,e.return)}catch(v){Tl(e,e.return,v)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(v){Tl(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===i.type&&null!=i.name&&X(a,i),be(u,s);var c=be(u,i);for(s=0;s<l.length;s+=2){var f=l[s],p=l[s+1];"style"===f?ve(a,p):"dangerouslySetInnerHTML"===f?fe(a,p):"children"===f?pe(a,p):b(a,f,p,c)}switch(u){case"input":J(a,i);break;case"textarea":oe(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):d!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[da]=i}catch(v){Tl(e,e.return,v)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Tl(e,e.return,v)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Tl(e,e.return,v)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vu=Xe())),4&r&&mu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,vu(t,e),Xs=c):vu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(p=Zs=f;null!==Zs;){switch(h=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Tl(r,n,v)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(p);continue}}null!==h?(h.return=d,Zs=h):xu(p)}f=f.sibling}e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{a=p.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(u=p.stateNode,s=void 0!==(l=p.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(v){Tl(e,e.return,v)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){Tl(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vu(t,e),gu(e),4&r&&mu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cu(e,uu(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;lu(e,uu(e),i);break;default:throw Error(o(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var a=Zs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Qs;if(!i){var s=a.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var l=Xs;if(Qs=i,(Xs=u)&&!l)for(Zs=a;null!==Zs;)u=(i=Zs).child,22===i.tag&&null!==i.memoizedState?Su(a):null!==u?(u.return=i,Zs=u):Su(a);for(;null!==o;)Zs=o,wu(o,t,n),o=o.sibling;Zs=a,Qs=s,Xs=l}ku(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Zs=o):ku(e)}}function ku(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Bo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var p=f.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ou(t)}catch(d){Tl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){Tl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){Tl(t,a,u)}}var o=t.return;try{ou(t)}catch(u){Tl(t,o,u)}break;case 5:var i=t.return;try{ou(t)}catch(u){Tl(t,i,u)}}}catch(u){Tl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Nu,Tu=Math.ceil,Eu=w.ReactCurrentDispatcher,_u=w.ReactCurrentOwner,Iu=w.ReactCurrentBatchConfig,Ou=0,Au=null,Cu=null,Mu=0,Du=0,Ru=Na(0),Pu=0,Lu=null,Fu=0,zu=0,Bu=0,ju=null,Uu=null,Vu=0,Hu=1/0,Wu=null,Ku=!1,qu=null,Gu=null,$u=!1,Yu=null,Qu=0,Xu=0,Ju=null,Zu=-1,el=0;function tl(){return 0!==(6&Ou)?Xe():-1!==Zu?Zu:Zu=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Mu?Mu&-Mu:null!==vo.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(o(185));yt(e,n,r),0!==(2&Ou)&&e===Au||(e===Au&&(0===(2&Ou)&&(zu|=n),4===Pu&&ul(e,Mu)),al(e,r),1===n&&0===Ou&&0===(1&t.mode)&&(Hu=Xe()+500,Ba&&Va()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,u=a[i];-1===u?0!==(s&n)&&0===(s&r)||(a[i]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Au?Mu:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(ll.bind(null,e)):Ua(ll.bind(null,e)),ia((function(){0===(6&Ou)&&Va()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Zu=-1,el=0,0!==(6&Ou))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=pt(e,e===Au?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var a=Ou;Ou|=2;var i=ml();for(Au===e&&Mu===t||(Wu=null,Hu=Xe()+500,dl(e,t));;)try{bl();break}catch(u){hl(e,u)}xo(),Eu.current=i,Ou=a,null!==Cu?t=0:(Au=null,Mu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=il(e,a))),1===t)throw n=Lu,dl(e,0),ul(e,r),al(e,Xe()),n;if(6===t)ul(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yl(e,r))&&(0!==(i=ht(e))&&(r=i,t=il(e,i))),1===t))throw n=Lu,dl(e,0),ul(e,r),al(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xl(e,Uu,Wu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Vu+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xl.bind(null,e,Uu,Wu),t);break}xl(e,Uu,Wu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ra(xl.bind(null,e,Uu,Wu),r);break}xl(e,Uu,Wu);break;default:throw Error(o(329))}}}return al(e,Xe()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Uu,Uu=n,null!==t&&sl(t)),e}function sl(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function ul(e,t){for(t&=~Bu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ou))throw Error(o(327));Sl();var t=pt(e,0);if(0===(1&t))return al(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Lu,dl(e,0),ul(e,t),al(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Uu,Wu),al(e,Xe()),null}function cl(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Hu=Xe()+500,Ba&&Va())}}function fl(e){null!==Yu&&0===Yu.tag&&0===(6&Ou)&&Sl();var t=Ou;Ou|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Ou=t))&&Va()}}function pl(){Du=Ru.current,Ta(Ru)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Cu)for(n=Cu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:oi(),Ta(Oa),Ta(Ia),fi();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Ta(ui);break;case 10:So(r.type._context);break;case 22:case 23:pl()}n=n.return}if(Au=e,Cu=e=Rl(e.current,null),Mu=Du=t,Pu=0,Lu=null,Bu=zu=Fu=0,Uu=ju=null,null!==_o){for(t=0;t<_o.length;t++)if(null!==(r=(n=_o[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}_o=null}return e}function hl(e,t){for(;;){var n=Cu;try{if(xo(),pi.current=is,gi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}gi=!1}if(hi=0,yi=vi=mi=null,bi=!1,wi=0,_u.current=null,null===n||null===n.return){Pu=1,Lu=t,Cu=null;break}e:{var i=e,s=n.return,u=n,l=t;if(t=Mu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,p=f.tag;if(0===(1&f.mode)&&(0===p||11===p||15===p)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ys(s);if(null!==h){h.flags&=-257,gs(h,s,u,0,t),1&h.mode&&vs(i,c,t),l=c;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){vs(i,c,t),vl();break e}l=Error(o(426))}else if(ao&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),mo(cs(l,u));break e}}i=l=cs(l,u),4!==Pu&&(Pu=2),null===ju?ju=[i]:ju.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,hs(0,l,t));break e;case 1:u=l;var g=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,ms(i,u,t));break e}}i=i.return}while(null!==i)}kl(n)}catch(w){t=w,Cu===n&&null!==n&&(Cu=n=n.return);continue}break}}function ml(){var e=Eu.current;return Eu.current=is,null===e?is:e}function vl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Au||0===(268435455&Fu)&&0===(268435455&zu)||ul(Au,Mu)}function yl(e,t){var n=Ou;Ou|=2;var r=ml();for(Au===e&&Mu===t||(Wu=null,dl(e,t));;)try{gl();break}catch(a){hl(e,a)}if(xo(),Ou=n,Eu.current=r,null!==Cu)throw Error(o(261));return Au=null,Mu=0,Pu}function gl(){for(;null!==Cu;)wl(Cu)}function bl(){for(;null!==Cu&&!Ye();)wl(Cu)}function wl(e){var t=Nu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?kl(e):Cu=t,_u.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Du)))return void(Cu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Cu=n);if(null===e)return Pu=6,void(Cu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cu=t);Cu=t=e}while(null!==t);0===Pu&&(Pu=5)}function xl(e,t,n){var r=bt,a=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Yu);if(0!==(6&Ou))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Au&&(Cu=Au=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$u||($u=!0,Al(tt,(function(){return Sl(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Ou;Ou|=4,_u.current=null,function(e,t){if(ea=Wt,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(u=s+a),p!==i||0!==r&&3!==p.nodeType||(l=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)d=p,p=h;for(;;){if(p===e)break t;if(d===n&&++c===a&&(u=s),d===i&&++f===r&&(l=s),null!==(h=p.nextSibling))break;d=(p=d).parentNode}p=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,y=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:yo(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Tl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nu,nu=!1}(e,n),yu(n,e),hr(ta),Wt=!!ea,ta=ea=null,e.current=n,bu(n,e,a),Qe(),Ou=u,bt=s,Iu.transition=i}else e.current=n;if($u&&($u=!1,Yu=e,Qu=a),i=e.pendingLanes,0===i&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ku)throw Ku=!1,e=qu,qu=null,e;0!==(1&Qu)&&0!==e.tag&&Sl(),i=e.pendingLanes,0!==(1&i)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Va()}(e,t,n,r)}finally{Iu.transition=a,bt=r}return null}function Sl(){if(null!==Yu){var e=wt(Qu),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Ou))throw Error(o(331));var a=Ou;for(Ou|=4,Zs=e.current;null!==Zs;){var i=Zs,s=i.child;if(0!==(16&Zs.flags)){var u=i.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,i)}var p=f.child;if(null!==p)p.return=f,Zs=p;else for(;null!==Zs;){var d=(f=Zs).sibling,h=f.return;if(iu(f),f===c){Zs=null;break}if(null!==d){d.return=h,Zs=d;break}Zs=h}}}var m=i.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Zs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(i=Zs).flags))switch(i.tag){case 0:case 11:case 15:ru(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,Zs=g;break e}Zs=i.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(x){Tl(u,u.return,x)}if(u===s){Zs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Zs=k;break e}Zs=u.return}}if(Ou=a,Va(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Nl(e,t,n){e=Po(e,t=hs(0,t=cs(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),al(e,t))}function Tl(e,t,n){if(3===e.tag)Nl(e,e,n);else for(;null!==t;){if(3===t.tag){Nl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Po(t,e=ms(t,e=cs(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),al(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Mu&n)===n&&(4===Pu||3===Pu&&(130023424&Mu)===Mu&&500>Xe()-Vu?dl(e,0):Bu|=n),al(e,t)}function _l(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ao(e,t))&&(yt(e,t,n),al(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_l(e,n)}function Ol(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),_l(e,n)}function Al(e,t){return Ge(e,t)}function Cl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Cl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ll(n.children,a,i,t);case N:s=8,a|=8;break;case T:return(e=Ml(12,n,t,2|a)).elementType=T,e.lanes=i,e;case O:return(e=Ml(13,n,t,a)).elementType=O,e.lanes=i,e;case A:return(e=Ml(19,n,t,a)).elementType=A,e.lanes=i,e;case D:return Fl(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case I:s=11;break e;case C:s=14;break e;case M:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ml(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ll(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,a,o,i,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ml(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Vl(e){if(!e)return _a;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Pa(e,n,t)}return t}function Hl(e,t,n,r,a,o,i,s,u){return(e=Ul(n,r,!0,e,0,o,0,s,u)).context=Vl(null),n=e.current,(o=Ro(r=tl(),a=nl(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,a),e.current.lanes=a,yt(e,a,r),al(e,r),e}function Wl(e,t,n,r){var a=t.current,o=tl(),i=nl(a);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(a,t,i))&&(rl(e,a,i,o),Lo(e,a,i)),i}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Nu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),ho();break;case 5:ii(t);break;case 1:Ma(t.type)&&La(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(go,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(ui,1&ui.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Ea(ui,1&ui.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ea(ui,1&ui.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(ui,ui.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ao&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=Ca(t,Ia.current);To(t,n),a=Ni(null,t,r,e,a,n);var i=Ti();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(i=!0,La(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mo(t),a.updater=Vo,t.stateNode=a,a._reactInternals=t,qo(t,r,e,n),t=Os(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ks(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===C)return 14}return 2}(r),e=yo(r,e),a){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Do(e,t),zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Cs(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Cs(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=la(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===a){t=Ks(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&lo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Es(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return zs(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Ea(go,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Oa.current){t=Ks(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var u=i.dependencies;if(null!==u){s=i.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===i.tag){(l=Ro(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),No(i.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),No(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ks(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,To(t,n),r=r(a=Eo(a)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return a=yo(r=t.type,t.pendingProps),Ss(e,t,r,a=yo(r.type,a),n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),Ws(e,t),t.tag=1,Ma(r)?(e=!0,La(t)):e=!1,To(t,n),Wo(t,r,a),qo(t,r,a,n),Os(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Kl(i);s.call(e)}}Wl(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Kl(i);o.call(e)}}var i=Hl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=i,e[ha]=i.current,Vr(8===e.nodeType?e.parentNode:e),fl(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Kl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[ha]=u.current,Vr(8===e.nodeType?e.parentNode:e),fl((function(){Wl(t,u,n,r)})),u}(n,t,e,a,r);return Kl(i)}Ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wl(e,t,null,null)},Ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Wl(null,e,null,null)})),t[ha]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),al(t,Xe()),0===(6&Ou)&&(Hu=Xe()+500,Va()))}break;case 13:fl((function(){var t=Ao(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},xt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Ao(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},Nt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ka(r);if(!a)throw Error(o(90));G(r),J(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Oe=fl;var tc={usingClientEntryPoint:!1,Events:[ba,wa,ka,Ee,_e,cl]},nc={findFiberByHostInstance:ga,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(o(299));var n=!1,r="",a=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,a,0,i,s),e[ha]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:c,props:o,_owner:s.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,a)&&!N.hasOwnProperty(a)&&(o[a]=t[a]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===o[a]&&(o[a]=u[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return i=i(u=e),e=""===o?"."+I(u,0):o,k(i)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),O(i,t,a,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(u=0,o=""===o?".":o+":",k(e))for(var l=0;l<e.length;l++){var c=o+I(s=e[l],l);u+=O(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=O(s=s.value,t,a,c=o+I(s,l++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},D={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!N.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<a&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,p=null,d=3,h=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(v=!1,w(e),!m)if(null!==r(l))m=!0,D(x);else{var t=r(c);null!==t&&R(k,t.startTime-e)}}function x(e,n){m=!1,v&&(v=!1,g(E),E=-1),h=!0;var o=d;try{for(w(n),p=r(l);null!==p&&(!(p.expirationTime>n)||e&&!O());){var i=p.callback;if("function"===typeof i){p.callback=null,d=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(l)&&a(l),w(n)}else a(l);p=r(l)}if(null!==p)var u=!0;else{var f=r(c);null!==f&&R(k,f.startTime-n),u=!1}return u}finally{p=null,d=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,T=null,E=-1,_=5,I=-1;function O(){return!(t.unstable_now()-I<_)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(N=!1,T=null)}}else N=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,M=C.port2;C.port1.onmessage=A,S=function(){M.postMessage(null)}}else S=function(){y(A,0)};function D(e){T=e,N||(N=!0,S())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(v?(g(E),E=-1):v=!0,R(k,o-i))):(e.sortIndex=s,n(l,e),m||h||(m=!0,D(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},699:function(e,t,n){var r=n(501),a=n(112),o=n(132),i=n(890),s=n(113),u=n(725),l=n(411);l.alea=r,l.xor128=a,l.xorwow=o,l.xorshift7=i,l.xor4096=s,l.tychei=u,e.exports=l},501:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},725:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},112:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},113:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},132:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},411:function(e,t,n){var r;!function(a,o,i){var s,u=256,l=i.pow(u,6),c=i.pow(2,52),f=2*c,p=u-1;function d(e,t,n){var r=[],p=y(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,g(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(e)),g(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,g(o)]}}():e,3),r),d=new h(r),b=function(){for(var e=d.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,y(g(d.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,d),e.state=function(){return m(d,{})}),n?(i.random=e,t):e})(b,p,"global"in t?t.global:this==i,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<u;)i[a]=a++;for(a=0;a<u;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*u+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(y(i.random(),o),e.exports){e.exports=d;try{s=n(42)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},613:function(e){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(a=n?n.call(r,c,f,l):void 0)||void 0===a&&c!==f)return!1}return!0}},410:function(){},628:function(){},42:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{browserFiles:function(){return $r},browserHTTPRequest:function(){return sa},concatenateArrayBuffers:function(){return dn},copyModel:function(){return rr},decodeWeights:function(){return sn},encodeWeights:function(){return an},fromMemory:function(){return pa},fromMemorySync:function(){return da},getLoadHandlers:function(){return En},getModelArtifactsForJSON:function(){return yn},getModelArtifactsForJSONSync:function(){return vn},getModelArtifactsInfoForJSON:function(){return bn},getSaveHandlers:function(){return Tn},getWeightSpecs:function(){return wn},http:function(){return ia},isHTTPScheme:function(){return aa},listModels:function(){return Zn},loadWeights:function(){return Zr},moveModel:function(){return or},registerLoadRouter:function(){return Nn},registerSaveRouter:function(){return Sn},removeModel:function(){return tr},weightsLoaderFactory:function(){return ta},withSaveHandler:function(){return ha},withSaveHandlerSync:function(){return ma}});var t={};n.r(t),n.d(t,{conv2d:function(){return xu},depthwiseConv2d:function(){return Tu},matMul:function(){return Eu}});var r={};n.r(r),n.d(r,{json:function(){return Kl}});var a={};n.r(a),n.d(a,{json:function(){return ql}});var o={};n.r(o),n.d(o,{json:function(){return Gl}});var i={};n.r(i),n.d(i,{json:function(){return $l}});var s={};n.r(s),n.d(s,{json:function(){return Yl}});var u={};n.r(u),n.d(u,{json:function(){return Ql}});var l={};n.r(l),n.d(l,{json:function(){return Xl}});var c={};n.r(c),n.d(c,{json:function(){return Jl}});var f={};n.r(f),n.d(f,{json:function(){return Zl}});var p={};n.r(p),n.d(p,{json:function(){return ec}});var d={};n.r(d),n.d(d,{json:function(){return tc}});var h={};n.r(h),n.d(h,{json:function(){return nc}});var m={};n.r(m),n.d(m,{json:function(){return rc}});var v={};n.r(v),n.d(v,{json:function(){return ac}});var y={};n.r(y),n.d(y,{json:function(){return oc}});var g={};n.r(g),n.d(g,{json:function(){return ic}});var b={};n.r(b),n.d(b,{json:function(){return sc}});var w={};n.r(w),n.d(w,{json:function(){return uc}});var k={};n.r(k),n.d(k,{json:function(){return lc}});var x={};n.r(x),n.d(x,{OP_SCOPE_SUFFIX:function(){return Xt},abs:function(){return Fr},acos:function(){return ka},acosh:function(){return xa},add:function(){return gr},addN:function(){return Sa},all:function(){return Na},any:function(){return Ta},argMax:function(){return Ea},argMin:function(){return _a},asin:function(){return Ia},asinh:function(){return Oa},atan:function(){return Aa},atan2:function(){return Ca},atanh:function(){return Ma},avgPool:function(){return Ha},avgPool3d:function(){return Wa},basicLSTMCell:function(){return Qa},batchNorm:function(){return Ja},batchNorm2d:function(){return Za},batchNorm3d:function(){return eo},batchNorm4d:function(){return to},batchToSpaceND:function(){return Xa},bincount:function(){return no},bitwiseAnd:function(){return ro},booleanMaskAsync:function(){return iu},broadcastArgs:function(){return ao},broadcastTo:function(){return oo},buffer:function(){return fr},cast:function(){return pr},ceil:function(){return io},clipByValue:function(){return so},clone:function(){return dr},complex:function(){return Zt},concat:function(){return Ka},concat1d:function(){return uo},concat2d:function(){return lo},concat3d:function(){return co},concat4d:function(){return fo},conv1d:function(){return ho},conv2d:function(){return po},conv2dTranspose:function(){return vo},conv3d:function(){return yo},conv3dTranspose:function(){return bo},cos:function(){return wo},cosh:function(){return ko},cosineWindow:function(){return hu},cumprod:function(){return xo},cumsum:function(){return So},denseBincount:function(){return No},depthToSpace:function(){return To},depthwiseConv2d:function(){return Eo},diag:function(){return _o},dilation2d:function(){return Io},div:function(){return wr},divNoNan:function(){return Co},dot:function(){return Mo},dropout:function(){return pu},einsum:function(){return Do},elu:function(){return Ro},enclosingPowerOfTwo:function(){return du},ensureShape:function(){return Po},equal:function(){return Oo},erf:function(){return Lo},euclideanNorm:function(){return Ho},exp:function(){return Wo},expandDims:function(){return Ko},expm1:function(){return qo},eye:function(){return $o},fft:function(){return Cs},fill:function(){return Mr},floor:function(){return Yo},floorDiv:function(){return br},fused:function(){return t},gather:function(){return Qo},gatherND:function(){return fu},greater:function(){return Xo},greaterEqual:function(){return Jo},ifft:function(){return Ms},imag:function(){return Zo},image:function(){return Al},inTopKAsync:function(){return vu},irfft:function(){return Ds},isFinite:function(){return ei},isInf:function(){return ti},isNaN:function(){return ni},leakyRelu:function(){return ri},less:function(){return ai},lessEqual:function(){return oi},linalg:function(){return Cl},linspace:function(){return ii},localResponseNormalization:function(){return si},log:function(){return ui},log1p:function(){return li},logSigmoid:function(){return pi},logSoftmax:function(){return di},logSumExp:function(){return hi},logicalAnd:function(){return mi},logicalNot:function(){return vi},logicalOr:function(){return yi},logicalXor:function(){return gi},losses:function(){return Ml},lowerBound:function(){return ki},matMul:function(){return qa},max:function(){return zo},maxPool:function(){return xi},maxPool3d:function(){return Si},maxPoolWithArgmax:function(){return Ni},maximum:function(){return Br},mean:function(){return Ti},meshgrid:function(){return Ii},min:function(){return Bo},minimum:function(){return Oi},mirrorPad:function(){return Ai},mod:function(){return Ci},moments:function(){return Mi},movingAverage:function(){return uu},mul:function(){return kr},multiRNNCell:function(){return Di},multinomial:function(){return Ri},neg:function(){return ci},norm:function(){return Vo},notEqual:function(){return Pi},oneHot:function(){return Li},ones:function(){return _i},onesLike:function(){return Fi},op:function(){return Jt},outerProduct:function(){return zi},pad:function(){return Bi},pad1d:function(){return ji},pad2d:function(){return Ui},pad3d:function(){return Vi},pad4d:function(){return Hi},pool:function(){return Ki},pow:function(){return Rr},prelu:function(){return qi},print:function(){return hr},prod:function(){return Gi},raggedGather:function(){return $i},raggedRange:function(){return Yi},raggedTensorToTensor:function(){return Qi},rand:function(){return Xi},randomGamma:function(){return ns},randomNormal:function(){return rs},randomStandardNormal:function(){return as},randomUniform:function(){return os},randomUniformInt:function(){return is},range:function(){return ss},real:function(){return us},reciprocal:function(){return ls},relu:function(){return cs},relu6:function(){return fs},reshape:function(){return Va},reverse:function(){return ps},reverse1d:function(){return ds},reverse2d:function(){return hs},reverse3d:function(){return ms},reverse4d:function(){return vs},rfft:function(){return Ps},round:function(){return ys},rsqrt:function(){return gs},scalar:function(){return Er},scatterND:function(){return lu},searchSorted:function(){return wi},selu:function(){return bs},separableConv2d:function(){return ws},setdiff1dAsync:function(){return xs},sigmoid:function(){return Ga},sign:function(){return Ss},signal:function(){return Ol},sin:function(){return Ns},sinh:function(){return Ts},slice:function(){return $a},slice1d:function(){return Es},slice2d:function(){return _s},slice3d:function(){return Is},slice4d:function(){return Os},softmax:function(){return As},softplus:function(){return fi},spaceToBatchND:function(){return Wi},sparse:function(){return Dl},sparseToDense:function(){return cu},spectral:function(){return Il},split:function(){return Rs},sqrt:function(){return xr},square:function(){return Sr},squaredDifference:function(){return Ls},squeeze:function(){return Fs},stack:function(){return zs},step:function(){return Bs},stridedSlice:function(){return js},string:function(){return Rl},sub:function(){return Pr},sum:function(){return jo},tan:function(){return Us},tanh:function(){return Ya},tensor:function(){return tn},tensor1d:function(){return Vs},tensor2d:function(){return Hs},tensor3d:function(){return va},tensor4d:function(){return Ws},tensor5d:function(){return Ks},tensor6d:function(){return qs},tensorScatterUpdate:function(){return $s},tile:function(){return Go},topk:function(){return Ys},transpose:function(){return su},truncatedNormal:function(){return Qs},unique:function(){return Xs},unsortedSegmentSum:function(){return Js},unstack:function(){return Zs},upperBound:function(){return eu},variable:function(){return tu},where:function(){return Ao},whereAsync:function(){return au},zeros:function(){return Ei},zerosLike:function(){return Nr}});var S=n(791),N=n(250);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),s=new _(a||[]);return r(i,"_invoke",{value:k(e,n,s)}),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=l;var f={};function p(){}function d(){}function h(){}var m={};u(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,o)&&(m=y);var g=h.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==T(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=c(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),u(g,s,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function _(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,s,"next",e)}function s(e){_(o,r,a,i,s,"throw",e)}i(void 0)}))}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,a=c}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function L(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={Thumb:0,Index:1,Middle:2,Ring:3,Pinky:4,all:[0,1,2,3,4],nameMapping:{0:"Thumb",1:"Index",2:"Middle",3:"Ring",4:"Pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(e){return void 0!==typeof this.nameMapping[e]&&this.nameMapping[e]},getPoints:function(e){return void 0!==typeof this.pointsMapping[e]&&this.pointsMapping[e]}},U={NoCurl:0,HalfCurl:1,FullCurl:2,nameMapping:{0:"No Curl",1:"Half Curl",2:"Full Curl"},getName:function(e){return void 0!==typeof this.nameMapping[e]&&this.nameMapping[e]}},V={VerticalUp:0,VerticalDown:1,HorizontalLeft:2,HorizontalRight:3,DiagonalUpRight:4,DiagonalUpLeft:5,DiagonalDownRight:6,DiagonalDownLeft:7,nameMapping:{0:"Vertical Up",1:"Vertical Down",2:"Horizontal Left",3:"Horizontal Right",4:"Diagonal Up Right",5:"Diagonal Up Left",6:"Diagonal Down Right",7:"Diagonal Down Left"},getName:function(e){return void 0!==typeof this.nameMapping[e]&&this.nameMapping[e]}},H=function(){function e(t){D(this,e),this.options=B(B({},{HALF_CURL_START_LIMIT:60,NO_CURL_START_LIMIT:130,DISTANCE_VOTE_POWER:1.1,SINGLE_ANGLE_VOTE_POWER:.9,TOTAL_ANGLE_VOTE_POWER:1.6}),t)}return L(e,[{key:"estimate",value:function(e){var t,n=[],r=[],a=M(j.all);try{for(a.s();!(t=a.n()).done;){var o,i=t.value,s=j.getPoints(i),u=[],l=[],c=M(s);try{for(c.s();!(o=c.n()).done;){var f=o.value,p=e[f[0]],d=e[f[1]],h=this.getSlopes(p,d),m=h[0],v=h[1];u.push(m),l.push(v)}}catch(O){c.e(O)}finally{c.f()}n.push(u),r.push(l)}}catch(O){a.e(O)}finally{a.f()}var y,g=[],b=[],w=M(j.all);try{for(w.s();!(y=w.n()).done;){var k=y.value,x=k==j.Thumb?1:0,S=j.getPoints(k),N=e[S[x][0]],T=e[S[x+1][1]],E=e[S[3][1]],_=this.estimateFingerCurl(N,T,E),I=this.calculateFingerDirection(N,T,E,n[k].slice(x));g[k]=_,b[k]=I}}catch(O){w.e(O)}finally{w.f()}return{curls:g,directions:b}}},{key:"getSlopes",value:function(e,t){var n=this.calculateSlope(e[0],e[1],t[0],t[1]);return 2==e.length?n:[n,this.calculateSlope(e[1],e[2],t[1],t[2])]}},{key:"angleOrientationAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0,a=0;return e>=75&&e<=105?n=1*t:e>=25&&e<=155?r=1*t:a=1*t,[n,r,a]}},{key:"estimateFingerCurl",value:function(e,t,n){var r=e[0]-t[0],a=e[0]-n[0],o=t[0]-n[0],i=e[1]-t[1],s=e[1]-n[1],u=t[1]-n[1],l=e[2]-t[2],c=e[2]-n[2],f=t[2]-n[2],p=Math.sqrt(r*r+i*i+l*l),d=Math.sqrt(a*a+s*s+c*c),h=Math.sqrt(o*o+u*u+f*f),m=(h*h+p*p-d*d)/(2*h*p);m>1?m=1:m<-1&&(m=-1);var v=Math.acos(m);return(v=57.2958*v%180)>this.options.NO_CURL_START_LIMIT?U.NoCurl:v>this.options.HALF_CURL_START_LIMIT?U.HalfCurl:U.FullCurl}},{key:"estimateHorizontalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e>0?V.HorizontalLeft:V.HorizontalRight:r==Math.abs(t)?t>0?V.HorizontalLeft:V.HorizontalRight:n>0?V.HorizontalLeft:V.HorizontalRight}},{key:"estimateVerticalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e<0?V.VerticalDown:V.VerticalUp:r==Math.abs(t)?t<0?V.VerticalDown:V.VerticalUp:n<0?V.VerticalDown:V.VerticalUp}},{key:"estimateDiagonalDirection",value:function(e,t,n,r,a,o,i,s){var u=this.estimateVerticalDirection(e,t,n,r),l=this.estimateHorizontalDirection(a,o,i,s);return u==V.VerticalUp?l==V.HorizontalLeft?V.DiagonalUpLeft:V.DiagonalUpRight:l==V.HorizontalLeft?V.DiagonalDownLeft:V.DiagonalDownRight}},{key:"calculateFingerDirection",value:function(e,t,n,r){var a=e[0]-t[0],o=e[0]-n[0],i=t[0]-n[0],s=e[1]-t[1],u=e[1]-n[1],l=t[1]-n[1],c=Math.max(Math.abs(a),Math.abs(o),Math.abs(i)),f=Math.max(Math.abs(s),Math.abs(u),Math.abs(l)),p=0,d=0,h=0,m=f/(c+1e-5);m>1.5?p+=this.options.DISTANCE_VOTE_POWER:m>.66?d+=this.options.DISTANCE_VOTE_POWER:h+=this.options.DISTANCE_VOTE_POWER;var v=Math.sqrt(a*a+s*s),y=Math.sqrt(o*o+u*u),g=Math.sqrt(i*i+l*l),b=Math.max(v,y,g),w=e[0],k=e[1],x=n[0],S=n[1];b==v?(x=n[0],S=n[1]):b==g&&(w=t[0],k=t[1]);var N=[w,k],T=[x,S],E=this.getSlopes(N,T),_=this.angleOrientationAt(E,this.options.TOTAL_ANGLE_VOTE_POWER);p+=_[0],d+=_[1],h+=_[2];var I,O=M(r);try{for(O.s();!(I=O.n()).done;){var A=I.value,C=this.angleOrientationAt(A,this.options.SINGLE_ANGLE_VOTE_POWER);p+=C[0],d+=C[1],h+=C[2]}}catch(D){O.e(D)}finally{O.f()}return p==Math.max(p,d,h)?this.estimateVerticalDirection(u,s,l,f):h==Math.max(d,h)?this.estimateHorizontalDirection(o,a,i,c):this.estimateDiagonalDirection(u,s,l,f,o,a,i,c)}},{key:"calculateSlope",value:function(e,t,n,r){var a=(t-r)/(e-n),o=180*Math.atan(a)/Math.PI;return o<=0?o=-o:o>0&&(o=180-o),o}}]),e}(),W=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),this.estimator=new H(n),this.gestures=t}return L(e,[{key:"estimate",value:function(e,t){var n,r=[],a=this.estimator.estimate(e),o=[],i=M(j.all);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.push([j.getName(s),U.getName(a.curls[s]),V.getName(a.directions[s])])}}catch(p){i.e(p)}finally{i.f()}var u,l=M(this.gestures);try{for(l.s();!(u=l.n()).done;){var c=u.value,f=c.matchAgainst(a.curls,a.directions);f>=t&&r.push({name:c.name,score:f})}}catch(p){l.e(p)}finally{l.f()}return{poseData:o,gestures:r}}}]),e}(),K=function(){function e(t){D(this,e),this.name=t,this.curls={},this.directions={}}return L(e,[{key:"addCurl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;"undefined"===typeof this.curls[e]&&(this.curls[e]=[]),this.curls[e].push([t,n])}},{key:"addDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;"undefined"===typeof this.directions[e]&&(this.directions[e]=[]),this.directions[e].push([t,n])}},{key:"matchAgainst",value:function(e,t){var n=0,r=0;for(var a in e){var o=e[a],i=this.curls[a];if("undefined"!==typeof i){r++;var s,u=!1,l=0,c=M(i);try{for(c.s();!(s=c.n()).done;){var f=C(s.value,2),p=f[0],d=f[1];if(o==p){n+=d,l=Math.max(l,d),u=!0;break}}}catch(N){c.e(N)}finally{c.f()}u||(n-=l)}}for(var h in t){var m=t[h],v=this.directions[h];if("undefined"!==typeof v){r++;var y,g=!1,b=0,w=M(v);try{for(w.s();!(y=w.n()).done;){var k=C(y.value,2),x=k[0],S=k[1];if(m==x){n+=S,b=Math.max(b,S),g=!0;break}}}catch(N){w.e(N)}finally{w.f()}g||(n-=b)}}return n/r*10}}]),e}(),q=new K("victory");q.addDirection(j.Thumb,V.VerticalUp,1),q.addDirection(j.Thumb,V.DiagonalUpLeft,1),q.addDirection(j.Thumb,V.DiagonalUpRight,1),q.addCurl(j.Index,U.NoCurl,1),q.addDirection(j.Index,V.VerticalUp,1),q.addDirection(j.Index,V.DiagonalUpLeft,1),q.addDirection(j.Index,V.DiagonalUpRight,1),q.addDirection(j.Index,V.HorizontalLeft,1),q.addDirection(j.Index,V.HorizontalRight,1),q.addCurl(j.Middle,U.NoCurl,1),q.addDirection(j.Middle,V.VerticalUp,1),q.addDirection(j.Middle,V.DiagonalUpLeft,1),q.addDirection(j.Middle,V.DiagonalUpRight,1),q.addDirection(j.Middle,V.HorizontalLeft,1),q.addDirection(j.Middle,V.HorizontalRight,1),q.addCurl(j.Ring,U.FullCurl,1),q.addCurl(j.Ring,U.HalfCurl,.9),q.addCurl(j.Pinky,U.FullCurl,1),q.addCurl(j.Pinky,U.HalfCurl,.9);var G=q,$=new K("thumbs_up");$.addCurl(j.Thumb,U.NoCurl,1),$.addDirection(j.Thumb,V.VerticalUp,1),$.addDirection(j.Thumb,V.DiagonalUpLeft,.9),$.addDirection(j.Thumb,V.DiagonalUpRight,.9);for(var Y=0,Q=[j.Index,j.Middle,j.Ring,j.Pinky];Y<Q.length;Y++){var X=Q[Y];$.addCurl(X,U.FullCurl,1),$.addCurl(X,U.HalfCurl,.9)}$.addDirection(j.Index,V.DiagonalUpLeft,1),$.addDirection(j.Index,V.HorizontalLeft,1),$.addDirection(j.Index,V.HorizontalRight,1),$.addDirection(j.Index,V.DiagonalUpRight,1);var J=$,Z=n(678);function ee(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(){function e(){D(this,e)}return L(e,[{key:"refCount",value:function(e){return ne("refCount")}},{key:"incRef",value:function(e){return ne("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return ne("time")}},{key:"read",value:function(e){return ne("read")}},{key:"readSync",value:function(e){return ne("readSync")}},{key:"readToGPU",value:function(e,t){return ne("readToGPU")}},{key:"numDataIds",value:function(){return ne("numDataIds")}},{key:"disposeData",value:function(e,t){return ne("disposeData")}},{key:"write",value:function(e,t,n){return ne("write")}},{key:"move",value:function(e,t,n,r,a){return ne("move")}},{key:"createTensorFromGPUData",value:function(e,t,n){return ne("createTensorFromGPUData")}},{key:"memory",value:function(){return ne("memory")}},{key:"floatPrecision",value:function(){return ne("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return ne("dispose")}}]),e}();function ne(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function re(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";re(se(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function oe(e){re(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function ie(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function se(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ue(e){return e%1===0}function le(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function ce(e,t){var n=t.length;return re((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),re(e.every((function(e){return ue(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function fe(e,t){return pe(e,t)}function pe(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function de(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function he(e){return"string"===typeof e||e instanceof String}function me(e){return Array.isArray(e)?me(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"===typeof e?"float32":he(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function ve(e){return!!(e&&e.constructor&&e.call&&e.apply)}function ye(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ge(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var o=t[0]*(r?2:1),i=0;i<o;i++)a[i]=n[e+i];else for(var s=t[0],u=t.slice(1),l=u.reduce((function(e,t){return e*t}))*(r?2:1),c=0;c<s;c++)a[c]=ge(e+c*l,u,n,r);return a}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return ge(0,e,t,n)}function we(e,t){for(var n=ke(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ke(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function xe(e){e.forEach((function(t){re(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function Se(e){return e&&e.then&&"function"===typeof e.then}var Ne="tfjsflags",Te=function(){function e(t){D(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Ee,this.populateURLFlags()}return L(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(_e().getBool("IS_TEST")||_e().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];_e().getBool("IS_TEST")||_e().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(Se(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getString",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(Ne in t)t[Ne].split(",").forEach((function(t){var n=C(t.split(":"),2),r=n[0],a=n[1];e.urlFlags[r]=function(e,t){var n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,a)}))}}}]),e}();function Ee(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function _e(){return Oe}var Ie,Oe=null;function Ae(){if(null==Ie){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}Ie=e}return Ie}function Ce(e,t){var n=function(){var e=Ae();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}var Me="Cast",De="Fill",Re="Identity",Pe="LinSpace",Le="Range",Fe="Tile",ze="Transpose",Be="FromPixels",je="_FusedMatMul",Ue="FusedConv2D",Ve="FusedDepthwiseConv2D",He=Ce("kernelRegistry",(function(){return new Map})),We=Ce("gradRegistry",(function(){return new Map}));function Ke(e,t){var n=$e(e,t);return He.get(n)}function qe(e){return We.get(e)}function Ge(e){for(var t=He.entries(),n=[];;){var r=t.next(),a=r.done,o=r.value;if(a)break;var i=C(o,2),s=i[0],u=i[1];C(s.split("_"),1)[0]===e&&n.push(u)}return n}function $e(e,t){return"".concat(t,"_").concat(e)}function Ye(){var e;_e().getBool("IS_TEST")||_e().getBool("PROD")||(e=console).warn.apply(e,arguments)}function Qe(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var Xe=n(987),Je=n.n(Xe)()||Xe;function Ze(e){return Je.fromString(e,!0,16)}Ze("c3a5c85c97cb3127"),Ze("b492b66fbe98f273"),Ze("9ae16a3b2f90404f");function et(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=ot(e)),_e().getBool("DEBUG")&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),r=0;r<n.length;++r)0!==Math.round(e[r])&&(n[r]=1);return n}throw new Error("Unknown data type ".concat(t))}function tt(){return _e().platform.now()}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",_e().platform.encode(e,t)}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",_e().platform.decode(e,t)}function at(e){return null!=_e().platform.isTypedArray?_e().platform.isTypedArray(e):Qe(e)}function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||Se(e)||null==e||at(e)&&n)t.push(e);else if(Array.isArray(e)||at(e))for(var r=0;r<e.length;++r)ot(e[r],t,n);else{for(var a=-1,o=0,i=Object.keys(e);o<i.length;o++){var s=i[o];/^([1-9]+[0-9]*|0)$/.test(s)&&(a=Math.max(a,Number(s)))}for(var u=0;u<=a;u++)ot(e[u],t,n)}return t}var it=function(){function e(t,n){D(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new st)}return L(e,[{key:"profileKernel",value:function(e,t,n){var r,a,o=function(){r=n()},i=tt();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var s,u=M(r);try{for(u.s();!(s=u.n()).done;){s.value.dataSync()}}catch(f){u.e(f)}finally{u.f()}a=Promise.resolve({kernelMs:tt()-i})}if(_e().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(){var t=r[c];t.data().then((function(n){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(n,t.dtype,e)}))},c=0;c<r.length;c++)l();return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,o=e.inputs,i=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,i]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],o,r[2])}))}))}}]),e}();var st=function(){function e(){D(this,e)}return L(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,o){var i="number"===typeof r?le("".concat(r,"ms"),9):r.error,s=le(e,25),u=t.rank,l=t.size,c=le(t.shape.toString(),14),f="";for(var p in a){var d=a[p];if(null!=d){var h=d.shape||t.shape,m=h.length;f+="".concat(p,": ").concat(m,"D ").concat(m>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(i,"\t%c").concat(u,"D ").concat(c,"\t%c").concat(l,"\t%c").concat(f,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function ut(e,t){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ut(e,t)}function lt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pt(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dt(e){var t=ft();return function(){var n,r=ct(e);if(t){var a=ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pt(this,n)}}var ht=20,mt=3,vt=7;function yt(e,t,n,r){var a=ye(t),o=function(e,t,n,r){var a=ie(t),o=r[r.length-1],i=new Array(o).fill(0),s=t.length,u="complex64"===n?kt(e):e;if(s>1)for(var l=0;l<a/o;l++)for(var c=l*o,f=0;f<o;f++)i[f]=Math.max(i[f],gt(u[c+f],0,n).length);return i}(e,t,n,a),i=t.length,s=wt(e,t,n,a,o),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(i)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function gt(e,t,n){return le(Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(vt))," + ")+"".concat(parseFloat(e[1].toFixed(vt)),"j"):he(e)?"'".concat(e,"'"):"bool"===n?bt(e):parseFloat(e.toFixed(vt)).toString(),t)}function bt(e){return 0===e?"false":"true"}function wt(e,t,n,r,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i="complex64"===n?2:1,s=t[0],u=t.length;if(0===u)return"complex64"===n?[gt(kt(e)[0],0,n)]:"bool"===n?[bt(e[0])]:[e[0].toString()];if(1===u){if(s>ht){var l=mt*i,c=Array.from(e.slice(0,l)),f=Array.from(e.slice((s-mt)*i,s*i));return"complex64"===n&&(c=kt(c),f=kt(f)),["["+c.map((function(e,t){return gt(e,a[t],n)})).join(", ")+", ..., "+f.map((function(e,t){return gt(e,a[s-mt+t],n)})).join(", ")+"]"]}return["["+("complex64"===n?kt(e):Array.from(e)).map((function(e,t){return gt(e,a[t],n)})).join(", ")+"]"]}var p=t.slice(1),d=r.slice(1),h=r[0]*i,m=[];if(s>ht){for(var v=0;v<mt;v++){var y=v*h,g=y+h;m.push.apply(m,ee(wt(e.slice(y,g),p,n,d,a,!1)))}m.push("...");for(var b=s-mt;b<s;b++){var w=b*h,k=w+h;m.push.apply(m,ee(wt(e.slice(w,k),p,n,d,a,b===s-1)))}}else for(var x=0;x<s;x++){var S=x*h,N=S+h;m.push.apply(m,ee(wt(e.slice(S,N),p,n,d,a,x===s-1)))}var T=2===u?",":"";m[0]="["+(s>0?m[0]+T:"");for(var E=1;E<m.length-1;E++)m[E]=" "+m[E]+T;for(var _=",\n",I=2;I<u;I++)_+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(o?"":_),m}function kt(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var xt=function(){function e(t,n,r){var a=this;if(D(this,e),this.dtype=n,this.shape=t.slice(),this.size=ie(t),null!=r){var o=r.length;re(o===this.size,(function(){return"Length of values '".concat(o,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||pe(n,this.size),this.strides=ye(t)}return L(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),re(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var o=this.locToIndex(r);this.values[o]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,o=t;a<o.length;a++){var i=o[a];if(i<0||i>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],l=0;l<t.length-1;++l)u+=this.strides[l]*t[l];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return St().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),St=null,Nt=null;var Tt=function(){function e(t,n,r,a){D(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ie(t),this.strides=ye(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return L(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=I(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Nt.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return Nt.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=I(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",be(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return be(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=I(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=St().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return rt(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),St().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=St().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return rt(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=I(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,St().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(St().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Nt.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),Nt.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return yt(this.dataSync(),this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),Nt.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),St().makeVariable(this,e,t,n)}}]),e}();Object.defineProperty(Tt,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),Ce("Tensor",(function(){return Tt}));var Et,_t,It,Ot,At,Ct=function(e){lt(n,e);var t=dt(n);function n(e,r,a,o){var i;return D(this,n),(i=t.call(this,e.shape,e.dtype,e.dataId,o)).trainable=r,i.name=a,i}return L(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!se(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));St().disposeTensor(this),this.dataId=e.dataId,St().incRef(this,null)}},{key:"dispose",value:function(){St().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(Tt);Object.defineProperty(Ct,Symbol.hasInstance,{value:function(e){return e instanceof Tt&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Et||(Et={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(_t||(_t={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(It||(It={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ot||(Ot={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(At||(At={}));var Mt={float32:Ot,int32:_t,bool:It,complex64:At};function Dt(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return Mt[e][t]}function Rt(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function Pt(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function Lt(e,t){if(e.dtype===t.dtype)return[e,t];var n=Dt(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Ft(e){var t=[];return zt(e,t,new Set),t}function zt(e,t,n){if(null!=e)if(e instanceof Tt)t.push(e);else if(r=e,Array.isArray(r)||"object"===typeof r){var r,a=e;for(var o in a){var i=a[o];n.has(i)||(n.add(i),zt(i,t,n))}}}function Bt(e){return null!=e.kernelName}var jt=function(){function e(){D(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return L(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),Ut=function(){function e(t){D(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new jt}return L(e,[{key:"ready",value:function(){var e=I(E().mark((function e(){var t,n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(Ye("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=I(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new it(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;Ge(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;Ge(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof te||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,o=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,Ye("Initialization of backend ".concat(e," failed")),Ye(n.stack||n.message)),!1}));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}catch(i){return Ye("Initialization of backend ".concat(e," failed")),Ye(i.stack||i.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,o=r.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=Ht.runKernel(Re,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return Ht.runKernel(Me,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=Ke(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,o=[],i=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var l=Bt(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Bt(e)){var c=e.kernelName,f=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var d=Ke(c,this.backendName);re(null!=d,(function(){return"Cannot find registered kernel '".concat(c,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=d.kernelFunc({inputs:f,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t);var n=t.map((function(e){return null!=e.rank?e:a.makeTensorFromTensorInfo(e)}));if(i){var s=a.getTensorsForGradient(c,f,n);o=a.saveTensorsForBackwardMode(s)}return n}}else{var h=e.forwardFunc,m=function(e){i&&(o=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return h(a.backend,m)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t),t}}var v,y=e.inputs,g=e.attrs,b=Bt(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(v=a.profiler.profileKernel(l,y,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(v),t=v.outputs):t=n()})),i&&this.addTapeNode(l,y,t,b,o,g),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map((function(e){return null!=y[e]?y[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:v.timeMs,extraInfo:v.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=qe(e);if(null!=r){var a,o=r.inputsToSave||[],i=r.outputsToSave||[];r.saveAllInputs?(re(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=o.map((function(e){return t[e]}));var s=n.filter((function(e,t){return i[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&he(e[0])&&(a=e.map((function(e){return nt(e)})));var o=r.write(a,t,n),i=new Tt(t,n,o,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){var s=this.state.tensorInfo.get(o),u=function(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return i}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,a=e.dtype,o=new Tt(r,a,n,this.nextTensorId());return this.trackTensor(o,t),o}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new Ct(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*de(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Ct||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*de(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=I(E().mark((function e(t){var n,r,a,o,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,ee(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,a=M(this.state.activeProfile.kernels),e.prev=12,a.s();case 14:if((o=a.n()).done){e.next=24;break}return i=o.value,e.next=18,i.kernelTimeMs;case 18:return i.kernelTimeMs=e.sent,e.next=21,i.extraInfo;case 21:i.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,o){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=qe(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=ke(r.size,r.dtype);return i.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,o)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=Ft(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||r.has(o.id)||o.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==i.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(re(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));re(o instanceof Tt,(function(){return"The result y returned by f() must be a tensor."}));var i=function(e,t,n){for(var r={},a={},o=0;o<t.length;o++)r[t[o].id]=!0;for(var i=0;i<e.length;i++){var s=e[i],u=s.inputs;for(var l in u){for(var c=u[l],f=!1,p=0;p<t.length;p++)if(r[c.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),f=!0,a[s.id]=!0;break}if(f)break}}var d={};d[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var v=e[m],y=v.inputs,g=0;g<v.outputs.length;g++)if(d[v.outputs[g].id]){for(var b in y)d[y[b].id]=!0,h[v.id]=!0;break}for(var w=[],k=0;k<e.length;k++){var x=e[k];if(a[x.id]&&h[x.id]){var S={};for(var N in x.inputs){var T=x.inputs[N];r[T.id]&&(S[N]=T)}var E=Object.assign({},x);E.inputs=S,E.outputs=x.outputs,w.push(E)}}return w}(this.state.activeTape,t,o);if(!a&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?function(e){var t=we(ie(e),"float32");return Ht.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(var a=function(){var a=t[o],i=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var s=a.gradient(i),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var o=n((function(){return s[t]()}));if("float32"!==o.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(o.dtype,"'"));var i=a.inputs[t];if(!se(o.shape,i.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(o.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==e[i.id])e[i.id]=o;else{var u=e[i.id];e[i.id]=r(u,o),u.dispose()}};for(var l in a.inputs)u(l)},o=t.length-1;o>=0;o--)a()}(e,i,(function(e){return r.tidy(e)}),Wt);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){var t,n=M(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(r){n.e(r)}finally{n.f()}})),r.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return re(ve(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o;re(r.every((function(e){return e instanceof Tt})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};r.forEach((function(e,t){i[t]=e}));return t.runKernelFunc({forwardFunc:function(t,n){return re((o=e.apply(void 0,[].concat(r,[n]))).value instanceof Tt,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),re(ve(o.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),o.value},backwardsFunc:function(e,t){var n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];re(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),re(a.every((function(e){return e instanceof Tt})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return a.forEach((function(e,t){i[t]=function(){return e}})),i},inputs:i})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=I(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tt(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=tt()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new jt,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function Vt(){var e=Ae();if(null==e._tfengine){var t=new Te(e);e._tfengine=new Ut(t)}return function(e){Oe=e}(e._tfengine.ENV),St=function(){return e._tfengine},e._tfengine}Ut.nextTensorId=0,Ut.nextVariableId=0;var Ht=Vt();function Wt(e,t){var n={a:e,b:t};return Ht.runKernel("Add",n)}var Kt=_e();function qt(e,t){var n=e;if(at(e))return"string"===t?[]:[e.length];if(Rt(e)){var r=e.channels||"RGBA";return[e.height,e.width*r.length]}if(Pt(e))return[e.buffer.size/(null==t?4:de(t))];if(!Array.isArray(e))return[];for(var a=[];Array.isArray(n)||at(n)&&"string"!==t;)a.push(n.length),n=n[0];return Array.isArray(e)&&_e().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Gt(e,a,[]),a}function Gt(e,t,n){if(n=n||[],Array.isArray(e)||at(e)){re(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),re(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)Gt(e[a],r,n.concat(a))}else re(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function $t(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function Yt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof Tt)return $t(r,e.dtype,t,n),e;var a=me(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),$t(r,a,t,n),null==e||!at(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var o=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(o,"'"))}var i=qt(e,a);at(e)||Array.isArray(e)||(e=[e]);var s="string"!==a?et(e,a):ot(e,[],!0);return Ht.makeTensor(s,i,a)}function Qt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map((function(e,a){return Yt(e,"".concat(t,"[").concat(a,"]"),n,r)}))}Kt.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Kt.registerFlag("IS_BROWSER",(function(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope})),Kt.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),Kt.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Kt.registerFlag("IS_SAFARI",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)})),Kt.registerFlag("PROD",(function(){return!1})),Kt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Kt.getBool("DEBUG")})),Kt.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Kt.registerFlag("IS_TEST",(function(){return!1})),Kt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return Kt.getBool("DEBUG")})),Kt.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),Kt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(function(){return!1})),Kt.registerFlag("USE_SETTIMEOUTCUSTOM",(function(){return!1}));var Xt="__op";function Jt(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=Xt;var a=function(){Ht.startScope(n);try{var e=r.apply(void 0,arguments);return Se(e)&&console.error("Cannot return a Promise inside of tidy."),Ht.endScope(e),e}catch(t){throw Ht.endScope(null),t}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}var Zt=Jt({complex_:function(e,t){var n=Yt(e,"real","complex"),r=Yt(t,"imag","complex");ae(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");var a={real:n,imag:r};return Ht.runKernel("Complex",a)}});function en(e,t,n,r){if(null==r)r=me(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Pt(e)||Rt(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return Ht.backend.createTensorFromGPUData(e,t||n,r)}if(!at(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){xe(t);var a=ie(t),o=ie(n);re(a===o,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(a," values but has ").concat(o)}));for(var i=0;i<n.length;++i){var s=n[i],u=i!==n.length-1||s!==ie(t.slice(i));re(n[i]===t[i]||!u,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return at(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?et(e,r):ot(e,[],!0),Ht.makeTensor(e,t,r)}function tn(e,t,n){return en(e,t,qt(e,n),n)}var nn={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},rn=4;function an(e,t){return on.apply(this,arguments)}function on(){return on=I(E().mark((function e(t,n){var r,a,o,i,s,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],o=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),i=E().mark((function e(){var i,u,l,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o[s],"float32"===(u=Array.isArray(t)?t[s].tensor:t[i]).dtype||"int32"===u.dtype||"bool"===u.dtype||"string"===u.dtype||"complex64"===u.dtype){e.next=4;break}throw new Error("Unsupported dtype in weight '".concat(i,"': ").concat(u.dtype));case 4:l={name:i,shape:u.shape,dtype:u.dtype},"string"===u.dtype?(c=new Promise(function(){var e=I(E().mark((function e(t){var n,r,a,o,i,s,l;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+rn*n.length,a=new Uint8Array(r),o=0,i=0;i<n.length;i++)s=n[i],l=new Uint8Array(new Uint32Array([s.length]).buffer),a.set(l,o),o+=rn,a.set(s,o),o+=s.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.push(c)):a.push(u.data()),null!=n&&(l.group=n),r.push(l);case 8:case"end":return e.stop()}}),e)})),s=0;case 5:if(!(s<o.length)){e.next=10;break}return e.delegateYield(i(),"t0",7);case 7:++s,e.next=5;break;case 10:return e.next=12,Promise.all(a);case 12:return u=e.sent,e.abrupt("return",{data:un(u),specs:r});case 14:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function sn(e,t){var n,r,a={},o=0,i=M(t);try{for(i.s();!(r=i.n()).done;){var s=r.value,u=s.name,l=s.dtype,c=s.shape,f=ie(c),p=void 0;if("quantization"in s){var d=s.quantization;if("uint8"===d.dtype||"uint16"===d.dtype){if(!("min"in d)||!("scale"in d))throw new Error("Weight ".concat(s.name," with quantization ").concat(d.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==d.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(d.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==l)throw new Error("Weight ".concat(s.name," is quantized with ").concat(d.dtype," ")+"which only supports weights of type float32 not ".concat(l,"."))}var h=nn[d.dtype],m=e.slice(o,o+f*h),v="uint8"===d.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===l)if("uint8"===d.dtype||"uint16"===d.dtype){p=new Float32Array(v.length);for(var y=0;y<v.length;y++){var g=v[y];p[y]=g*d.scale+d.min}}else{if("float16"!==d.dtype)throw new Error("Unsupported quantization type ".concat(d.dtype," ")+"for weight type float32.");void 0===n&&(n=kn()),p=n(v)}else{if("int32"!==l)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(l));if("uint8"!==d.dtype&&"uint16"!==d.dtype)throw new Error("Unsupported quantization type ".concat(d.dtype," ")+"for weight type int32.");p=new Int32Array(v.length);for(var b=0;b<v.length;b++){var w=v[b];p[b]=Math.round(w*d.scale+d.min)}}o+=f*h}else if("string"===l){var k=ie(s.shape);p=[];for(var x=0;x<k;x++){var S=new Uint32Array(e.slice(o,o+rn))[0];o+=rn;var N=new Uint8Array(e.slice(o,o+S));p.push(N),o+=S}}else{var T=nn[l],E=e.slice(o,o+f*T);if("float32"===l)p=new Float32Array(E);else if("int32"===l)p=new Int32Array(E);else if("bool"===l)p=new Uint8Array(E);else{if("complex64"!==l)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(l));p=new Float32Array(E);for(var _=new Float32Array(p.length/2),I=new Float32Array(p.length/2),O=0;O<_.length;O++)_[O]=p[2*O],I[O]=p[2*O+1];var A=tn(_,c,"float32"),C=tn(I,c,"float32");a[u]=Zt(A,C),A.dispose(),C.dispose()}o+=f*T}"complex64"!==l&&(a[u]=tn(p,c,l))}}catch(D){i.e(D)}finally{i.f()}return a}function un(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var ln="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function cn(e){return ln?Buffer.byteLength(e):new Blob([e]).size}function fn(e){if(ln)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function pn(e){if(ln){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}function dn(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function hn(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function mn(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function vn(e,t,n){var r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}function yn(e,t){return gn.apply(this,arguments)}function gn(){return gn=I(E().mark((function e(t,n){var r,a,o,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.weightsManifest){e.next=7;break}return e.next=3,n(t.weightsManifest);case 3:o=e.sent,i=C(o,2),r=i[0],a=i[1];case 7:return e.abrupt("return",vn(t,r,a));case 8:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function bn(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:cn(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:cn(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function wn(e){var t,n=[],r=M(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push.apply(n,ee(a.weights))}}catch(o){r.e(o)}finally{r.f()}return n}function kn(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),o=new Uint32Array(a),i=0;i<r.length;i++){var s=r[i],u=e[n[s>>10]+(1023&s)]+t[s>>10];o[i]=u}return new Float32Array(a)}}var xn=function(){function e(){D(this,e),this.saveRouters=[],this.loadRouters=[]}return L(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),Sn=function(e){return xn.registerSaveRouter(e)},Nn=function(e){return xn.registerLoadRouter(e)},Tn=function(e){return xn.getSaveHandlers(e)},En=function(e,t){return xn.getLoadHandlers(e,t)},_n="tensorflowjs",In="models_store",On="model_info_store";function An(){if(!_e().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Cn(e){var t=e.result;t.createObjectStore(In,{keyPath:"modelPath"}),t.createObjectStore(On,{keyPath:"modelPath"})}var Mn=function(){function e(t){if(D(this,e),this.indexedDB=An(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return L(e,[{key:"save",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(_n,1);a.onupgradeneeded=function(){return Cn(a)},a.onsuccess=function(){var o=a.result;if(null==t){var i=o.transaction(In,"readonly"),s=i.objectStore(In).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return o.close(),r(s.error)},i.oncomplete=function(){return o.close()}}else{var u,l,c=bn(t),f=o.transaction(On,"readwrite"),p=f.objectStore(On);try{u=p.put({modelPath:n.modelPath,modelArtifactsInfo:c})}catch(d){return r(d)}u.onsuccess=function(){var a,i=(l=o.transaction(In,"readwrite")).objectStore(In);try{a=i.put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c})}catch(d){return r(d)}a.onsuccess=function(){return e({modelArtifactsInfo:c})},a.onerror=function(e){var t=(p=f.objectStore(On)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(a.error)},t.onerror=function(e){return o.close(),r(a.error)}}},u.onerror=function(e){return o.close(),r(u.error)},f.oncomplete=function(){null==l?o.close():l.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();Mn.URL_SCHEME="indexeddb://";var Dn=function(e){return _e().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Mn.URL_SCHEME)?(t=e.slice(Mn.URL_SCHEME.length),new Mn(t)):null;var t};xn.registerSaveRouter(Dn),xn.registerLoadRouter(Dn);var Rn=function(){function e(){D(this,e),this.indexedDB=An()}return L(e,[{key:"listModels",value:function(){var e=I(E().mark((function e(){var t=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(_n,1);r.onupgradeneeded=function(){return Cn(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(On,"readonly"),o=a.objectStore(On).getAll();o.onsuccess=function(){var t,n={},r=M(o.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(i){r.e(i)}finally{r.f()}e(n)},o.onerror=function(e){return t.close(),n(o.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=I(E().mark((function e(t){var n=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(Mn.URL_SCHEME)?r.slice(Mn.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(_n,1);a.onupgradeneeded=function(){return Cn(a)},a.onsuccess=function(){var n,o=a.result,i=o.transaction(On,"readwrite"),s=i.objectStore(On),u=s.get(t);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=s.delete(t),i=function(){var a=(n=o.transaction(In,"readwrite")).objectStore(In).delete(t);a.onsuccess=function(){return e(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=i,a.onerror=function(e){return i(),o.close(),r(u.error)}},u.onerror=function(e){return o.close(),r(u.error)},i.oncomplete=function(){null==n?o.close():n.oncomplete=function(){return o.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pn="/",Ln="tensorflowjs_models",Fn="info",zn="model_topology",Bn="weight_specs",jn="weight_data",Un="model_metadata";function Vn(e){return{info:[Ln,e,Fn].join(Pn),topology:[Ln,e,zn].join(Pn),weightSpecs:[Ln,e,Bn].join(Pn),weightData:[Ln,e,jn].join(Pn),modelMetadata:[Ln,e,Un].join(Pn)}}function Hn(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function Wn(e){var t=e.split(Pn);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(Pn)}var Kn=function(){function e(t){if(D(this,e),!_e().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Vn(this.modelPath)}return L(e,[{key:"save",value:function(){var e=I(E().mark((function e(t){var n,r,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=bn(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,fn(t.weightData)),o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,initializerSignature:null!=t.initializerSignature?t.initializerSignature:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),e.abrupt("return",{modelArtifactsInfo:a});case 17:throw e.prev=17,e.t0=e.catch(7),Hn(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=I(E().mark((function e(){var t,n,r,a,o,i,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(o),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,null!=i.signature&&(n.signature=i.signature),null!=i.userDefinedMetadata&&(n.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(n.modelInitializer=i.modelInitializer),null!=i.initializerSignature&&(n.initializerSignature=i.initializerSignature),null!=i.trainingConfig&&(n.trainingConfig=i.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=pn(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();Kn.URL_SCHEME="localstorage://";var qn=function(e){return _e().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Kn.URL_SCHEME)?(t=e.slice(Kn.URL_SCHEME.length),new Kn(t)):null;var t};xn.registerSaveRouter(qn),xn.registerLoadRouter(qn);var Gn=function(){function e(){D(this,e),re(_e().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),re("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return L(e,[{key:"listModels",value:function(){var e=I(E().mark((function e(){var t,n,r,a,o,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=Ln+Pn,r=Pn+Fn,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(n)&&o.endsWith(r)&&(i=Wn(o),t[i]=JSON.parse(this.LS.getItem(o)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=I(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(Kn.URL_SCHEME)?a.slice(Kn.URL_SCHEME.length):a,n=Vn(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),Hn(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$n="://",Yn=function(){function e(){D(this,e),this.managers={}}return L(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){re(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith($n)&&(t=t.slice(0,t.indexOf($n))),re(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();re(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(t){var n=e.getInstance().managers[t];if(null==n)throw new Error("Cannot find model manager for scheme '".concat(t,"'"));return n}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function Qn(e){if(-1===e.indexOf($n))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Yn.getSchemes().join(",")));return{scheme:e.split($n)[0],path:e.split($n)[1]}}function Xn(e,t){return Jn.apply(this,arguments)}function Jn(){return Jn=I(E().mark((function e(t,n){var r,a,o,i,s,u,l,c,f,p,d=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]&&d[2],re(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),re((a=xn.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),re(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(t,".")})),o=a[0],re((i=xn.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),re(i.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=i[0],u=Qn(t).scheme,l=Qn(t).path,c=u===Qn(t).scheme,e.next=15,o.load();case 15:if(f=e.sent,!r||!c){e.next=19;break}return e.next=19,Yn.getManager(u).removeModel(l);case 19:return e.next=21,s.save(f);case 21:if(p=e.sent,!r||c){e.next=25;break}return e.next=25,Yn.getManager(u).removeModel(l);case 25:return e.abrupt("return",p.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),Jn.apply(this,arguments)}function Zn(){return er.apply(this,arguments)}function er(){return(er=I(E().mark((function e(){var t,n,r,a,o,i,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Yn.getSchemes(),n={},r=M(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return o=a.value,e.next=9,Yn.getManager(o).listModels();case 9:for(s in i=e.sent)n[o+$n+s]=i[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function tr(e){return nr.apply(this,arguments)}function nr(){return(nr=I(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn(t),r=Yn.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,t){return ar.apply(this,arguments)}function ar(){return(ar=I(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",Xn(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(e,t){return ir.apply(this,arguments)}function ir(){return(ir=I(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",Xn(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=function(){function e(){D(this,e),this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}return L(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}},{key:"setTimeoutCustom",value:function(e,t){var n=this;"undefined"!==typeof window&&_e().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((function(){window.postMessage({name:n.messageName,index:n.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(function(e){e.source===window&&e.data.name===n.messageName&&(e.stopPropagation(),(0,n.functionRefs[e.data.index])(),n.handledMessageCount++,n.handledMessageCount===n.functionRefs.length&&(n.functionRefs=[],n.handledMessageCount=0))}),!0))):setTimeout(e,t)}},{key:"isTypedArray",value:function(e){return Qe(e)}}]),e}();if(_e().get("IS_BROWSER")){_e().setPlatform("browser",new sr);try{Yn.registerManager(Kn.URL_SCHEME,new Gn)}catch(Qh){}try{Yn.registerManager(Mn.URL_SCHEME,new Rn)}catch(Qh){}}var ur,lr=function(){return n(410)};var cr=function(){function e(){D(this,e),this.util=n(628),this.textEncoder=new this.util.TextEncoder}return L(e,[{key:"fetch",value:function(e,t){return null!=_e().global.fetch?_e().global.fetch(e,t):(null==ur&&(ur=lr()),ur(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}},{key:"isTypedArray",value:function(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}]),e}();function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",xe(e),new xt(e,t,n)}_e().get("IS_NODE")&&!_e().get("IS_BROWSER")&&_e().setPlatform("node",new cr);var pr=Jt({cast_:function(e,t){var n=Yt(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={x:n},a={dtype:t};return Ht.runKernel(Me,r,a)}});var dr=Jt({clone_:function(e){var t={x:Yt(e,"x","clone","string_or_numeric")};return Ht.runKernel(Re,t)}});function hr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}function mr(e,t){return Ht.tidy(e,t)}function vr(e){Ft(e).forEach((function(e){return e.dispose()}))}function yr(e){return Ht.keep(e)}Vt(),Nt={buffer:fr,cast:pr,clone:dr,print:hr};var gr=Jt({add_:function(e,t){var n=Yt(e,"a","add"),r=Yt(t,"b","add"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("Add",o)}});var br=Jt({floorDiv_:function(e,t){var n=Yt(e,"a","floorDiv"),r=Yt(t,"b","floorDiv"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("FloorDiv",o)}});var wr=Jt({div_:function(e,t){var n=Yt(e,"a","div"),r=Yt(t,"b","div"),a=C(Lt(n,r),2);if(n=a[0],r=a[1],"int32"===n.dtype&&"int32"===r.dtype)return br(n,r);var o={a:n,b:r};return Ht.runKernel("RealDiv",o,{})}});var kr=Jt({mul_:function(e,t){var n=Yt(e,"a","mul"),r=Yt(t,"b","mul"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("Multiply",o)}});var xr=Jt({sqrt_:function(e){var t={x:Yt(e,"x","sqrt","float32")};return Ht.runKernel("Sqrt",t)}});var Sr=Jt({square_:function(e){var t=Yt(e,"x","square");return Ht.runKernel("Square",{x:t},{})}});var Nr=Jt({zerosLike_:function(e){var t={x:Yt(e,"x","zerosLike")};return Ht.runKernel("ZerosLike",t)}});function Tr(e){return Ht.customGrad(e)}function Er(e,t){if((at(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&at(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return en(e,[],[],t)}var _r=function(){function e(){D(this,e)}return L(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),Ir=function(){function e(){D(this,e),this.classNameMap={}}return L(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Or(e){re(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),re("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),re(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Ir.register(e)}var Ar=function(e){lt(n,e);var t=dt(n);function n(){return D(this,n),t.apply(this,arguments)}return L(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,o=r.grads;if(null!=n){var i=n.map((function(e){return{name:e.name,tensor:o[e.name]}}));this.applyGradients(i)}else this.applyGradients(o);return vr(o),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return function(e,t){re(ve(e),(function(){return"The f passed in variableGrads(f) must be a function"})),re(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Ct})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Ht.registeredVariables)t.push(Ht.registeredVariables[r]);var a=n?t.filter((function(e){return!e.trainable})):null,o=t.length;t=t.filter((function(e){return e.trainable})),re(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(o," variables is ")+"trainable."}));var i=Ht.gradients(e,t,null,!0),s=i.value,u=i.grads;re(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),re(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(s.rank," tensor")}));var l={};return t.forEach((function(e,t){null!=u[t]&&(l[e.name]=u[t])})),null!=a&&a.forEach((function(e){return l[e.name]=null})),{value:s,grads:l}}(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&vr(this.iterations_)}},{key:"saveIterations",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:Er(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(_r);Object.defineProperty(Ar,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Cr=function(e){lt(n,e);var t=dt(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return D(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=o,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==o&&(a.epsilon=Ht.backend.epsilon()),a}return L(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ht.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:mr((function(){return Nr(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:mr((function(){return Nr(a).variable(false)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;mr((function(){var e=gr(kr(i,t.rho),kr(Sr(o),1-t.rho)),n=kr(wr(xr(gr(s,t.epsilon)),xr(gr(i,t.epsilon))),o),r=gr(kr(s,t.rho),kr(Sr(n),1-t.rho));i.assign(e),s.assign(r);var u=gr(kr(n,-t.learningRate),a);a.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(vr(this.accumulatedGrads.map((function(e){return e.variable}))),vr(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(ee(this.accumulatedGrads),ee(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"className",get:function(){return"Adadelta"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(Ar);function Mr(e,t,n){xe(e);var r={shape:e,value:t,dtype:n=n||me(t)};return Ht.runKernel(De,{},r)}var Dr=function(e){lt(n,e);var t=dt(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return D(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return L(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ht.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:mr((function(){return Mr(a.shape,t.initialAccumulatorValue).variable(false)}))}}var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable;mr((function(){var e=gr(i,Sr(o));i.assign(e);var n=gr(kr(wr(o,xr(gr(e,Ht.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&vr(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"className",get:function(){return"Adagrad"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(Ar);var Rr=Jt({pow_:function(e,t){var n=Yt(e,"base","pow"),r=Yt(t,"exp","pow"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("Pow",o)}});var Pr=Jt({sub_:function(e,t){var n=Yt(e,"a","sub"),r=Yt(t,"b","sub"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("Sub",o)}}),Lr=function(e){lt(n,e);var t=dt(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return D(this,n),(o=t.call(this)).learningRate=e,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],mr((function(){o.accBeta1=Er(r).variable(),o.accBeta2=Er(a).variable()})),null==i&&(o.epsilon=Ht.backend.epsilon()),o}return L(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);mr((function(){var r=Pr(1,t.accBeta1),a=Pr(1,t.accBeta2);n.forEach((function(n,o){var i=Ht.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(n,"/m"),variable:mr((function(){return Nr(i).variable(false)}))}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:"".concat(n,"/v"),variable:mr((function(){return Nr(i).variable(false)}))});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,l=t.accumulatedSecondMoment[o].variable,c=gr(kr(u,t.beta1),kr(s,1-t.beta1)),f=gr(kr(l,t.beta2),kr(Sr(s),1-t.beta2)),p=wr(c,r),d=wr(f,a);u.assign(c),l.assign(f);var h=gr(kr(wr(p,gr(xr(d),t.epsilon)),-t.learningRate),i);i.assign(h)}})),t.accBeta1.assign(kr(t.accBeta1,t.beta1)),t.accBeta2.assign(kr(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&vr(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&vr(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(ee(this.accumulatedFirstMoment),ee(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){var n,r=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,mr((function(){r.accBeta1.assign(Rr(r.beta1,r.iterations_+1)),r.accBeta2.assign(Rr(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"className",get:function(){return"Adam"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(Ar);var Fr=Jt({abs_:function(e){var t=Yt(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return Ht.runKernel("ComplexAbs",n)}var r={x:t};return Ht.runKernel("Abs",r)}});function zr(e,t){for(var n=Math.max(e.length,t.length),r=new Array(n),a=0;a<n;a++){var o=e[e.length-a-1];null==o&&(o=1);var i=t[t.length-a-1];if(null==i&&(i=1),1===o)r[n-a-1]=i;else if(1===i)r[n-a-1]=o;else{if(o!==i){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}r[n-a-1]=o}}return r}var Br=Jt({maximum_:function(e,t){var n=Yt(e,"a","maximum"),r=Yt(t,"b","maximum"),a=C(Lt(n,r),2);n=a[0],r=a[1],"bool"===n.dtype&&(n=pr(n,"int32"),r=pr(r,"int32")),zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("Maximum",o)}}),jr=function(e){lt(n,e);var t=dt(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return D(this,n),(o=t.call(this)).learningRate=e,o.beta1=r,o.beta2=a,o.epsilon=i,o.decay=s,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],mr((function(){o.iteration=Er(0).variable(),o.accBeta1=Er(r).variable()})),null==i&&(o.epsilon=Ht.backend.epsilon()),o}return L(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);mr((function(){var r=Pr(1,t.accBeta1),a=wr(-t.learningRate,gr(kr(t.iteration,t.decay),1));n.forEach((function(n,o){var i=Ht.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(n,"/m"),variable:Nr(i).variable(false)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:"".concat(n,"/v"),variable:Nr(i).variable(false)});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,l=t.accumulatedWeightedInfNorm[o].variable,c=gr(kr(u,t.beta1),kr(s,1-t.beta1)),f=kr(l,t.beta2),p=Fr(s),d=Br(f,p);u.assign(c),l.assign(d);var h=gr(kr(wr(a,r),wr(c,gr(d,t.epsilon))),i);i.assign(h)}})),t.iteration.assign(gr(t.iteration,1)),t.accBeta1.assign(kr(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&vr(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&vr(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"className",get:function(){return"Adamax"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(Ar),Ur=function(e){lt(n,e);var t=dt(n);function n(e){var r;return D(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return L(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);n.forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=Ht.registeredVariables[n];mr((function(){var e=gr(kr(t.c,a),o);o.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=yr(Er(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"className",get:function(){return"SGD"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(Ar),Vr=function(e){lt(n,e);var t=dt(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return D(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=o,a.accumulations=[],a.m=Er(a.momentum),a}return L(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ht.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:mr((function(){return Nr(a).variable(false)}))}}var o=t.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&mr((function(){var e,n=gr(kr(t.m,o),i);e=t.useNesterov?gr(kr(t.c,gr(i,kr(n,t.m))),a):gr(kr(t.c,n),a),o.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&vr(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"className",get:function(){return"Momentum"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(Ur),Hr=function(e){lt(n,e);var t=dt(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(D(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=o,r.epsilon=i,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==i&&(r.epsilon=Ht.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return L(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Ht.registeredVariables[n],o=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:mr((function(){return Nr(a).variable(o)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:mr((function(){return Nr(a).variable(o)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:mr((function(){return Nr(a).variable(o)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;mr((function(){var e=gr(kr(s,t.decay),kr(Sr(i),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,o=gr(kr(n,t.decay),kr(i,1-t.decay)),l=wr(kr(i,t.learningRate),xr(Pr(e,gr(Sr(o),t.epsilon)))),c=gr(kr(u,t.momentum),l);s.assign(e),n.assign(o),u.assign(c);var f=Pr(a,c);a.assign(f)}else{var p=gr(kr(s,t.decay),kr(Sr(i),1-t.decay)),d=gr(kr(u,t.momentum),wr(kr(i,t.learningRate),xr(gr(p,t.epsilon))));s.assign(p),u.assign(d);var h=Pr(a,d);a.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&vr(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&vr(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&vr(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=I(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(ee(this.accumulatedMeanSquares),ee(this.accumulatedMoments)),this.centered&&t.push.apply(t,ee(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=I(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"className",get:function(){return"RMSProp"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(Ar),Wr=[Cr,Dr,Lr,jr,Vr,Hr,Ur];function Kr(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var qr=function(){function e(t){if(D(this,e),!_e().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return L(e,[{key:"save",value:function(){var e=I(E().mark((function e(t){var n,r,a,o,i,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=mn(t,r),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,i.href=o,e.next=15,Kr((function(){return i.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,Kr((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:bn(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();qr.URL_SCHEME="downloads://";var Gr=function(){function e(t){if(D(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return L(e,[{key:"load",value:function(){var e=I(E().mark((function e(){var t=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),o=a.modelTopology;if(null!=o)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var i=yn(a,(function(e){return t.loadWeights(e)}));e(i)}else e({modelTopology:o});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],a=[],o=M(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.push.apply(r,ee(i.weights)),a.push.apply(a,ee(i.paths))}}catch(Qh){o.e(Qh)}finally{o.f()}var s=this.checkManifestAndWeightFiles(e),u=a.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,dn(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],a=this.weightsFiles.map((function(e){return hn(e.name)})),o={},i=M(e);try{for(i.s();!(t=i.n()).done;){t.value.paths.forEach((function(e){var t=hn(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===a.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));o[e]=n.weightsFiles[a.indexOf(t)]}))}}catch(Qh){i.e(Qh)}finally{i.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return o}}]),e}();function $r(e){return new Gr(e)}xn.registerSaveRouter((function(e){return _e().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(qr.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new qr(e)}(e.slice(qr.URL_SCHEME.length)):null}));var Yr=function(){function e(t){if(D(this,e),this.shards=[],this.previousShardIndex=0,t instanceof Array||(t=[t]),0!==(t=t.map((function(e){return at(e)?e.buffer:e}))).length){this.bufferUniformSize=t[0].byteLength;for(var n=0,r=0;r<t.length;r++){var a=t[r];r!==t.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);var o=n+a.byteLength;this.shards.push({buffer:a,start:n,end:o}),n=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}}return L(e,[{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);var n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));for(var r=new ArrayBuffer(t-e),a=new Uint8Array(r),o=0,i=n;i<this.shards.length;i++){var s=this.shards[i],u=e+o-s.start,l=o,c=Math.min(t,s.end)-s.start,f=new Uint8Array(s.buffer.slice(u,c));if(a.set(f,l),o+=f.length,t<s.end)break}return r}},{key:"findShardForByte",value:function(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;var n=function(e,t){var n=0,r=e.length;for(;n<=r;){var a=Math.floor((r-n)/2)+n,o=t(e[a]);if(0===o)return a;o<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}]),e}();function Qr(e,t,n,r){!function(e){re(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){re(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),re(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),re(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(o){return o.then((function(o){var i=n+ ++a/e.length*(r-n);return t(i),o})),o})))}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return(Jr=I(E().mark((function e(t,n){var r,a,o,i,s,u,l,c,f;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?_e().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),o=0,i=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Qr(a,n.onProgress,o,i);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),l=.5,c=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Qr(u,n.onProgress,l,c);case 26:e.t1=e.sent;case 27:return f=e.t1,e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(e){return ea.apply(this,arguments)}function ea(){return ea=I(E().mark((function e(t){var n,r,a,o,i=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,o=ta((function(e){return Xr(e,{requestInit:a})})),e.abrupt("return",o(t,n,r));case 6:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e){return function(){var t=I(E().mark((function t(n){var r,a,o,i,s,u,l,c,f,p,d,h,m=arguments;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:"",a=m.length>2?m[2]:void 0,o=n.map((function(){return!1})),i={},s=null!=a?a.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,l=nn[r]*ie(e.shape),c=function(){o[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=a?a.forEach((function(t,n){t===e.name&&(c(),s[n]=!0)})):c(),u.push(e.name),n+=l}))})),s.every((function(e){return e}))){t.next=10;break}throw l=a.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(l.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return c=o.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),t.next=15,e(f);case 15:return p=t.sent,d={},h=0,c.forEach((function(e){var t=n[e].paths.length,r=new Yr(p.slice(h,h+t));i[e].forEach((function(e){var t=sn(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)d[n]=t[n]})),h+=t})),t.abrupt("return",d);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var na=function(){function e(t,n){if(D(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(re("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=_e().platform.fetch,re(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&re(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return L(e,[{key:"save",value:function(){var e=I(E().mark((function e(t){var n,r,a,o;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=mn(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(o=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:bn(t),responses:[o]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=I(E().mark((function e(){var t,n,r,a,o,i=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,o=n.weightsManifest,null!=a||null!=o){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",yn(n,(function(e){return i.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=I(E().mark((function e(t){var n,r,a,o,i,s,u,l,c,f,p,d,h,m,v,y;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=ra(n),a=C(r,2),o=a[0],i=a[1],s=this.weightPathPrefix||o,u=wn(t),l=[],c=[],f=M(t);try{for(f.s();!(p=f.n()).done;){d=p.value,h=M(d.paths);try{for(h.s();!(m=h.n()).done;)v=m.value,null!=this.weightUrlConverter?c.push(this.weightUrlConverter(v)):l.push(s+v+i)}catch(Qh){h.e(Qh)}finally{h.f()}}}catch(Qh){f.e(Qh)}finally{f.f()}if(!this.weightUrlConverter){e.next=17;break}return e.t0=l.push,e.t1=l,e.t2=ee,e.next=14,Promise.all(c);case 14:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 17:return e.next=19,Xr(l,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 19:return y=e.sent,e.abrupt("return",[u,dn(y)]);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ra(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function aa(e){return null!=e.match(na.URL_SCHEME_REGEX)}na.URL_SCHEME_REGEX=/^https?:\/\//;var oa=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return aa(e)})):aa(e))?ia(e,t):null};function ia(e,t){return new na(e,t)}function sa(e,t){return ia(e,t)}xn.registerSaveRouter(oa),xn.registerLoadRouter(oa);var ua,la=function(){function e(t){D(this,e),this.modelArtifacts=t}return L(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),ca=function(){function e(t){D(this,e),this.saveHandler=t}return L(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),fa=L((function e(t){D(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function pa(e,t,n,r){var a=arguments;return new fa(da.apply(void 0,ee(a)))}function da(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new la(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new la({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new la({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function ha(e){return new ca(e)}function ma(e){return new ca(e)}function va(e,t,n){if(oe(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=qt(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return en(e,t,r,n)}function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,o=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=Ke(Be,Ht.backendName)){var u={pixels:e},l={numChannels:t};return Ht.runKernel(Be,u,l)}var c,f,p=C(a?[e.videoWidth,e.videoHeight]:[e.width,e.height],2),d=p[0],h=p[1];if(i)c=e.getContext("2d").getImageData(0,0,d,h).data;else if(r||n)c=e.data;else if(o||a||s){if(null==ua)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");ua=new OffscreenCanvas(1,1).getContext("2d")}else ua=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});ua.canvas.width=d,ua.canvas.height=h,ua.drawImage(e,0,0,d,h),c=ua.getImageData(0,0,d,h).data}if(4===t)f=new Int32Array(c);else{var m=d*h;f=new Int32Array(m*t);for(var v=0;v<m;v++)for(var y=0;y<t;++y)f[v*t+y]=c[4*v+y]}return va(f,[h,d,t],"int32")}function ga(e,t){return ba.apply(this,arguments)}function ba(){return ba=I(E().mark((function e(t,n){var r,a,o,i,s,u,l,c,f,p,d,h,m,v,y,g,b;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Yt(t,"img","toPixels"),t instanceof Tt||(r=pr(a=r,"int32"),a.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(o=r.shape.slice(0,2),i=C(o,2),s=i[0],u=i[1],!((l=2===r.rank?1:r.shape[2])>4||2===l)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(l));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:c=e.sent,f="float32"===r.dtype?255:1,p=new Uint8ClampedArray(u*s*4),d=0;case 16:if(!(d<s*u)){e.next=41;break}h=[0,0,0,255],m=0;case 19:if(!(m<l)){e.next=33;break}if(v=c[d*l+m],"float32"!==r.dtype){e.next=26;break}if(!(v<0||v>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(v,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(v<0||v>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(v,"."));case 29:1===l?(h[0]=v*f,h[1]=v*f,h[2]=v*f):h[m]=v*f;case 30:m++,e.next=19;break;case 33:p[(y=4*d)+0]=Math.round(h[0]),p[y+1]=Math.round(h[1]),p[y+2]=Math.round(h[2]),p[y+3]=Math.round(h[3]);case 38:++d,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,g=n.getContext("2d"),b=new ImageData(p,u,s),g.putImageData(b,0,0)),r!==t&&r.dispose(),e.abrupt("return",p);case 44:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}var wa=Jt({fromPixels_:ya});var ka=Jt({acos_:function(e){var t={x:Yt(e,"x","acos")};return Ht.runKernel("Acos",t)}});var xa=Jt({acosh_:function(e){var t={x:Yt(e,"x","acosh")};return Ht.runKernel("Acosh",t)}});var Sa=Jt({addN_:function(e){re(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),re(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return Yt(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!se(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Ht.runKernel("AddN",r)}});var Na=Jt({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Yt(e,"x","all","bool")},a={axis:t,keepDims:n};return Ht.runKernel("All",r,a)}});var Ta=Jt({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Yt(e,"x","any","bool")},a={axis:t,keepDims:n};return Ht.runKernel("Any",r,a)}});var Ea=Jt({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Yt(e,"x","argMax")},r={axis:t};return Ht.runKernel("ArgMax",n,r)}});var _a=Jt({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Yt(e,"x","argMin")},r={axis:t};return Ht.runKernel("ArgMin",n,r)}});var Ia=Jt({asin_:function(e){var t={x:Yt(e,"x","asin")};return Ht.runKernel("Asin",t)}});var Oa=Jt({asinh_:function(e){var t={x:Yt(e,"x","asinh")};return Ht.runKernel("Asinh",t)}});var Aa=Jt({atan_:function(e){var t={x:Yt(e,"x","atan")};return Ht.runKernel("Atan",t)}});var Ca=Jt({atan2_:function(e,t){var n=Yt(e,"a","atan2"),r=Yt(t,"b","atan2"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("Atan2",o)}});var Ma=Jt({atanh_:function(e){var t={x:Yt(e,"x","atanh")};return Ht.runKernel("Atanh",t)}});function Da(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",u=-1,l=-1,c=-1,f=-1;if("channelsLast"===s){var p=C(e,4);u=p[0],l=p[1],c=p[2],f=p[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var d=C(e,4);u=d[0],f=d[1],l=d[2],c=d[3]}var h,m=C(t,4),v=m[0],y=m[1],g=m[3],b=C(Pa(n),2),w=b[0],k=b[1],x=C(Pa(r),2),S=x[0],N=x[1],T=La(v,S),E=La(y,N),_=function(e,t,n,r,a,o,i,s,u){var l,c,f;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,a){null==r&&(r=Ra(e,t,n));var o=e[0],i=e[1],s=Fa((o-t+2*r)/n+1,a),u=Fa((i-t+2*r)/n+1,a);return[s,u]}([t,n],o,r,e,s);c=p[0],f=p[1]}else if("same"===e){c=Math.ceil(t/r),f=Math.ceil(n/a);var d=Math.max(0,(c-1)*r+o-t),h=Math.max(0,(f-1)*a+i-n),m=Math.floor(d/2),v=d-m,y=Math.floor(h/2);l={top:m,bottom:v,left:y,right:h-y,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),f=Math.ceil((n-i+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var g="channelsLast"===u?e[1][0]:e[2][0],b="channelsLast"===u?e[1][1]:e[2][1],w="channelsLast"===u?e[2][0]:e[3][0],k="channelsLast"===u?e[2][1]:e[3][1];l={top:g,bottom:b,left:w,right:k,type:0===g&&0===b&&0===w&&0===k?"VALID":"EXPLICIT"},c=Fa((t-o+g+b)/r+1,s),f=Fa((n-i+w+k)/a+1,s)}return{padInfo:l,outHeight:c,outWidth:f}}(a,l,c,w,k,T,E,o,s),I=_.padInfo,O=_.outHeight,A=_.outWidth,M=i?g*f:g;return"channelsFirst"===s?h=[u,M,O,A]:"channelsLast"===s&&(h=[u,O,A,M]),{batchSize:u,dataFormat:s,inHeight:l,inWidth:c,inChannels:f,outHeight:O,outWidth:A,outChannels:M,padInfo:I,strideHeight:w,strideWidth:k,filterHeight:v,filterWidth:y,effectiveFilterHeight:T,effectiveFilterWidth:E,dilationHeight:S,dilationWidth:N,inShape:e,outShape:h,filterShape:t}}function Ra(e,t,n){var r=La(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function Pa(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function La(e,t){return t<=1?e:e+(e-1)*(t-1)}function Fa(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function za(e){var t=C(Pa(e),3),n=t[0],r=t[1],a=t[2];return 1===n&&1===r&&1===a}function Ba(e,t){return za(e)||za(t)}function ja(e){return Pa(e).every((function(e){return e>0}))}function Ua(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)re(ue(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){re(ue(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}var Va=Jt({reshape_:function(e,t){var n={x:Yt(e,"x","reshape","string_or_numeric")},r={shape:t};return Ht.runKernel("Reshape",n,r)}});var Ha=Jt({avgPool_:function(e,t,n,r,a){var o=Yt(e,"x","avgPool","float32");re(Ba(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var i=o,s=!1;3===o.rank&&(s=!0,i=Va(o,[1,o.shape[0],o.shape[1],o.shape[2]])),re(4===i.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(i.rank,".")})),Ua("avgPool",r,a);var u={x:i},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=Ht.runKernel("AvgPool",u,l);return c=pr(c,o.dtype),s?Va(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Wa=Jt({avgPool3d_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=Yt(e,"x","avgPool3d","float32"),s=i,u=!1;4===i.rank&&(u=!0,s=Va(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),re(5===s.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),re("NDHWC"===o,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)})),re("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(function(){return"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")})),Ua("avgPool3d",r,a);var l={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},f=Ht.runKernel("AvgPool3D",l,c);return f=pr(f,s.dtype),u?Va(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});var Ka=Jt({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;re(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Qt(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return dr(n[0]);var r=n,a={axis:t};return Ht.runKernel("Concat",r,a)}});var qa=Jt({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Yt(e,"a","matMul"),o=Yt(t,"b","matMul"),i=C(Lt(a,o),2),s={a:a=i[0],b:o=i[1]},u={transposeA:n,transposeB:r};return Ht.runKernel("BatchMatMul",s,u)}});var Ga=Jt({sigmoid_:function(e){var t={x:Yt(e,"x","sigmoid","float32")};return Ht.runKernel("Sigmoid",t)}});var $a=Jt({slice_:function(e,t,n){var r=Yt(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");var a={x:r},o={begin:t,size:n};return Ht.runKernel("Slice",a,o)}});var Ya=Jt({tanh_:function(e){var t={x:Yt(e,"x","tanh","float32")};return Ht.runKernel("Tanh",t)}});var Qa=Jt({basicLSTMCell_:function(e,t,n,r,a,o){var i=Yt(e,"forgetBias","basicLSTMCell"),s=Yt(t,"lstmKernel","basicLSTMCell"),u=Yt(n,"lstmBias","basicLSTMCell"),l=Yt(r,"data","basicLSTMCell"),c=Yt(a,"c","basicLSTMCell"),f=Yt(o,"h","basicLSTMCell"),p=Ka([l,f],1),d=qa(p,s),h=gr(d,u),m=h.shape[0],v=h.shape[1]/4,y=[m,v],g=$a(h,[0,0],y),b=$a(h,[0,v],y),w=$a(h,[0,2*v],y),k=$a(h,[0,3*v],y),x=gr(kr(Ga(g),Ya(b)),kr(c,Ga(gr(i,w))));return[x,kr(Ya(x),Ga(k))]}});var Xa=Jt({batchToSpaceND_:function(e,t,n){var r=Yt(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));re(r.rank>=1+t.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)})),re(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),re(r.shape[0]%a===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)}));var o={x:r},i={blockShape:t,crops:n};return Ht.runKernel("BatchToSpaceND",o,i)}});var Ja=Jt({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);var i,s,u=Yt(e,"x","batchNorm"),l=Yt(t,"mean","batchNorm"),c=Yt(n,"variance","batchNorm");null!=a&&(i=Yt(a,"scale","batchNorm")),null!=r&&(s=Yt(r,"offset","batchNorm")),re(l.rank===c.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),re(null==s||l.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),re(null==i||l.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var f=function(e){return 0===e.rank||1===e.rank?Va(e,[1,1,1,e.size]):2===e.rank?Va(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Va(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(u),p={x:f,scale:i,offset:s,mean:l,variance:c},d={varianceEpsilon:o},h=Ht.runKernel("FusedBatchNorm",p,d);return Va(h,u.shape)}});var Za=Jt({batchNorm2d_:function(e,t,n,r,a,o){var i,s,u=Yt(e,"x","batchNorm"),l=Yt(t,"mean","batchNorm"),c=Yt(n,"variance","batchNorm");return null!=a&&(i=Yt(a,"scale","batchNorm")),null!=r&&(s=Yt(r,"offset","batchNorm")),re(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),re(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(l.rank,".")})),re(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=i&&re(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&re(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),Ja(u,l,c,s,i,o)}});var eo=Jt({batchNorm3d_:function(e,t,n,r,a,o){var i,s,u=Yt(e,"x","batchNorm"),l=Yt(t,"mean","batchNorm"),c=Yt(n,"variance","batchNorm");return null!=a&&(i=Yt(a,"scale","batchNorm")),null!=r&&(s=Yt(r,"offset","batchNorm")),re(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),re(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(l.rank,".")})),re(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=i&&re(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&re(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),Ja(u,l,c,s,i,o)}});var to=Jt({batchNorm4d_:function(e,t,n,r,a,o){var i,s,u=Yt(e,"x","batchNorm"),l=Yt(t,"mean","batchNorm"),c=Yt(n,"variance","batchNorm");return null!=a&&(i=Yt(a,"scale","batchNorm")),null!=r&&(s=Yt(r,"offset","batchNorm")),re(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),re(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(l.rank,".")})),re(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=i&&re(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&re(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),Ja(u,l,c,s,i,o)}});var no=Jt({bincount_:function(e,t,n){var r=Yt(e,"x","bincount"),a=Yt(t,"weights","bincount");re("int32"===r.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)})),re(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),re(a.size===r.size||0===a.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")}));var o={x:r,weights:a},i={size:n};return Ht.runKernel("Bincount",o,i)}});var ro=Jt({bitwiseAnd_:function(e,t){var n=Yt(e,"x","bitwiseAnd"),r=Yt(t,"y","bitwiseAnd");if(!se(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));var a={a:n,b:r};return Ht.runKernel("BitwiseAnd",a)}});var ao=Jt({broadcastArgs_:function(e,t){var n=Yt(e,"s0","broadcastArgs","int32"),r=Yt(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var a={s0:n,s1:r};return Ht.runKernel("BroadcastArgs",a)}});var oo=Jt({broadcastTo_:function(e,t){var n=Yt(e,"broadcastTo","x"),r=n.shape;if(xe(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=Va(n,a)}for(var o=n.shape,i=Array.from(t),s=t.length-1;s>=0;s--)if(o[s]===t[s])i[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));if(0===i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0})).length)return dr(n);var u={x:n},l={reps:i};return Ht.runKernel(Fe,u,l)}});var io=Jt({ceil_:function(e){var t={x:Yt(e,"x","ceil","float32")};return Ht.runKernel("Ceil",t)}});var so=Jt({clipByValue_:function(e,t,n){var r=Yt(e,"x","clipByValue");if(re(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")})),t===n)return Mr(r.shape,t,r.dtype);var a={x:r},o={clipValueMin:t,clipValueMax:n};return Ht.runKernel("ClipByValue",a,o)}});var uo=Jt({concat1d_:function(e){return Ka(e,0)}});var lo=Jt({concat2d_:function(e,t){return Ka(e,t)}});var co=Jt({concat3d_:function(e,t){return Ka(e,t)}});var fo=Jt({concat4d_:function(e,t){return Ka(e,t)}});var po=Jt({conv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=Yt(e,"x","conv2d","float32"),u=Yt(t,"filter","conv2d","float32"),l=s,c=!1;3===s.rank&&(c=!0,l=Va(s,[1,s.shape[0],s.shape[1],s.shape[2]])),re(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(l.rank,".")})),re(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(u.rank,".")})),Ua("conv2d",r,i);var f="NHWC"===a?l.shape[3]:l.shape[1];re(f===u.shape[2],(function(){return"Error in conv2d: depth of input (".concat(f,") must match ")+"input depth for filter ".concat(u.shape[2],".")})),re(Ba(n,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")})),re(ja(o),(function(){return"Error in conv2D: Dilated rates should be larger than 0."})),re(ja(n),(function(){return"Error in conv2D: Strides should be larger than 0."}));var p={x:l,filter:u},d={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},h=Ht.runKernel("Conv2D",p,d);return c?Va(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var ho=Jt({conv1d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0,s=Yt(e,"x","conv1d"),u=Yt(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=Va(s,[1,s.shape[0],s.shape[1]])),re(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(l.rank,".")})),re(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(u.rank,".")})),Ua("conv1d",r,i),re(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input (".concat(l.shape[2],") must match ")+"input depth for filter ".concat(u.shape[1],".")})),re(Ba(n,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'")})),re(ja(o),(function(){return"Error in conv1D: Dilated rates should be larger than 0."})),re(ja(n),(function(){return"Error in conv1D: Stride should be larger than 0."})),re("NWC"===a,(function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")}));var f=Va(u,[1,u.shape[0],u.shape[1],u.shape[2]]),p=Va(l,[l.shape[0],1,l.shape[1],l.shape[2]]),d=po(p,f,[1,n],r,"NHWC",[1,o],i);return Va(d,c?[d.shape[2],d.shape[3]]:[d.shape[0],d.shape[2],d.shape[3]])}});var mo=Jt({conv2DBackpropInput_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0;re(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=Va(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),re(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,".")})),re(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(u.rank)})),re(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var c="NHWC"===o?s[3]:s[1],f="NHWC"===o?u.shape[3]:u.shape[1];re(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),re(f===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(f,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),Ua("conv2dDerInput",a,i);var p={dy:u,filter:n},d={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,inputShape:s},h=Ht.runKernel("Conv2DBackpropInput",p,d);return l?Va(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var vo=Jt({conv2dTranspose_:function(e,t,n,r,a,o){var i=Yt(e,"x","conv2dTranspose"),s=Yt(t,"filter","conv2dTranspose");return mo(n,i,s,r,a,"NHWC",o)}});var yo=Jt({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],i=Yt(e,"x","conv3d"),s=Yt(t,"filter","conv3d"),u=i,l=!1;4===i.rank&&(l=!0,u=Va(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),re(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(u.rank,".")})),re(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")})),re(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input (".concat(u.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")})),re(Ba(n,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")})),re("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")})),re(ja(o),(function(){return"Error in conv3D: Dilated rates should be larger than 0."})),re(ja(n),(function(){return"Error in conv3D: Strides should be larger than 0."}));var c={x:u,filter:s},f={strides:n,pad:r,dataFormat:a,dilations:o},p=Ht.runKernel("Conv3D",c,f);return l?Va(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var go=Jt({conv3DBackpropInput_:function(e,t,n,r,a){re(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var o=e,i=t,s=!1;4===t.rank&&(s=!0,i=Va(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);var u=o[4],l=i.shape[4];re(5===o.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,".")})),re(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(i.rank)})),re(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),re(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),re(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(l,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var c={dy:i,filter:n},f={pad:a,strides:r,inputShape:o},p=Ht.runKernel("Conv3DBackpropInputV2",c,f);return s?Va(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var bo=Jt({conv3dTranspose_:function(e,t,n,r,a){var o=Yt(e,"x","conv3dTranspose"),i=Yt(t,"filter","conv3dTranspose");return go(n,o,i,r,a)}});var wo=Jt({cos_:function(e){var t={x:Yt(e,"x","cos","float32")};return Ht.runKernel("Cos",t)}});var ko=Jt({cosh_:function(e){var t={x:Yt(e,"x","cosh","float32")};return Ht.runKernel("Cosh",t)}});var xo=Jt({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:Yt(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return Ht.runKernel("Cumprod",a,o)}});var So=Jt({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:Yt(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return Ht.runKernel("Cumsum",a,o)}});var No=Jt({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Yt(e,"x","denseBincount"),o=Yt(t,"weights","denseBincount");re("int32"===a.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)})),re(a.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")})),re(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),re(o.size===a.size||0===o.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(o.shape,".")}));var i={x:a,weights:o},s={size:n,binaryOutput:r};return Ht.runKernel("DenseBincount",i,s)}});var To=Jt({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=Yt(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];re(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),re(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)})),re(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)})),re(i%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(i," for depthToSpace with input shape ").concat(r.shape)}));var s={x:r},u={blockSize:t,dataFormat:n};return Ht.runKernel("DepthToSpace",s,u)}});var Eo=Jt({depthwiseConv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=Yt(e,"x","depthwiseConv2d","float32"),u=Yt(t,"filter","depthwiseConv2d","float32"),l=s,c=!1;3===s.rank&&(c=!0,l=Va(s,[1,s.shape[0],s.shape[1],s.shape[2]])),re(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,".")})),re(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(u.rank,".")}));var f="NHWC"===a?l.shape[3]:l.shape[1];re(f===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(f,") must match the inChannels dimension in ")+"filter ".concat(u.shape[2],".")})),Ua("depthwiseConv2d",r,i);var p={x:l,filter:u},d={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},h=Ht.runKernel("DepthwiseConv2dNative",p,d);return c?Va(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var _o=Jt({diag_:function(e){var t={x:Yt(e,"x","diag")};return Ht.runKernel("Diag",t)}});var Io=Jt({dilation2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=Yt(e,"x","dilation2d"),s=Yt(t,"filter","dilation2d");re(3===i.rank||4===i.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(i.rank,".")})),re(3===s.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,".")})),re("NHWC"===o,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)}));var u=i,l=!1;3===i.rank&&(u=Va(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=!0),re(u.shape[3]===s.shape[2],(function(){return"Error in dilation2d:  input and filter must have the same depth: ".concat(u.shape[3]," vs ").concat(s.shape[2])}));var c={x:u,filter:s},f={strides:n,pad:r,dilations:a},p=Ht.runKernel("Dilation2D",c,f);return l?Va(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var Oo=Jt({equal_:function(e,t){var n=Yt(e,"a","equal","string_or_numeric"),r=Yt(t,"b","equal","string_or_numeric"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("Equal",o)}});var Ao=Jt({where_:function(e,t,n){var r=Yt(t,"a","where"),a=Yt(n,"b","where"),o=Yt(e,"condition","where","bool"),i=zr(zr(o.shape,r.shape),a.shape),s={condition:oo(o,i),t:oo(r,i),e:oo(a,i)};return Ht.runKernel("Select",s)}});var Co=Jt({divNoNan_:function(e,t){var n=Yt(e,"a","div"),r=Yt(t,"b","div"),a=C(Lt(n,r),2);n=a[0],r=a[1];var o=wr(n,r),i=Nr(o),s=Oo(r,i);return Ao(s,i,o)}});var Mo=Jt({dot_:function(e,t){var n=Yt(e,"t1","dot"),r=Yt(t,"t2","dot");re((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(re(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(o,".")})),1===n.rank&&1===r.rank){var i=Va(n,[1,-1]),s=Va(r,[-1,1]),u=qa(i,s);return Va(u,[])}if(1===n.rank&&2===r.rank){var l=Va(n,[1,-1]),c=Va(r,[r.shape[0],r.shape[1]]),f=qa(l,c);return Va(f,[f.size])}if(2===n.rank&&1===r.rank){var p=Va(r,[-1,1]),d=qa(n,p);return Va(d,[d.size])}var h=Va(r,[r.shape[0],r.shape[1]]);return qa(n,h)}});var Do=Jt({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return Yt(e,"tensors".concat(t),"einsum")})),o={equation:e};return Ht.runKernel("Einsum",a,o)}});var Ro=Jt({elu_:function(e){var t={x:Yt(e,"x","elu","float32")};return Ht.runKernel("Elu",t)}});var Po=Jt({ensureShape_:function(e,t){var n=Yt(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});var Lo=Jt({erf_:function(e){var t=Yt(e,"x","erf");re("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=pr(t,"float32"));var n={x:t};return Ht.runKernel("Erf",n)}});function Fo(e,t){return function(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}(e,t.map((function(e){return 1})),t)}var zo=Jt({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Yt(e,"x","max")},a={reductionIndices:t,keepDims:n};return Ht.runKernel("Max",r,a)}});var Bo=Jt({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Yt(e,"x","min")},a={axis:t,keepDims:n};return Ht.runKernel("Min",r,a)}});var jo=Jt({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Yt(e,"x","sum");"bool"===r.dtype&&(r=pr(r,"int32"));var a={x:r},o={axis:t,keepDims:n};return Ht.runKernel("Sum",a,o)}});function Uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Fr(e);if(1!==e.rank&&null===n)return Uo(Va(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return jo(Fr(e),n);if(t===1/0)return zo(Fr(e),n);if(t===-1/0)return Bo(Fr(e),n);if("euclidean"===t||2===t)return xr(jo(Rr(Fr(e),Er(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return zo(jo(Fr(e),n[0]),n[1]-1);if(t===1/0)return zo(jo(Fr(e),n[1]),n[0]);if(t===-1/0)return Bo(jo(Fr(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return xr(jo(Sr(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var Vo=Jt({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Uo(e=Yt(e,"x","norm"),t,n),o=a.shape;if(r){var i=ce(n,e.shape);o=Fo(a.shape,i)}return Va(a,o)}});var Ho=Jt({euclideanNorm_:function(e){return Vo(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});var Wo=Jt({exp_:function(e){var t={x:Yt(e,"x","exp")};return Ht.runKernel("Exp",t)}});var Ko=Jt({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Yt(e,"x","expandDims","string_or_numeric");re(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r={input:n},a={dim:t};return Ht.runKernel("ExpandDims",r,a)}});var qo=Jt({expm1_:function(e){var t={x:Yt(e,"x","expm1")};return Ht.runKernel("Expm1",t)}});var Go=Jt({tile_:function(e,t){var n=Yt(e,"x","tile","string_or_numeric");re(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var r={x:n},a={reps:t};return Ht.runKernel(Fe,r,a)}});var $o=Jt({eye_:function(e,t,n){null==t&&(t=e);for(var r=fr([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t,o=0;o<a;++o)r.set(1,o,o);var i=Va(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return Go(Ko(i,0),[n[0],1,1]);if(2===n.length)return Go(Ko(Ko(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return Go(Ko(Ko(Ko(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});var Yo=Jt({floor_:function(e){var t={x:Yt(e,"x","floor","float32")};return Ht.runKernel("Floor",t)}});var Qo=Jt({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={x:Yt(e,"x","gather"),indices:Yt(t,"indices","gather","int32")},o={axis:n,batchDims:r};return Ht.runKernel("GatherV2",a,o)}});var Xo=Jt({greater_:function(e,t){var n=Yt(e,"a","greater","string_or_numeric"),r=Yt(t,"b","greater","string_or_numeric"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("Greater",o)}});var Jo=Jt({greaterEqual_:function(e,t){var n=Yt(e,"a","greaterEqual","string_or_numeric"),r=Yt(t,"b","greaterEqual","string_or_numeric"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("GreaterEqual",o)}});var Zo=Jt({imag_:function(e){var t={input:Yt(e,"input","imag")};return Ht.runKernel("Imag",t)}});var ei=Jt({isFinite_:function(e){var t={x:Yt(e,"x","isFinite")};return Ht.runKernel("IsFinite",t)}});var ti=Jt({isInf_:function(e){var t={x:Yt(e,"x","isInf")};return Ht.runKernel("IsInf",t)}});var ni=Jt({isNaN_:function(e){var t={x:Yt(e,"x","isNaN")};return Ht.runKernel("IsNan",t)}});var ri=Jt({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:Yt(e,"x","leakyRelu")},r={alpha:t};return Ht.runKernel("LeakyRelu",n,r)}});var ai=Jt({less_:function(e,t){var n=Yt(e,"a","less","string_or_numeric"),r=Yt(t,"b","less","string_or_numeric"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("Less",o)}});var oi=Jt({lessEqual_:function(e,t){var n=Yt(e,"a","lessEqual","string_or_numeric"),r=Yt(t,"b","lessEqual","string_or_numeric"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("LessEqual",o)}});function ii(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return Ht.runKernel(Pe,{},r)}var si=Jt({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=Yt(e,"x","localResponseNormalization");re(4===o.rank||3===o.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,".")})),re(ue(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var i=o,s=!1;3===o.rank&&(s=!0,i=Va(o,[1,o.shape[0],o.shape[1],o.shape[2]]));var u={x:i},l={depthRadius:t,bias:n,alpha:r,beta:a},c=Ht.runKernel("LRN",u,l);return s?Va(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var ui=Jt({log_:function(e){var t={x:Yt(e,"x","log","float32")};return Ht.runKernel("Log",t)}});var li=Jt({log1p_:function(e){var t={x:Yt(e,"x","log1p")};return Ht.runKernel("Log1p",t)}});var ci=Jt({neg_:function(e){var t={x:Yt(e,"x","neg")};return Ht.runKernel("Neg",t)}});var fi=Jt({softplus_:function(e){var t={x:Yt(e,"x","softplus")};return Ht.runKernel("Softplus",t)}});var pi=Jt({logSigmoid_:function(e){var t=Yt(e,"x","logSigmoid"),n=Tr((function(e){return{value:ci(fi(ci(e))),gradFunc:function(t){return kr(t,Ga(ci(e)))}}}));return n(t)}});var di=Jt({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Yt(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var r=Tr((function(e,n){var r=zo(e,t,!0),a=Pr(e,r),o=Pr(pr(a,"float32"),ui(jo(Wo(a),t,!0)));n([o]);return{value:o,gradFunc:function(e,n){var r=C(n,1)[0],a=Wo(r);return Pr(e,kr(jo(e,t,!0),a))}}}));return r(n)}});var hi=Jt({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Yt(e,"x","logSumExp"),a=ce(t,r.shape),o=zo(r,a,!0),i=Pr(r,o),s=Wo(i),u=jo(s,a),l=ui(u),c=gr(Va(o,l.shape),l);if(n){var f=Fo(c.shape,a);return Va(c,f)}return c}});var mi=Jt({logicalAnd_:function(e,t){var n=Yt(e,"a","logicalAnd","bool"),r=Yt(t,"b","logicalAnd","bool");zr(n.shape,r.shape);var a={a:n,b:r};return Ht.runKernel("LogicalAnd",a)}});var vi=Jt({logicalNot_:function(e){var t={x:Yt(e,"x","logicalNot","bool")};return Ht.runKernel("LogicalNot",t)}});var yi=Jt({logicalOr_:function(e,t){var n=Yt(e,"a","logicalOr","bool"),r=Yt(t,"b","logicalOr","bool");zr(n.shape,r.shape);var a={a:n,b:r};return Ht.runKernel("LogicalOr",a)}});var gi=Jt({logicalXor_:function(e,t){var n=Yt(e,"a","logicalXor","bool"),r=Yt(t,"b","logicalXor","bool");return zr(n.shape,r.shape),mi(yi(e,t),vi(mi(e,t)))}}),bi=2147483648;var wi=Jt({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=Yt(e,"sortedSequence","searchSorted"),a=Yt(t,"values","searchSorted"),o=r.shape[r.shape.length-1],i=a.shape[a.shape.length-1],s=Va(r,[-1,o]),u=Va(a,[-1,i]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ie(u.shape)>=bi)throw new Error("values tensor size must less than ".concat(bi));if(s.shape[1]>=bi)throw new Error("trailing dim_size must less than ".concat(bi," for int32 output type, was ").concat(s.shape[1]));var l={sortedSequence:s,values:u},c={side:n};return Ht.runKernel("SearchSorted",l,c)}});function ki(e,t){return wi(e,t,"left")}var xi=Jt({maxPool_:function(e,t,n,r,a){var o=Yt(e,"x","maxPool"),i=o,s=!1;3===o.rank&&(s=!0,i=Va(o,[1,o.shape[0],o.shape[1],o.shape[2]])),re(4===i.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.rank,".")})),re(Ba(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),Ua("maxPool",r,a);var u={x:i},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=Ht.runKernel("MaxPool",u,l);return s?Va(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Si=Jt({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=Yt(e,"x","maxPool3d"),s=i,u=!1;4===i.rank&&(u=!0,s=Va(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),re(5===s.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),re("NDHWC"===o,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)})),Ua("maxPool3d",r,a);var l={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},f=Ht.runKernel("MaxPool3D",l,c);return u?Va(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});var Ni=Jt({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={x:Yt(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=Ht.runKernel("MaxPoolWithArgmax",o,i);return{result:s[0],indexes:s[1]}}});var Ti=Jt({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Yt(e,"x","mean")},a={axis:t,keepDims:n};return Ht.runKernel("Mean",r,a)}});function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(xe(e),"complex64"===t){var n=Ei(e,"float32"),r=Ei(e,"float32");return Zt(n,r)}var a=ke(ie(e),t);return Ht.makeTensor(a,e,t)}function _i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(xe(e),"complex64"===t){var n=_i(e,"float32"),r=Ei(e,"float32");return Zt(n,r)}var a=we(ie(e),t);return Ht.makeTensor(a,e,t)}function Ii(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).indexing,r=void 0===n?"xy":n;if("xy"!==r&&"ij"!==r)throw new TypeError("".concat(r," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=Yt(e,"x","meshgrid",e instanceof Tt?e.dtype:"float32");if(void 0===t)return[a];var o=Yt(t,"y","meshgrid",t instanceof Tt?t.dtype:"float32"),i=ie(a.shape),s=ie(o.shape);return"xy"===r?(a=Va(a,[1,-1]),o=Va(o,[-1,1]),[qa(_i([s,1],a.dtype),a),qa(o,_i([1,i],o.dtype))]):(a=Va(a,[-1,1]),o=Va(o,[1,-1]),[qa(a,_i([1,s],a.dtype)),qa(_i([i,1],o.dtype),o)])}var Oi=Jt({minimum_:function(e,t){var n=Yt(e,"a","minimum"),r=Yt(t,"b","minimum"),a=C(Lt(n,r),2);n=a[0],r=a[1],"bool"===n.dtype&&(n=pr(n,"int32"),r=pr(r,"int32")),zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("Minimum",o)}});var Ai=Jt({mirrorPad_:function(e,t,n){re("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var r=Yt(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");re(t.length===r.rank,(function(){return"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")}));for(var a="reflect"===n?1:0,o=function(e){re(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),re(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(r.shape[e]-a," or less than 0 for input of ")+"shape ".concat(r.shape)}))},i=0;i<r.rank;i++)o(i);var s={paddings:t,mode:n},u={x:r};return Ht.runKernel("MirrorPad",u,s)}});var Ci=Jt({mod_:function(e,t){var n=Yt(e,"a","mod"),r=Yt(t,"b","mod"),a=C(Lt(n,r),2),o={a:n=a[0],b:r=a[1]};return Ht.runKernel("Mod",o)}});var Mi=Jt({moments_:function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=ce(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=Yt(e,"x","moments")).shape),r=Ti(e,n,t),a=r.shape;t||(a=Fo(r.shape,n));var o=Sr(Pr(pr(e,"float32"),Va(r,a)));return{mean:r,variance:Ti(o,n,t)}}});var Di=Jt({multiRNNCell_:function(e,t,n,r){for(var a=Yt(t,"data","multiRNNCell"),o=Qt(n,"c","multiRNNCell"),i=Qt(r,"h","multiRNNCell"),s=a,u=[],l=0;l<e.length;l++){var c=e[l](s,o[l],i[l]);u.push(c[0]),u.push(c[1]),s=c[1]}for(var f=[],p=[],d=0;d<u.length;d+=2)f.push(u[d]),p.push(u[d+1]);return[f,p]}});var Ri=Jt({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Yt(e,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(i));n=n||Math.random();var s={logits:1===i?Va(a,[1,-1]):a},u={numSamples:t,seed:n,normalized:r},l=Ht.runKernel("Multinomial",s,u);return 1===i?Va(l,[l.size]):l}});var Pi=Jt({notEqual_:function(e,t){var n=Yt(e,"a","notEqual","string_or_numeric"),r=Yt(t,"b","notEqual","string_or_numeric"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("NotEqual",o)}});var Li=Jt({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var o={indices:Yt(e,"indices","oneHot","int32")},i={dtype:a,depth:t,onValue:n,offValue:r};return Ht.runKernel("OneHot",o,i)}});var Fi=Jt({onesLike_:function(e){var t={x:Yt(e,"x","onesLike")};return Ht.runKernel("OnesLike",t)}});var zi=Jt({outerProduct_:function(e,t){var n=Yt(e,"v1","outerProduct"),r=Yt(t,"v2","outerProduct");re(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=Va(n,[-1,1]),o=Va(r,[1,-1]);return qa(a,o)}});var Bi=Jt({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Yt(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n},o={x:r};return Ht.runKernel("PadV2",o,a)}});var ji=Jt({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return re(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Bi(e,[t],n)}});var Ui=Jt({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return re(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Bi(e,t,n)}});var Vi=Jt({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return re(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Bi(e,t,n)}});var Hi=Jt({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return re(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Bi(e,t,n)}});var Wi=Jt({spaceToBatchND_:function(e,t,n){var r=Yt(e,"x","spaceToBatchND");re(r.rank>=1+t.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)})),re(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),re(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var a={x:r},o={blockShape:t,paddings:n};return Ht.runKernel("SpaceToBatchND",a,o)}});var Ki=Jt({pool_:function(e,t,n,r,a,o,i){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");var s=Yt(e,"x","maxPool"),u=s,l=!1;3===s.rank&&(l=!0,u=Va(s,[1,s.shape[0],s.shape[1],s.shape[2]])),re(Ba(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(a,"'")}));var c,f=function(e,t,n,r,a,o){var i,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=C(Pa(t),2),l=u[0],c=u[1];if("channelsLast"===s)i=[l,c,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));i=[l,c,e[1],e[1]]}return Da(e,i,n,r,a,o,!1,s)}(u.shape,t,o,a,r),p=[f.dilationHeight,f.dilationWidth];c="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})),r=n.map((function(e){return e-1})),a=r.map((function(e){return Math.floor(e/2)})),o=r.map((function(e,t){return e-a[t]}));return r.map((function(e,t){return[a[t],o[t]]}))}([f.filterHeight,f.filterWidth],p):[[0,0],[0,0]];var d=1===p[0]&&1===p[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),o=e.concat(r,a),i=t.map((function(e,t){return(e-o[t]%e)%e})),s=a.map((function(e,t){return e+i[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),l=t.map((function(e,t){return[0,i[t]]}));return[u,l]}([f.inHeight,f.inWidth],p,c),m=C(h,2),v=m[0],y=m[1],g=d?r:"valid",b=d?u:Wi(u,p,v),w=("avg"===n?function(){return Ha(b,t,o,g,i)}:function(){return xi(b,t,o,g,i)})(),k=d?w:Xa(w,p,y);return l?Va(k,[k.shape[1],k.shape[2],k.shape[3]]):k}});var qi=Jt({prelu_:function(e,t){var n={x:Yt(e,"x","prelu"),alpha:Yt(t,"alpha","prelu")};return Ht.runKernel("Prelu",n)}});var Gi=Jt({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Yt(e,"x","prod");"bool"===r.dtype&&(r=pr(r,"int32"));var a={x:r},o={axis:t,keepDims:n};return Ht.runKernel("Prod",a,o)}});var $i=Jt({raggedGather_:function(e,t,n,r){var a={paramsNestedSplits:e.map((function(e,t){return Yt(e,"tensors".concat(t),"raggedGather","int32")})),paramsDenseValues:Yt(t,"paramsDenseValues","raggedGather"),indices:Yt(n,"indices","raggedGather","int32")},o={outputRaggedRank:r},i=Ht.runKernel("RaggedGather",a,o);return{outputNestedSplits:i.slice(0,i.length-1),outputDenseValues:i[i.length-1]}}});var Yi=Jt({raggedRange_:function(e,t,n){var r=Yt(e,"starts","raggedRange"),a={starts:r,limits:Yt(t,"limits","raggedRange",r.dtype),deltas:Yt(n,"deltas","raggedRange",r.dtype)},o=Ht.runKernel("RaggedRange",a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}});var Qi=Jt({raggedTensorToTensor_:function(e,t,n,r,a){var o=Yt(e,"shape","raggedTensorToTensor","int32"),i=Yt(t,"values","raggedTensorToTensor"),s={shape:o,values:i,defaultValue:Yt(n,"defaultValue","raggedTensorToTensor",i.dtype),rowPartitionTensors:r.map((function(e,t){return Yt(e,"tensors".concat(t),"raggedTensorToTensor","int32")}))},u={rowPartitionTypes:a};return Ht.runKernel("RaggedTensorToTensor",s,u)}});var Xi=Jt({rand_:function(e,t,n){xe(e);var r=ie(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=t();return Ht.makeTensor(a,e,n)}}),Ji=n(699),Zi=function(){function e(t,n,r,a,o){D(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Ji.alea(i.toString())}return L(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),es=function(){function e(t,n,r,a){D(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var o=a||Math.random();this.randu=Ji.alea(o.toString()),this.randn=new Zi(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return L(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),ts=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(D(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==o&&(o=Math.random()),"number"===typeof o&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=Ji.alea(o)}return L(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var ns=Jt({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(xe(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var o=new es(t,n,r,a),i=fr(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var rs=Jt({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(xe(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var o=new Zi(t,n,r,!1,a),i=fr(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var as=Jt({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return rs(e,0,1,t,n)}});var os=Jt({randomUniform_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;xe(e);for(var o=fr(e,r),i=new ts(t,n,null,a),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var is=Jt({randomUniformInt_:function(e,t,n,r){return os(e,t,n,"int32",r)}});function ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return Ht.runKernel(Le,{},a)}var us=Jt({real_:function(e){var t={input:Yt(e,"input","real")};return Ht.runKernel("Real",t)}});var ls=Jt({reciprocal_:function(e){var t={x:Yt(e,"x","reciprocal")};return Ht.runKernel("Reciprocal",t)}});var cs=Jt({relu_:function(e){var t={x:Yt(e,"x","relu")};return Ht.runKernel("Relu",t)}});var fs=Jt({relu6_:function(e){var t={x:Yt(e,"x","relu6")};return Ht.runKernel("Relu6",t)}});var ps=Jt({reverse_:function(e,t){var n={x:Yt(e,"x","reverse")},r={dims:t};return Ht.runKernel("Reverse",n,r)}});var ds=Jt({reverse1d_:function(e){var t=Yt(e,"x","reverse");return re(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),ps(t,0)}});var hs=Jt({reverse2d_:function(e,t){var n=Yt(e,"x","reverse");return re(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),ps(n,t)}});var ms=Jt({reverse3d_:function(e,t){var n=Yt(e,"x","reverse");return re(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),ps(n,t)}});var vs=Jt({reverse4d_:function(e,t){var n=Yt(e,"x","reverse");return re(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),ps(n,t)}});var ys=Jt({round_:function(e){var t={x:Yt(e,"x","round")};return Ht.runKernel("Round",t)}});var gs=Jt({rsqrt_:function(e){var t={x:Yt(e,"x","rsqrt","float32")};return Ht.runKernel("Rsqrt",t)}});var bs=Jt({selu_:function(e){var t={x:Yt(e,"x","selu")};return Ht.runKernel("Selu",t)}});var ws=Jt({separableConv2d_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=Yt(e,"x","separableConv2d"),u=Yt(t,"depthwiseFilter","separableConv2d"),l=Yt(n,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(3===s.rank&&(f=!0,c=Va(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");re(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")})),re(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),re(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),re(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(l.shape[0],".")})),re(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(l.shape[1],".")}));var p=u.shape[2],d=u.shape[3];re(l.shape[2]===p*d,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*d,", ")+"but got ".concat(l.shape[2],".")}));var h=Eo(c,u,r,a,i,o),m=po(h,l,1,"valid",i);return f?Va(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});function ks(){return ks=I(E().mark((function e(t,n){var r,a,o,i,s,u,l,c,f,p,d;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yt(t,"x","setdiff1d"),a=Yt(n,"y","setdiff1d"),re(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),re(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),re(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return o=e.sent,e.next=10,a.data();case 10:for(i=e.sent,s=new Set(i),u=0,l=0;l<o.length;l++)s.has(o[l])||u++;for(c=new xt([u],r.dtype),f=new xt([u],"int32"),p=0,d=0;p<o.length;p++)s.has(o[p])||(c.values[d]=o[p],f.values[d]=p,d++);return e.abrupt("return",[c.toTensor(),f.toTensor()]);case 18:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}var xs=function(e,t){return ks.apply(this,arguments)};var Ss=Jt({sign_:function(e){var t={x:Yt(e,"x","sign")};return Ht.runKernel("Sign",t)}});var Ns=Jt({sin_:function(e){var t={x:Yt(e,"x","sin","float32")};return Ht.runKernel("Sin",t)}});var Ts=Jt({sinh_:function(e){var t={x:Yt(e,"x","sinh")};return Ht.runKernel("Sinh",t)}});var Es=Jt({slice1d_:function(e,t,n){var r=Yt(e,"x","slice1d");return re(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),$a(r,[t],[n])}});var _s=Jt({slice2d_:function(e,t,n){var r=Yt(e,"x","slice2d");return re(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),$a(r,t,n)}});var Is=Jt({slice3d_:function(e,t,n){var r=Yt(e,"x","slice3d");return re(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),$a(r,t,n)}});var Os=Jt({slice4d_:function(e,t,n){var r=Yt(e,"x","slice4d");return re(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),$a(r,t,n)}});var As=Jt({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Yt(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var r={logits:n},a={dim:t};return Ht.runKernel("Softmax",r,a)}});var Cs=Jt({fft_:function(e){re("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return Ht.runKernel("FFT",t)}});var Ms=Jt({ifft_:function(e){re("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return Ht.runKernel("IFFT",t)}});var Ds=Jt({irfft_:function(e){var t,n=e.shape[e.shape.length-1],r=e.size/n;if(n<=2){var a=Va(e,[r,n]);t=Ms(a)}else{var o=[r,2*(n-1)],i=Va(us(e),[r,n]),s=Va(Zo(e),[r,n]),u=ps($a(i,[0,1],[r,n-2]),1),l=kr(ps($a(s,[0,1],[r,n-2]),1),Er(-1)),c=Ka([i,u],1),f=Ka([s,l],1),p=Va(Zt(c,f),[o[0],o[1]]);t=Ms(p)}if(t=us(t),3===e.rank&&0!==e.shape[0]){var d=t,h=e.shape[0];t=Va(t,[h,t.shape[0]/h,t.shape[1]]),d.dispose()}return t}});var Rs=Jt({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={x:Yt(e,"x","split")},a={numOrSizeSplits:t,axis:n};return Ht.runKernel("SplitV",r,a)}});var Ps=Jt({rfft_:function(e,t){re("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var o=e.shape.map((function(e){return 0})),i=e.shape.map((function(e){return e}));i[e.shape.length-1]=t,n=$a(e,o,i),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=Ka([e,Ei(s)],e.shape.length-1),r=t}else n=e;var u=Nr(n),l=Va(Zt(n,u),[a,r]),c=Cs(l),f=Math.floor(r/2)+1,p=us(c),d=Zo(c),h=Rs(p,[f,r-f],p.shape.length-1),m=Rs(d,[f,r-f],d.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=f,Va(Zt(h[0],m[0]),v)}});var Ls=Jt({squaredDifference_:function(e,t){var n=Yt(e,"a","squaredDifference"),r=Yt(t,"b","squaredDifference"),a=C(Lt(n,r),2);n=a[0],r=a[1],zr(n.shape,r.shape);var o={a:n,b:r};return Ht.runKernel("SquaredDifference",o,{})}});var Fs=Jt({squeeze_:function(e,t){var n=Yt(e,"x","squeeze","string_or_numeric");return Va(n,function(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:ce(t,e).sort(),i=0,s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});var zs=Jt({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Qt(e,"tensors","stack","string_or_numeric");re(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&re(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n,a={axis:t};return Ht.runKernel("Pack",r,a)}});var Bs=Jt({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Yt(e,"x","step")},r={alpha:t};return Ht.runKernel("Step",n,r)}});var js=Jt({stridedSlice_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l={x:Yt(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:u};return Ht.runKernel("StridedSlice",l,c)}});var Us=Jt({tan_:function(e){var t={x:Yt(e,"x","tan","float32")};return Ht.runKernel("Tan",t)}});function Vs(e,t){oe(e);var n=qt(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return en(e,null,n,t)}function Hs(e,t,n){if(oe(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=qt(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return en(e,t,r,n)}function Ws(e,t,n){if(oe(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=qt(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return en(e,t,r,n)}function Ks(e,t,n){if(oe(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=qt(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return en(e,t,r,n)}function qs(e,t,n){if(oe(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=qt(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return en(e,t=t||r,r,n)}function Gs(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape[".concat(i,"] (").concat(n.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(o+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}(n,t,e)}var $s=Jt({tensorScatterUpdate_:function(e,t,n){var r=Yt(e,"tensor","tensorScatterupdate"),a=Yt(t,"indices","tensorScatterupdate","int32"),o=Yt(n,"updates","tensorScatterupdate");if(Gs(o,a,r.shape),r.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(o.dtype,"."));var i={tensor:r,indices:a,updates:o};return Ht.runKernel("TensorScatterUpdate",i,{})}});var Ys=Jt({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Yt(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));var o={x:r},i={k:t,sorted:n},s=C(Ht.runKernel("TopK",o,i),2);return{values:s[0],indices:s[1]}}});var Qs=Jt({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(xe(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var o=new Zi(t,n,r,!0,a),i=fr(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var Xs=Jt({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Yt(e,"x","unique","string_or_numeric");re(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:n},a={axis:t},o=C(Ht.runKernel("Unique",r,a),2);return{values:o[0],indices:o[1]}}});var Js=Jt({unsortedSegmentSum_:function(e,t,n){var r=Yt(e,"x","unsortedSegmentSum"),a=Yt(t,"segmentIds","unsortedSegmentSum","int32");re(ue(n),(function(){return"numSegments must be of dtype int"}));var o={x:r,segmentIds:a},i={numSegments:n};return Ht.runKernel("UnsortedSegmentSum",o,i)}});var Zs=Jt({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Yt(e,"x","unstack","string_or_numeric");re(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var r={value:n},a={axis:t};return Ht.runKernel("Unpack",r,a)}});function eu(e,t){return wi(e,t,"right")}function tu(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Ht.makeVariable(e,t,n,r)}function nu(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);for(var a=fr(e,"int32"),o=fr([n.length,e.length],"int32"),i=0;i<n.length;i++){var s=a.indexToLoc(n[i]),u=i*e.length;o.values.set(s,u)}return o.toTensor()}function ru(){return(ru=I(E().mark((function e(t){var n,r,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yt(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=nu(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var au=function(e){return ru.apply(this,arguments)};function ou(){return ou=I(E().mark((function e(t,n,r){var a,o,i,s,u,l,c,f,p,d,h,m,v;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Yt(t,"tensor","boolMask"),o=Yt(n,"mask","boolMask","bool"),i=null==r?0:r,s=o.rank,u=a.shape,re(s>0,(function(){return"mask cannot be scalar"})),ae(u.slice(i,i+s),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=i;c<i+s;c++)l*=u[c];return f=u.slice(0,i).concat([l],u.slice(i+s)),p=Va(a,f),d=Va(o,[-1]),e.next=14,au(d);case 14:return h=e.sent,m=Fs(h,[1]),v=Qo(p,m,i),t!==a&&a.dispose(),n!==o&&o.dispose(),m.dispose(),p.dispose(),d.dispose(),h.dispose(),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}var iu=function(e,t,n){return ou.apply(this,arguments)};var su=Jt({transpose_:function(e,t,n){var r=Yt(e,"x","transpose");if(null==t&&(t=r.shape.map((function(e,t){return t})).reverse()),re(r.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){re(e>=0&&e<r.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)}))})),r.rank<=1)return r.clone();var a={x:r},o={perm:t};return"complex64"===r.dtype?mr((function(){var e=us(r),t=Zo(r);return e=Ht.runKernel(ze,{x:e},o),t=Ht.runKernel(ze,{x:t},o),n&&(t=ci(t)),Zt(e,t)})):Ht.runKernel(ze,a,o)}});var uu=Jt({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=Yt(e,"v","movingAverage"),i=Yt(t,"x","movingAverage"),s=Yt(n,"decay","movingAverage");!function(e,t){re(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}(o,i),re(se(o.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=Er(1),l=Pr(u,s),c=kr(Pr(i,o),l);if(a){re(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=Yt(r,"step","movingAverage");c=wr(c,Pr(u,Rr(s,f)))}return gr(o,c)}});var lu=Jt({scatterND_:function(e,t,n){xe(n);var r=Yt(e,"indices","scatterND","int32"),a=Yt(t,"updates","scatterND");Gs(a,r,n);var o={indices:r,updates:a},i={shape:n};return Ht.runKernel("ScatterNd",o,i)}});var cu=Jt({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;xe(n);var a=Yt(e,"sparseIndices","sparseToDense","int32"),o=Yt(t,"sparseValues","sparseToDense","string_or_numeric"),i=Yt(r,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,i);var s={sparseIndices:a,sparseValues:o,defaultValue:i},u={outputShape:n};return Ht.runKernel("SparseToDense",s,u)}});var fu=Jt({gatherND_:function(e,t){var n=Yt(t,"indices","gatherND","int32"),r={params:Yt(e,"x","gatherND","string_or_numeric"),indices:n};return Ht.runKernel("GatherNd",r)}});var pu=Jt({dropout_:function(e,t,n,r){var a=Yt(e,"x","dropout");if(re("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),re(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof Tt?a.clone():a;var o=function(e,t){if(null==t)return e.shape.slice();if(se(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,s=wr(Yo(gr(os(o,0,1,"float32",r),i)),i);return kr(a,s)}});function du(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function hu(e,t,n){for(var r=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return Vs(a,"float32")}function mu(){return mu=I(E().mark((function e(t,n){var r,a,o,i,s,u,l,c,f,p,d,h,m,v,y,g=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:1,a=Yt(t,"predictions","inTopK"),o=Yt(n,"targets","inTopK"),re(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),re(a.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(o.rank)})),ae(a.shape.slice(0,a.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=a.shape[a.shape.length-1],re(r>0&&r<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(i,"), but got ").concat(r)})),e.next=10,a.data();case 10:return s=e.sent,e.next=13,o.data();case 13:u=e.sent,l=s.length/i,c=i,f=fe("bool",l),p=0;case 17:if(!(p<l)){e.next=35;break}for(d=p*c,h=s.subarray(d,d+c),m=[],v=0;v<h.length;v++)m.push({value:h[v],index:v});m.sort((function(e,t){return t.value-e.value})),f[p]=0,y=0;case 25:if(!(y<r)){e.next=32;break}if(m[y].index!==u[p]){e.next=29;break}return f[p]=1,e.abrupt("break",32);case 29:y++,e.next=25;break;case 32:p++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==o&&o.dispose(),e.abrupt("return",tn(f,o.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}var vu=function(e,t){return mu.apply(this,arguments)};var yu=Jt({conv2DBackpropFilter_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=Va(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var u=t;3===u.rank&&(u=Va(t,[1,t.shape[0],t.shape[1],t.shape[2]])),re(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,".")})),re(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(u.shape,".")})),re(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var l="NHWC"===o?s.shape[3]:s.shape[1],c="NHWC"===o?u.shape[3]:u.shape[1];re(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(l,") must ")+"match input depth in filter (".concat(n[2],".")})),re(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(c,") must ")+"match output depth for filter (".concat(n[3],").")})),Ua("conv2dDerFilter",a,i);var f={x:s,dy:u},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,filterShape:n};return Ht.runKernel("Conv2DBackpropFilter",f,p)}});function gu(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return kr(e,Bs(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function bu(e,t){var n=t,r=function(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}(e.shape,t.shape);return r.length>0&&(n=jo(n,r)),Va(n,e.shape)}function wu(e,t,n,r){if("linear"===t)return e;if("relu"===t)return cs(e);if("elu"===t)return Ro(e);if("relu6"===t)return fs(e);if("prelu"===t)return qi(e,n);if("leakyrelu"===t)return ri(e,r);if("sigmoid"===t)return Ga(e);throw new Error("Unknown fused activation ".concat(t,"."))}var ku=function(e,t){return!(e>0)||"linear"===t};var xu=Jt({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,p=void 0===f?"linear":f,d=e.preluActivationWeights,h=e.leakyreluAlpha;if(p=p||"linear",!1===ku(Ht.state.gradientDepth,p)){re("NHWC"===i,(function(){return"Error in fused conv2d: got dataFormat of ".concat(i," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."}));var m=po(t,n,r,a,i,u,l);return null!=c&&(m=gr(m,c)),wu(m,p,d,h)}var v=Yt(t,"x","conv2d","float32"),y=Yt(n,"filter","conv2d","float32"),g=v,b=!1;3===v.rank&&(b=!0,g=Va(v,[1,v.shape[0],v.shape[1],v.shape[2]])),re(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(g.rank,".")})),re(4===y.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(y.rank,".")})),Ua("fused conv2d",a,l);var w="NHWC"===i?g.shape[3]:g.shape[1];re(y.shape[2]===w,(function(){return"Error in conv2d: depth of input (".concat(w,") must match ")+"input depth for filter ".concat(y.shape[2],".")})),re(Ba(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(u,"'")}));var k,x,S=Da(g.shape,y.shape,r,u,a,l);if(null!=c){var N=C(Lt(k=Yt(c,"bias","fused conv2d"),v),1);k=N[0],"NHWC"===i?zr(S.outShape,k.shape):(re(k.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(k.shape.length,".")})),re(0===k.shape.length||k.shape[0]===S.outChannels||1===k.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(k.shape,") is not ")+"compatible with the number of output channels "+"(".concat(S.outChannels,")")})))}if(null!=d){var T=d.shape;if(re(T.length<=1||3===T.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(T.length,".")})),1===T.length)re(1===T[0]||T[0]===S.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(T,") is not compatible with the number of output ")+"channels (".concat(S.outChannels,").")}));else if(3===T.length)try{zr(T,S.outShape)}catch(D){var E="Error in fused conv2d: PReLU activation weights (".concat(T,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(S.outShape,").");throw Error(E)}x=Yt(d,"prelu weights","fused conv2d")}var _=function(e,t){re("NHWC"===i,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(i," but only NHWC is currently supported.")}));var n=C(t,4),o=n[0],s=n[1],l=n[2],c=n[3],f=gu(e,l,p);re(za(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(u,"'")}));var d=[mo(s.shape,f,o,r,a),yu(s,f,o.shape,r,a)];if(null!=c){var h=bu(c,f);d.push(h)}return d},I={x:g,filter:y,bias:k,preluActivationWeights:x},O={strides:r,pad:a,dataFormat:i,dilations:u,dimRoundingMode:l,activation:p,leakyreluAlpha:h};if(null==c){var A=Tr((function(e,t,n){var r=Ht.runKernel(Ue,I,O);return n([t,e,r]),b&&(r=Va(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:_}}));return A(g,y)}var M=Tr((function(e,t,n,r){var a=Ht.runKernel(Ue,I,O);return r([t,e,a,n]),b&&(a=Va(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:_}}));return M(g,y,k)}});var Su=Jt({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=Va(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var u=t;3===u.rank&&(u=Va(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l={x:s,dy:u},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,filterShape:n};return Ht.runKernel("DepthwiseConv2dNativeBackpropFilter",l,c)}});var Nu=Jt({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=t,u=!1;3===t.rank&&(u=!0,s=Va(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l={dy:s,filter:n},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,inputShape:e},f=Ht.runKernel("DepthwiseConv2dNativeBackpropInput",l,c);return u?Va(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});var Tu=Jt({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,p=void 0===f?"linear":f,d=e.preluActivationWeights,h=e.leakyreluAlpha;if(!1===ku(Ht.state.gradientDepth,p)){var m=Eo(t,n,r,a,i,u,l);return null!=c&&(m=gr(m,c)),wu(m,p,d,h)}var v=Yt(t,"x","depthwiseConv2d","float32"),y=Yt(n,"filter","depthwiseConv2d","float32"),g=v,b=!1;3===v.rank&&(b=!0,g=Va(v,[1,v.shape[0],v.shape[1],v.shape[2]])),re(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(g.rank,".")})),re(4===y.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(y.rank,".")})),re(g.shape[3]===y.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(g.shape[3],") must match the inChannels dimension in ")+"filter ".concat(y.shape[2],".")})),null==u&&(u=[1,1]),re(Ba(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(u,"'")})),Ua("fused depthwiseConv2d",a,l);var w,k,x=Da(g.shape,y.shape,r,u,a,l,!0);if(null!=c){var S=C(Lt(w=Yt(c,"bias","fused conv2d"),v),1);w=S[0],zr(x.outShape,w.shape)}null!=d&&(k=Yt(d,"prelu weights","fused depthwiseConv2d"));var N=function(e,t){re(za(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(u,"'")}));var n=C(t,4),o=n[0],i=n[1],s=n[2],c=n[3],f=gu(e,s,p),d=Nu(i.shape,f,o,r,a,u,l),h=Su(i,f,o.shape,r,a,u,l);return null!=c?[d,h,bu(w,f)]:[d,h]},T={x:g,filter:y,bias:w,preluActivationWeights:k},E={strides:r,pad:a,dataFormat:i,dilations:u,dimRoundingMode:l,activation:p,leakyreluAlpha:h};if(null==c){var _=Tr((function(e,t,n){var r=Ht.runKernel(Ve,T,E);return n([t,e,r]),b&&(r=Va(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:N}}));return _(g,y)}var I=Tr((function(e,t,n,r){var a=Ht.runKernel(Ve,T,E);return r([t,e,a,n]),b&&(a=Va(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:N}}));return I(g,y,w)}});var Eu=Jt({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,o=e.transposeB,i=void 0!==o&&o,s=e.bias,u=e.activation,l=void 0===u?"linear":u,c=e.preluActivationWeights,f=e.leakyreluAlpha,p=void 0===f?.2:f;if(!1===ku(Ht.state.gradientDepth,l)){var d=qa(t,n,a,i);return null!=s&&(d=gr(d,s)),wu(d,l,c,p)}var h=Yt(t,"a","fused matMul"),m=Yt(n,"b","fused matMul"),v=C(Lt(h,m),2);h=v[0],m=v[1];var y=a?h.shape[h.rank-2]:h.shape[h.rank-1],g=i?m.shape[m.rank-1]:m.shape[m.rank-2],b=a?h.shape[h.rank-1]:h.shape[h.rank-2],w=i?m.shape[m.rank-2]:m.shape[m.rank-1],k=h.shape.slice(0,-2),x=m.shape.slice(0,-2),S=ie(k),N=ie(x);re(y===g,(function(){return"Error in fused matMul: inner shapes (".concat(y,") and (")+"".concat(g,") of Tensors with shapes ").concat(h.shape," and ")+"".concat(m.shape," and transposeA=").concat(a)+" and transposeB=".concat(i," must match.")}));var T,E,_=zr(h.shape.slice(0,-2),m.shape.slice(0,-2)).concat([b,w]),I=Va(h,a?[S,y,b]:[S,b,y]),O=Va(m,i?[N,w,g]:[N,g,w]);null!=s&&(T=C(Lt(T=Yt(s,"bias","fused matMul"),h),1)[0],zr(_,T.shape)),null!=c&&(E=Yt(c,"prelu weights","fused matMul"));var A=function(e,t){var n,r,o=C(t,4),u=o[0],c=o[1],f=o[2],p=o[3],d=gu(Va(e,f.shape),f,l);return a||i?!a&&i?(n=qa(d,c,!1,!1),r=qa(d,u,!0,!1)):a&&!i?(n=qa(c,d,!1,!0),r=qa(u,d,!1,!1)):(n=qa(c,d,!0,!0),r=qa(d,u,!0,!0)):(n=qa(d,c,!1,!0),r=qa(u,d,!0,!1)),null!=s?[n,r,bu(p,d)]:[n,r]},M={a:I,b:O,bias:T,preluActivationWeights:E},D={transposeA:a,transposeB:i,activation:l,leakyreluAlpha:p};if(null==s){var R=Tr((function(e,t,n){var r=Ht.runKernel(je,M,D);return n([e,t,r]),{value:Va(r,_),gradFunc:A}}));return R(I,O)}var P=Tr((function(e,t,n,r){var a=Ht.runKernel(je,M,D);return r([e,t,a,n]),{value:Va(a,_),gradFunc:A}}));return P(I,O,T)}});var _u=Jt({hammingWindow_:function(e){return hu(e,.54,.46)}});var Iu=Jt({hannWindow_:function(e){return hu(e,.5,.5)}});var Ou=Jt({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0,i=[];o+t<=e.size;)i.push($a(e,o,t)),o+=n;if(r)for(;o<e.size;){var s=o+t-e.size,u=Ka([$a(e,o,t-s),Mr([s],a)]);i.push(u),o+=n}return 0===i.length?Hs([],[0,t]):Va(Ka(i),[i.length,t])}});var Au=Jt({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Iu;null==r&&(r=du(t));var o=Ou(e,t,n),i=kr(o,a(t));return Ps(i,r)}});var Cu=Jt({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=Yt(e,"image","cropAndResize"),s=Yt(t,"boxes","cropAndResize","float32"),u=Yt(n,"boxInd","cropAndResize","int32"),l=s.shape[0];re(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),re(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(l,",4] ")+"but had shape ".concat(s.shape,".")})),re(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(l,"] ")+"but had shape ".concat(s.shape,".")})),re(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),re(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),re("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var c={image:i,boxes:s,boxInd:u},f={method:a,extrapolationValue:o,cropSize:r};return Ht.runKernel("CropAndResize",c,f)}});var Mu=Jt({flipLeftRight_:function(e){var t=Yt(e,"image","flipLeftRight","float32");re(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return Ht.runKernel("FlipLeftRight",n,{})}});var Du=Jt({grayscaleToRGB_:function(e){var t=Yt(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];re(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),re(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Go(t,a)}});var Ru=Jt({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=Yt(e,"image","rotateWithOffset","float32");re(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var o={image:a},i={radians:t,fillValue:n,center:r};return Ht.runKernel("RotateWithOffset",o,i)}});function Pu(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);var i=e.shape[0];return n=Math.min(n,i),re(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),re(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),re(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),re(1===t.rank,(function(){return"scores must be a 1D tensor"})),re(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])})),re(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(o,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var Lu=Jt({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=Yt(e,"boxes","nonMaxSuppression","float32"),i=Yt(t,"scores","nonMaxSuppression","float32"),s=Pu(o,i,n,r,a),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return Ht.runKernel("NonMaxSuppressionV3",{boxes:o,scores:i},u)}});function Fu(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,o=0,i=!1;for(;r<a;){var s=n(t,e[o=r+(a-r>>>1)]);s>0?r=o+1:(a=o,i=!s)}return i?r:-r-1}(e,t,n||zu)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function zu(e,t){return e>t?1:e<t?-1:0}function Bu(e,t,n,r,a){return Vu(e,t,n,r,a,0)}function ju(e,t,n,r,a,o){return Vu(e,t,n,r,a,0,!1,o,!0)}function Uu(e,t,n,r,a,o){return Vu(e,t,n,r,a,o,!0)}function Vu(e,t,n,r,a,o){for(var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=[],c=0;c<t.length;c++)t[c]>a&&l.push({score:t[c],boxIndex:c,suppressBeginIndex:0});l.sort(Ku);for(var f=o>0?-.5/o:0,p=[],d=[];p.length<n&&l.length>0;){var h=l.pop(),m=h.score,v=h.boxIndex,y=h.suppressBeginIndex;if(m<a)break;for(var g=!1,b=p.length-1;b>=y;--b){var w=Hu(e,v,p[b]);if(w>=r){g=!0;break}if(h.score=h.score*Wu(r,f,w),h.score<=a)break}h.suppressBeginIndex=p.length,g||(h.score===m?(p.push(v),d.push(h.score)):h.score>a&&Fu(l,h,Ku))}var k=p.length,x=n-k;s&&x>0&&(p.push.apply(p,ee(new Array(x).fill(0))),d.push.apply(d,ee(new Array(x).fill(0))));var S={selectedIndices:p};return i&&(S.selectedScores=d),u&&(S.validOutputs=k),S}function Hu(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),d=(s-o)*(u-i),h=(f-l)*(p-c);if(d<=0||h<=0)return 0;var m=Math.max(o,l),v=Math.max(i,c),y=Math.min(s,f),g=Math.min(u,p),b=Math.max(y-m,0)*Math.max(g-v,0);return b/(d+h-b)}function Wu(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function Ku(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function qu(){return qu=I(E().mark((function e(t,n,r){var a,o,i,s,u,l,c,f,p,d,h=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:.5,o=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,i=Yt(t,"boxes","nonMaxSuppressionAsync"),s=Yt(n,"scores","nonMaxSuppressionAsync"),u=Pu(i,s,r,a,o),r=u.maxOutputSize,a=u.iouThreshold,o=u.scoreThreshold,e.next=10,Promise.all([i.data(),s.data()]);case 10:return l=e.sent,c=l[0],f=l[1],p=Bu(c,f,r,a,o),d=p.selectedIndices,i!==t&&i.dispose(),s!==n&&s.dispose(),e.abrupt("return",Vs(d,"int32"));case 17:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}var Gu=function(e,t,n){return qu.apply(this,arguments)};var $u=Jt({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=Yt(e,"boxes","nonMaxSuppression"),s=Yt(t,"scores","nonMaxSuppression"),u=Pu(i,s,n,r,a,o),l={boxes:i,scores:s},c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},f=Ht.runKernel("NonMaxSuppressionV5",l,c);return{selectedIndices:f[0],selectedScores:f[1]}}});function Yu(){return Yu=I(E().mark((function e(t,n,r){var a,o,i,s,u,l,c,f,p,d,h,m,v=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:.5,o=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,i=v.length>5&&void 0!==v[5]?v[5]:0,s=Yt(t,"boxes","nonMaxSuppressionAsync"),u=Yt(n,"scores","nonMaxSuppressionAsync"),l=Pu(s,u,r,a,o,i),r=l.maxOutputSize,a=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return c=e.sent,f=c[0],p=c[1],d=Uu(f,p,r,a,o,i),h=d.selectedIndices,m=d.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:Vs(h,"int32"),selectedScores:Vs(m)});case 19:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}var Qu=function(e,t,n){return Yu.apply(this,arguments)};var Xu=Jt({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=Yt(e,"boxes","nonMaxSuppression"),s=Yt(t,"scores","nonMaxSuppression"),u=Pu(i,s,n,r,a,null),l={boxes:i,scores:s},c={maxOutputSize:u.maxOutputSize,iouThreshold:u.iouThreshold,scoreThreshold:u.scoreThreshold,padToMaxOutputSize:o},f=Ht.runKernel("NonMaxSuppressionV4",l,c);return{selectedIndices:f[0],validOutputs:f[1]}}});function Ju(){return Ju=I(E().mark((function e(t,n,r){var a,o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,w=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.length>3&&void 0!==w[3]?w[3]:.5,o=w.length>4&&void 0!==w[4]?w[4]:Number.NEGATIVE_INFINITY,i=w.length>5&&void 0!==w[5]&&w[5],s=Yt(t,"boxes","nonMaxSuppressionAsync"),u=Yt(n,"scores","nonMaxSuppressionAsync"),l=Pu(s,u,r,a,o,null),c=l.maxOutputSize,f=l.iouThreshold,p=l.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return d=e.sent,h=C(d,2),m=h[0],v=h[1],y=ju(m,v,c,f,p,i),g=y.selectedIndices,b=y.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:Vs(g,"int32"),validOutputs:Er(b,"int32")});case 19:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}var Zu=function(e,t,n){return Ju.apply(this,arguments)};var el=Jt({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Yt(e,"images","resizeBilinear");re(3===a.rank||4===a.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),re(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),re(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var o=a,i=!1;3===a.rank&&(i=!0,o=Va(a,[1,a.shape[0],a.shape[1],a.shape[2]])),C(t,0);var s={images:o},u={alignCorners:n,halfPixelCenters:r,size:t},l=Ht.runKernel("ResizeBilinear",s,u);return i?Va(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var tl=Jt({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Yt(e,"images","resizeNearestNeighbor");re(3===a.rank||4===a.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),re(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),re("float32"===a.dtype||"int32"===a.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),re(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var o=a,i=!1;3===a.rank&&(i=!0,o=Va(a,[1,a.shape[0],a.shape[1],a.shape[2]])),C(t,0);var s={images:o},u={alignCorners:n,halfPixelCenters:r,size:t},l=Ht.runKernel("ResizeNearestNeighbor",s,u);return i?Va(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var nl=Jt({threshold_:function(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,u=Yt(e,"image","threshold"),l=u.shape[0]*u.shape[1],c=kr(Vs([s]),255);if(re(3===u.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(u.rank,".")})),re(3===u.shape[2]||1===u.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(u.shape[2],".")})),re("int32"===u.dtype||"float32"===u.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(u.dtype,".")})),re("otsu"===o||"binary"===o,(function(){return"Method must be binary or otsu, but was ".concat(o)})),3===u.shape[2]){var f=C(Rs(u,[1,1,1],-1),3);t=f[0],n=f[1],r=f[2];var p=kr(t,.2989),d=kr(n,.587),h=kr(r,.114);a=gr(gr(p,d),h)}else a=e;"otsu"===o&&(c=function(e,t){for(var n,r,a,o,i,s,u=Vs([-1]),l=Vs([0]),c=Vs([0]),f=0;f<e.size-1;f++){n=$a(e,0,f+1),r=$a(e,f+1),i=wr(jo(n),t),s=wr(jo(r),t);var p=jo(kr(n,ss(0,n.size)));a=wr(p,jo(n));var d=Mr(r.shape,n.size),h=gr(ss(0,r.size),d),m=kr(r,h);o=wr(jo(m),jo(r));var v=Pr(a,o),y=Pr(a,o),g=kr(i,s);c=kr(kr(g,v),y);var b=Xo(c,l);l=Ao(b,c,l),u=Ao(b,Vs([f]),u)}return u}(no(pr(ys(a),"int32"),tn([]),256),l));var m=i?oi(a,c):Xo(a,c);return pr(kr(m,255),"int32")}});var rl=Jt({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,i=Yt(e,"image","transform","float32"),s=Yt(t,"transforms","transform","float32");re(4===i.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),re(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),re(null==o||2===o.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")}));var u={image:i,transforms:s},l={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return Ht.runKernel("Transform",u,l)}});var al=Jt({bandPart_:function(e,t,n){var r=Yt(e,"a","bandPart");re(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a,o,i=r.shape,s=C(r.shape.slice(-2),2),u=s[0],l=s[1];"number"===typeof t?(re(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),re(t<=u,(function(){return"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(u,").")})),a=Yt(t<0?u:t,"numLower","bandPart")):(re("int32"===t.dtype,(function(){return"bandPart(): numLower's dtype must be an int32."})),a=Ao(ai(t,0),u,Oi(t,u))),"number"===typeof n?(re(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")})),re(n<=l,(function(){return"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(l,").")})),o=Yt(n<0?l:n,"numUpper","bandPart")):(re("int32"===n.dtype,(function(){return"bandPart(): numUpper's dtype must be an int32."})),o=Ao(ai(n,0),l,Oi(n,l)));var c=Va(ss(0,u,1,"int32"),[-1,1]),f=ss(0,l,1,"int32"),p=Pr(c,f),d=mi(oi(p,a),Jo(p,ci(o))),h=Ei([u,l],r.dtype);return Va(zs(Zs(Va(r,[-1,u,l])).map((function(e){return Ao(d,e,h)}))),i)}});var ol=Jt({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,re(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){re(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}else t=!0,e=Rs(e,e.shape[0],0).map((function(e){return Fs(e,[0])}));re(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var o=[],i=e,s=function(e){o.push(Ht.tidy((function(){var t=i[e];if(e>0)for(var n=0;n<e;++n){var r=kr(jo(kr(o[n],t)),o[n]);t=Pr(t,r)}return wr(t,Vo(t,"euclidean"))})))},u=0;u<e.length;++u)s(u);return t?zs(o,0):o}});function il(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ht.tidy((function(){re(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=$o(n),o=dr(e),i=Hs([[1]],[1,1]),s=dr(i),u=n>=r?r:n,l=function(e){var t=o,u=s,l=a,c=C(Ht.tidy((function(){var t=$a(o,[e,e],[n-e,1]),u=Vo(t),l=$a(o,[e,e],[1,1]),c=Ao(Xo(l,0),Hs([[-1]]),Hs([[1]])),f=Pr(l,kr(c,u)),p=wr(t,f);s=1===p.shape[0]?dr(i):Ka([i,$a(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var d=ci(wr(qa(c,f),u)),h=$a(o,[e,0],[n-e,r]),m=kr(d,s),v=su(s);if(0===e)o=Pr(h,qa(m,qa(v,h)));else{var y=Pr(h,qa(m,qa(v,h)));o=Ka([$a(o,[0,0],[e,r]),y],0)}var g=su(m),b=$a(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Pr(b,qa(qa(b,s),g));else{var w=Pr(b,qa(qa(b,s),g));a=Ka([$a(a,[0,0],[n,e]),w],1)}return[s,o,a]})),3);s=c[0],o=c[1],a=c[2],vr([t,u,l])},c=0;c<u;++c)l(c);return!t&&n>r&&(a=$a(a,[0,0],[n,r]),o=$a(o,[0,0],[r,r])),[a,o]}))}var sl,ul=Jt({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(re(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return il(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Zs(Va(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];return r.forEach((function(e){var n=C(il(e,t),2),r=n[0],i=n[1];a.push(r),o.push(i)})),[Va(zs(a,0),e.shape),Va(zs(o,0),e.shape)]}});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(sl||(sl={}));var ll=Jt({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sl.SUM_BY_NONZERO_WEIGHTS,r=Yt(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=Yt(t,"weights","computeWeightedLoss"));var o=null==a?r:kr(r,a);if(n===sl.NONE)return o;if(n===sl.SUM)return jo(o);if(n===sl.MEAN){if(null==a)return Ti(o);var i=r.size/a.size,s=wr(jo(o),jo(a));return i>1?wr(s,Er(i)):s}if(n===sl.SUM_BY_NONZERO_WEIGHTS){if(null==a)return wr(jo(o),Er(r.size));var u=kr(a,_i(r.shape)),l=pr(jo(Pi(u,Er(0))),"float32");return wr(jo(o),l)}throw Error("Unknown reduction: ".concat(n))}});var cl=Jt({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sl.SUM_BY_NONZERO_WEIGHTS,a=Yt(e,"labels","absoluteDifference"),o=Yt(t,"predictions","absoluteDifference"),i=null;null!=n&&(i=Yt(n,"weights","absoluteDifference")),ae(a.shape,o.shape,"Error in absoluteDifference: ");var s=Fr(Pr(a,o));return ll(s,i,r)}});var fl=Jt({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.SUM_BY_NONZERO_WEIGHTS,o=Yt(e,"labels","cosineDistance"),i=Yt(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Yt(r,"weights","cosineDistance")),ae(o.shape,i.shape,"Error in cosineDistance: ");var u=Er(1),l=Pr(u,jo(kr(o,i),n,!0));return ll(l,s,a)}});var pl=Jt({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sl.SUM_BY_NONZERO_WEIGHTS,a=Yt(e,"labels","hingeLoss"),o=Yt(t,"predictions","hingeLoss"),i=null;null!=n&&(i=Yt(n,"weights","hingeLoss")),ae(a.shape,o.shape,"Error in hingeLoss: ");var s=Er(1);a=Pr(kr(Er(2),a),s);var u=cs(Pr(s,kr(a,o)));return ll(u,i,r)}});var dl=Jt({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.SUM_BY_NONZERO_WEIGHTS,o=Yt(e,"labels","huberLoss"),i=Yt(t,"predictions","huberLoss"),s=null;null!=n&&(s=Yt(n,"weights","huberLoss")),ae(o.shape,i.shape,"Error in huberLoss: ");var u=Er(r),l=Fr(Pr(i,o)),c=Oi(l,u),f=Pr(l,c),p=gr(kr(Er(.5),Sr(c)),kr(u,f));return ll(p,s,a)}});var hl=Jt({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.SUM_BY_NONZERO_WEIGHTS,o=Yt(e,"labels","logLoss"),i=Yt(t,"predictions","logLoss"),s=null;null!=n&&(s=Yt(n,"weights","logLoss")),ae(o.shape,i.shape,"Error in logLoss: ");var u=Er(1),l=Er(r),c=ci(kr(o,ui(gr(i,l)))),f=kr(Pr(u,o),ui(gr(Pr(u,i),l))),p=Pr(c,f);return ll(p,s,a)}});var ml=Jt({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sl.SUM_BY_NONZERO_WEIGHTS,a=Yt(e,"labels","meanSquaredError"),o=Yt(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=Yt(n,"weights","meanSquaredError")),ae(a.shape,o.shape,"Error in meanSquaredError: ");var s=Ls(a,o);return ll(s,i,r)}});var vl=Jt({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.SUM_BY_NONZERO_WEIGHTS,o=Yt(e,"multiClassLabels","sigmoidCrossEntropy"),i=Yt(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Yt(n,"weights","sigmoidCrossEntropy")),ae(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Er(r),l=Er(1),c=Er(.5);o=gr(kr(o,Pr(l,u)),kr(c,u))}var f=function(e,t){var n=Yt(e,"labels","sigmoidCrossEntropyWithLogits"),r=Yt(t,"logits","sigmoidCrossEntropyWithLogits");ae(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=cs(r),o=kr(r,n),i=li(Wo(ci(Fr(r))));return gr(Pr(a,o),i)}(o,i);return ll(f,s,a)}});var yl=Jt({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.SUM_BY_NONZERO_WEIGHTS,o=Yt(e,"onehotLabels","softmaxCrossEntropy"),i=Yt(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Yt(n,"weights","softmaxCrossEntropy")),ae(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Er(r),l=Er(1),c=Er(o.shape[1]);o=gr(kr(o,Pr(l,u)),wr(u,c))}var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=Tr((function(e,t,r){var a=hi(t,[n],!0),o=Pr(pr(t,"float32"),a);r([e,o]);var i=ci(kr(o,e));return{value:jo(i,[n]),gradFunc:function(e,t){var r=C(t,2),a=r[0],o=r[1],i=Fo(e.shape,[n]);return[kr(Va(e,i),Pr(pr(a,"float32"),Wo(o))),kr(Va(e,i),Pr(Wo(o),pr(a,"float32")))]}}}));return r(e,t)}(o,i);return ll(f,s,a)}});var gl=Jt({sparseFillEmptyRows_:function(e,t,n,r){var a=Yt(e,"indices","sparseFillEmptyRows","int32"),o=Yt(t,"values","sparseFillEmptyRows"),i=Yt(n,"denseShape","sparseFillEmptyRows","int32"),s=Yt(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(i.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:a,values:o,denseShape:i,defaultValue:s},l=Ht.runKernel("SparseFillEmptyRows",u);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}});var bl=Jt({sparseReshape_:function(e,t,n){var r=Yt(e,"inputIndices","sparseReshape","int32"),a=Yt(t,"inputShape","sparseReshape","int32"),o=Yt(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));var i={inputIndices:r,inputShape:a,newShape:o},s=Ht.runKernel("SparseReshape",i);return{outputIndices:s[0],outputShape:s[1]}}});var wl=Jt({sparseSegmentMean_:function(e,t,n){var r=Yt(e,"data","sparseSegmentMean"),a=Yt(t,"indices","sparseSegmentMean","int32"),o=Yt(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return Ht.runKernel("SparseSegmentMean",i)}});var kl=Jt({sparseSegmentSum_:function(e,t,n){var r=Yt(e,"data","sparseSegmentSum"),a=Yt(t,"indices","sparseSegmentSum","int32"),o=Yt(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return Ht.runKernel("SparseSegmentSum",i)}});var xl=Jt({stringNGrams_:function(e,t,n,r,a,o,i,s){var u=Yt(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var l=Yt(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");var c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:i,preserveShortSequences:s},f={data:u,dataSplits:l},p=Ht.runKernel("StringNGrams",f,c);return{nGrams:p[0],nGramsSplits:p[1]}}});var Sl=Jt({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Yt(e,"input","stringSplit","string"),a=Yt(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var o={skipEmpty:n},i={input:r,delimiter:a},s=Ht.runKernel("StringSplit",i,o);return{indices:s[0],values:s[1],shape:s[2]}}});var Nl=Jt({stringToHashBucketFast_:function(e,t){var n=Yt(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return Ht.runKernel("StringToHashBucketFast",a,r)}});var Tl,El,_l=Jt({staticRegexReplace_:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Yt(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return Ht.runKernel("StaticRegexReplace",{x:a},o)}}),Il={fft:Cs,ifft:Ms,rfft:Ps,irfft:Ds},Ol={hammingWindow:_u,hannWindow:Iu,frame:Ou,stft:Au},Al={flipLeftRight:Mu,grayscaleToRGB:Du,resizeNearestNeighbor:tl,resizeBilinear:el,rotateWithOffset:Ru,cropAndResize:Cu,nonMaxSuppression:Lu,nonMaxSuppressionAsync:Gu,nonMaxSuppressionWithScore:$u,nonMaxSuppressionWithScoreAsync:Qu,nonMaxSuppressionPadded:Xu,nonMaxSuppressionPaddedAsync:Zu,threshold:nl,transform:rl},Cl={bandPart:al,gramSchmidt:ol,qr:ul},Ml={absoluteDifference:cl,computeWeightedLoss:ll,cosineDistance:fl,hingeLoss:pl,huberLoss:dl,logLoss:hl,meanSquaredError:ml,sigmoidCrossEntropy:vl,softmaxCrossEntropy:yl},Dl={sparseFillEmptyRows:gl,sparseReshape:bl,sparseSegmentMean:wl,sparseSegmentSum:kl},Rl={stringNGrams:xl,stringSplit:Sl,stringToHashBucketFast:Nl,staticRegexReplace:_l};!function(){var e,t=M(Wr);try{for(t.s();!(e=t.n()).done;){Or(e.value)}}catch(Qh){t.e(Qh)}finally{t.f()}}(),_e().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Tl||(Tl={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(El||(El={}));var Pl={};function Ll(e){return Pl[e]}function Fl(e,t,n,r,a){var o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){var i=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?i+1:o.inputIndexEnd,u=i<0?t.inputNames.length+i:i;if("tensor"===o.type)return zl(t.inputNames[u],n,r,a);if("tensors"===o.type){var l=t.inputs.slice(i,s);return t.inputNames.slice(i,s).filter((function(e,t){var n;return"NoOp"!==(null===(n=l[t])||void 0===n?void 0:n.op)})).map((function(e){return zl(e,n,r,a)}))}var c=zl(t.inputNames[u],n,r,a),f=c.dataSync();return"number"===o.type?f[0]:be(c.shape,f)}var p=t.attrParams[e];return p&&p.value}function zl(e,t,n,r){var a=C(Vl(e,n),2),o=a[0],i=a[1];if(null!=r){var s=r.getHashTableHandleByName(o);if(null!=s)return s}var u=n.currentContextIds.find((function(e){return!!t[Ul(o,e)]}));return void 0!==u?t[Ul(o,u)][i]:void 0}function Bl(e,t,n){return t[Ul(e,n.currentContextId)]}function jl(e,t){var n=C(Vl(e,t),3),r=n[0],a=n[1],o=n[2];return[Ul(r,t&&t.currentContextId),a,o]}function Ul(e,t){return t?"".concat(e,"-").concat(t):e}function Vl(e,t){if(""===e)return["",0,void 0];var n=null!=t&&null!=t.parseNodeNameCache;if(n){var r=t.parseNodeNameCache.get(e);if(null!=r)return r}var a,o=e.split(":");if(1===o.length)a=[e,0,void 0];else{var i=o[0],s=3===o.length?o[1]:void 0;a=[i,Number(o[o.length-1]),s]}return n&&t.parseNodeNameCache.set(e,a),a}function Hl(e,t,n){var r=Fl("pad",e,t,n);if("explicit"===r){r=Fl("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function Wl(e){return e.kept?e:dr(e)}var Kl=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ql=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Gl=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],$l=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Yl=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Ql=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Xl=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Jl=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Zl=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],ec=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],tc=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],nc=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],rc=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],ac=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],oc=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],ic=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],sc=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],uc=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],lc=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],cc=function(){function e(){var t;D(this,e);var n=[r,a,o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,w,k],x=(t=[]).concat.apply(t,ee(n.map((function(e){return e.json}))));this.opMappers=x.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return L(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],o=[],i=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||i.push(e[n.name]),e}),{}),u=[],l=[],c={},f={};null!=n&&(c=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var p=Object.keys(s);p.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=C(jl(e),3),a=r[0],o=r[2],i=s[a];if(null!=i.outputs){var u=i.outputs.indexOf(o);if(-1!==u){var l="".concat(a,":").concat(u);t.inputNames[n]=l}}t.inputs.push(i),i.children.push(t)}))})),0===Object.keys(f).length?p.forEach((function(e){var t=s[e];0===t.children.length&&l.push(t)})):Object.keys(f).forEach((function(e){var t=C(jl(e),1)[0],n=s[t];null!=n&&(n.signatureKey=f[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((function(e){var t=C(jl(e),1)[0],n=s[t];n&&(n.signatureKey=c[e],u.push(n))})):u=a;var d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:l,weights:o,placeholders:a,signature:n,functions:d};return i.length>0&&(h.initNodes=i),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=Ll(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=pc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=pc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=xc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=xc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=hc(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=hc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=kc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=kc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=dc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=dc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=Nc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Nc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=wc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=wc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=Sc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Sc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=yc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=yc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=gc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=gc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=vc(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=vc(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var o=[],i=[];e.signature.inputArg.forEach((function(e){var t=C(jl(e.name),1)[0],n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:mc(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,o.push(n),a[t]=n})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=C(jl(e),3),o=r[0],i=r[2],s=a[o];if(null!=s.outputs){var u=s.outputs.indexOf(i);if(-1!==u){var l="".concat(o,":").concat(u);t.inputNames[n]=l}}t.inputs.push(s),s.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=C(jl(s[e.name]),2),n=t[0],r=t[1],o=a[n];null!=o&&(o.defaultOutput=r,i.push(o))}));var u=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:i,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function fc(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=_e().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function pc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?fc(a.s,r):n}function dc(e,t,n){var r=e[t];return r?r.b:n}function hc(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function mc(e){switch("string"===typeof e&&(e=Tl[e]),e){case Tl.DT_FLOAT:case Tl.DT_HALF:return"float32";case Tl.DT_INT32:case Tl.DT_INT64:case Tl.DT_INT8:case Tl.DT_UINT8:return"int32";case Tl.DT_BOOL:return"bool";case Tl.DT_DOUBLE:return"float32";case Tl.DT_STRING:return"string";default:return null}}function vc(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function yc(e,t,n){var r=e[t];return r&&r.type?mc(r.type):n}function gc(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return mc(e)})):n}function bc(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function wc(e,t,n){var r=e[t];return r&&r.shape?bc(r.shape):n}function kc(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function xc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return fc(e,r)})):n}function Sc(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return bc(e)})):n}function Nc(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Tc=function(){function e(t,n,r){var a=this;D(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return L(e,[{key:"getInput",value:function(e){return zl(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return zl(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return hc(this.node.rawAttrs,e,t);if(null!=n.s)return pc(this.node.rawAttrs,e,t);if(null!=n.b)return dc(this.node.rawAttrs,e,t);if(null!=n.shape)return wc(this.node.rawAttrs,e,t);if(null!=n.type)return yc(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return kc(this.node.rawAttrs,e,t);if(null!=n.list.s)return xc(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Sc(this.node.rawAttrs,e,t);if(null!=n.list.b)return Nc(this.node.rawAttrs,e,t);if(null!=n.list.type)return gc(this.node.rawAttrs,e,t)}return t}}]),e}();function Ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){re(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var a=e[r],o=t[r];re(a<0||o<0||a===o,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function _c(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function Ic(e,t,n){var r=Oc(e,n),a=!_c(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=Oc(e.shape,r)})),!_c(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Oc(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}var Ac=function(){function e(t,n,r,a,o,i,s){D(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=Er(0),yr(this.idTensor)}return L(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Ec(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,yr(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return tn([],[0].concat(this.elementShape));var r=this.readMany(e);return Ec(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),zs(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return tn([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return Ec(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),Ka(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,ee(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,Zs(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var o=0===r?0:t.size/r,i=[];mr((function(){t=Va(t,[1,r,o]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,e[s],o];i[s]=Va($a(t,u,l),n.elementShape)}return i}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,i)}}]),e}(),Cc=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;D(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));Ec(n,e.shape,"TensorList shape mismatch: "),yr(e)})),this.idTensor=Er(0),this.maxNumElements=a,yr(this.idTensor)}return L(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e(ee(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));Ec(e,this.elementShape,"TensorList shape mismatch: ");var a=Ic(this.elementShape,this.tensors,e);return mr((function(){var e=n.tensors.map((function(e){return Va(e,a)}));return zs(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=Ic(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Ec(r.shape,e,"TensorList shape mismatch: "),Va(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Ec(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");yr(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));Ec(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=Ic(this.elementShape,this.tensors,t);return Va(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Ec(this.elementShape,t.shape,"TensorList shape mismatch: "),yr(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));Ec(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=Ic(this.elementShape,this.tensors,n);return 0===e.length?tn([],[0].concat(a)):mr((function(){var t=e.map((function(e){return Va(r.tensors[e],a)}));return zs(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Ec(this.elementShape,t,"TensorList shape mismatch: ");var r=Ic(this.elementShape,this.tensors,t);return 0===this.size()?tn([],[0].concat(r)):mr((function(){var e=n.tensors.map((function(e){return Va(e,r)}));return Ka(e,0)}))}}]),e}();function Mc(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));Ec(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=Zs(e);return new Cc(a,t,r)}function Dc(e,t,n,r){return new Cc([],e,t,r)}function Rc(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a=Math.max.apply(Math,ee(t));if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));var o=new Cc([],n,e.dtype,r),i=Zs(e,0);return t.forEach((function(e,t){o.setItem(e,i[t])})),o}function Pc(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var o=Oc(e.shape.slice(1),n),i=0===r?0:e.size/r,s=mr((function(){var n=[];e=Va(e,[1,r,i]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,t[s],i];n[s]=Va($a(e,u,l),o)}return e.dispose(),n})),u=new Cc([],n,e.dtype,t.length),l=0;l<s.length;l++)u.setItem(l,s[l]);return u}var Lc=function(){var e=I(E().mark((function e(t,n,r){var a,o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,w,k,x,S,N,T,_,I,O,A,C,M,D,R,P,L,F,z,B,j,U,V,H,W,K,q,G,$,Y,Q,X,J,Z,ee,te,ne,re,ae,oe,ie,se,ue,le,ce,fe,pe,de,he,me,ve,ye,ge,be,we,ke,xe,Se,Ne,Te,Ee,_e,Ie,Oe,Ae,Ce,Me,De,Re,Pe,Le,Fe,ze,Be,je,Ue,Ve,He,We,Ke,qe,Ge,$e,Ye,Qe,Xe,Je,Ze,et,tt,nt,rt,at,ot,it;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?33:"Switch"===e.t0?35:"Merge"===e.t0?46:"Enter"===e.t0?51:"Exit"===e.t0?55:"NextIteration"===e.t0?58:"TensorArrayV3"===e.t0?61:"TensorArrayWriteV3"===e.t0?71:"TensorArrayReadV3"===e.t0?77:"TensorArrayGatherV3"===e.t0?81:"TensorArrayScatterV3"===e.t0?86:"TensorArrayConcatV3"===e.t0?92:"TensorArraySplitV3"===e.t0?96:"TensorArraySizeV3"===e.t0?102:"TensorArrayCloseV3"===e.t0?105:"TensorListSetItem"===e.t0?109:"TensorListGetItem"===e.t0?115:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?121:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?128:"TensorListGather"===e.t0?136:"TensorListStack"===e.t0?142:"TensorListFromTensor"===e.t0?148:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?154:"TensorListPushBack"===e.t0?159:"TensorListPopBack"===e.t0?164:"TensorListSplit"===e.t0?169:"TensorListLength"===e.t0?175:"TensorListResize"===e.t0?178:184;break;case 3:return a=Fl("thenBranch",t,n,r),o=Fl("elseBranch",t,n,r),i=Fl("cond",t,n,r),s=Fl("args",t,n,r),e.next=9,i.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[o].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return u=Fl("body",t,n,r),l=Fl("cond",t,n,r),c=Fl("args",t,n,r),e.next=20,r.functionMap[l].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 20:return f=e.sent,p=c.map((function(e){return e.id})),e.next=24,f[0].data();case 24:d=e.sent,f.forEach((function(e){e.kept||-1!==p.indexOf(e.id)||e.dispose()})),h=c,m=E().mark((function e(){var t,n,a;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h,e.next=3,r.functionMap[u].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap);case 3:return h=e.sent,n=h.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==p.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[l].executeFunctionAsync(h,r.tensorArrayMap,r.tensorListMap);case 8:return a=e.sent,e.next=11,a[0].data();case 11:d=e.sent,a.forEach((function(e){e.kept||-1!==p.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 28:if(!d[0]){e.next=32;break}return e.delegateYield(m(),"t1",30);case 30:e.next=28;break;case 32:return e.abrupt("return",h);case 33:return v=Fl("pred",t,n,r),e.abrupt("return",[Wl(v)]);case 35:return y=Fl("pred",t,n,r),(g=Fl("data",t,n,r)).kept||(g=Wl(g)),e.next=40,y.data();case 40:if(!e.sent[0]){e.next=44;break}e.t2=[void 0,g],e.next=45;break;case 44:e.t2=[g,void 0];case 45:return e.abrupt("return",e.t2);case 46:if(b=t.inputNames.find((function(e){return void 0!==zl(e,n,r)})),!b){e.next=50;break}return w=zl(b,n,r),e.abrupt("return",[Wl(w)]);case 50:return e.abrupt("return",void 0);case 51:return k=Fl("frameName",t,n,r),x=Fl("tensor",t,n,r),r.enterFrame(k),e.abrupt("return",[Wl(x)]);case 55:return S=Fl("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[Wl(S)]);case 58:return N=Fl("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[Wl(N)]);case 61:return T=Fl("size",t,n,r),_=Fl("dtype",t,n,r),I=Fl("elementShape",t,n,r),O=Fl("dynamicSize",t,n,r),A=Fl("clearAfterRead",t,n,r),C=Fl("identicalElementShapes",t,n,r),M=Fl("name",t,n,r),D=new Ac(M,_,T,I,C,O,A),r.addTensorArray(D),e.abrupt("return",[D.idTensor,Er(1)]);case 71:return R=Fl("tensorArrayId",t,n,r),P=Fl("index",t,n,r),L=Fl("tensor",t,n,r),(F=r.getTensorArray(R.id)).write(P,L),e.abrupt("return",[F.idTensor]);case 77:return z=Fl("tensorArrayId",t,n,r),B=Fl("index",t,n,r),j=r.getTensorArray(z.id),e.abrupt("return",[j.read(B)]);case 81:return U=Fl("tensorArrayId",t,n,r),V=Fl("indices",t,n,r),H=Fl("dtype",t,n,r),W=r.getTensorArray(U.id),e.abrupt("return",[W.gather(V,H)]);case 86:return K=Fl("tensorArrayId",t,n,r),q=Fl("indices",t,n,r),G=Fl("tensor",t,n,r),($=r.getTensorArray(K.id)).scatter(q,G),e.abrupt("return",[$.idTensor]);case 92:return Y=Fl("tensorArrayId",t,n,r),Q=r.getTensorArray(Y.id),X=Fl("dtype",t,n,r),e.abrupt("return",[Q.concat(X)]);case 96:return J=Fl("tensorArrayId",t,n,r),Z=Fl("tensor",t,n,r),ee=Fl("lengths",t,n,r),(te=r.getTensorArray(J.id)).split(ee,Z),e.abrupt("return",[te.idTensor]);case 102:return ne=Fl("tensorArrayId",t,n,r),re=r.getTensorArray(ne.id),e.abrupt("return",[Er(re.size(),"int32")]);case 105:return ae=Fl("tensorArrayId",t,n,r),(oe=r.getTensorArray(ae.id)).clearAndClose(),e.abrupt("return",[oe.idTensor]);case 109:return ie=Fl("tensorListId",t,n,r),se=Fl("index",t,n,r),ue=Fl("tensor",t,n,r),(le=r.getTensorList(ie.id)).setItem(se,ue),e.abrupt("return",[le.idTensor]);case 115:return ce=Fl("tensorListId",t,n,r),fe=Fl("index",t,n,r),pe=Fl("elementShape",t,n,r),de=Fl("elementDType",t,n,r),he=r.getTensorList(ce.id),e.abrupt("return",[he.getItem(fe,pe,de)]);case 121:return me=Fl("indices",t,n,r),ve=Fl("tensor",t,n,r),ye=Fl("elementShape",t,n,r),ge=Fl("numElements",t,n,r),be=Rc(ve,me,ye,ge),r.addTensorList(be),e.abrupt("return",[be.idTensor]);case 128:return we=Fl("elementShape",t,n,r),ke=Fl("elementDType",t,n,r),xe="TensorListReserve"===t.op?"numElements":"maxNumElements",Se=Fl(xe,t,n,r),Ne="TensorListReserve"===t.op?-1:Se,Te=Dc(we,ke,0,Ne),r.addTensorList(Te),e.abrupt("return",[Te.idTensor]);case 136:return Ee=Fl("tensorListId",t,n,r),_e=Fl("indices",t,n,r),Ie=Fl("elementShape",t,n,r),Oe=Fl("elementDType",t,n,r),Ae=r.getTensorList(Ee.id),e.abrupt("return",[Ae.gather(_e,Oe,Ie)]);case 142:return Ce=Fl("tensorListId",t,n,r),Me=Fl("elementShape",t,n,r),De=Fl("elementDType",t,n,r),Re=Fl("numElements",t,n,r),Pe=r.getTensorList(Ce.id),e.abrupt("return",[Pe.stack(Me,De,Re)]);case 148:return Le=Fl("tensor",t,n,r),Fe=Fl("elementShape",t,n,r),ze=Fl("elementDType",t,n,r),Be=Mc(Le,Fe,ze),r.addTensorList(Be),e.abrupt("return",[Be.idTensor]);case 154:return je=Fl("tensorListId",t,n,r),Ue=r.getTensorList(je.id),Ve=Fl("dtype",t,n,r),He=Fl("elementShape",t,n,r),e.abrupt("return",[Ue.concat(Ve,He)]);case 159:return We=Fl("tensorListId",t,n,r),Ke=Fl("tensor",t,n,r),(qe=r.getTensorList(We.id)).pushBack(Ke),e.abrupt("return",[qe.idTensor]);case 164:return Ge=Fl("tensorListId",t,n,r),$e=Fl("elementShape",t,n,r),Ye=Fl("elementDType",t,n,r),Qe=r.getTensorList(Ge.id),e.abrupt("return",[Qe.popBack($e,Ye)]);case 169:return Xe=Fl("tensor",t,n,r),Je=Fl("elementShape",t,n,r),Ze=Fl("lengths",t,n,r),et=Pc(Xe,Ze,Je),r.addTensorList(et),e.abrupt("return",[et.idTensor]);case 175:return tt=Fl("tensorListId",t,n,r),nt=r.getTensorList(tt.id),e.abrupt("return",[Er(nt.size(),"int32")]);case 178:return rt=Fl("tensorListId",t,n,r),at=Fl("size",t,n,r),ot=r.getTensorList(rt.id),it=ot.resize(at),r.addTensorList(it),e.abrupt("return",[it.idTensor]);case 184:throw TypeError("Node type ".concat(t.op," is not implemented"));case 185:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Fc(e,t,n){var r=C(Fl("fusedOps",e,t,n),2),a=r[0],o=r[1],i="biasadd"===a,s=!i,u="prelu"===o,l="fusedbatchnorm"===a,c=Fl("numArgs",e,t,n);if(i){if(u&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&i&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var f=Fl("strides",e,t,n),p=Hl(e,t,n),d=Fl("dataFormat",e,t,n).toUpperCase(),h=Fl("dilations",e,t,n),m=C(Fl("args",e,t,n),2),v=m[0],y=m[1];return s&&(y=v,v=void 0),{stride:f,pad:p,dataFormat:d,dilations:h,biasArg:v,preluArg:y,activationFunc:o,leakyreluAlpha:Fl("leakyreluAlpha",e,t,n)}}function zc(e,t,n){return{boxes:Fl("boxes",e,t,n),scores:Fl("scores",e,t,n),maxOutputSize:Fl("maxOutputSize",e,t,n),iouThreshold:Fl("iouThreshold",e,t,n),scoreThreshold:Fl("scoreThreshold",e,t,n),softNmsSigma:Fl("softNmsSigma",e,t,n)}}var Bc=function(){var e=I(E().mark((function e(t,n,r,a){var o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,w,k,S,N,T,_,I,O,A,C,M=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=M.length>4&&void 0!==M[4]?M[4]:x,e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?4:"NonMaxSuppressionV4"===e.t0?9:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?15:"Where"===e.t0?20:"ListDiff"===e.t0?27:28;break;case 4:return i=zc(t,n,r),s=i.boxes,u=i.scores,l=i.maxOutputSize,c=i.iouThreshold,f=i.scoreThreshold,p=i.softNmsSigma,e.next=7,o.image.nonMaxSuppressionWithScoreAsync(s,u,l,c,f,p);case 7:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 9:return h=zc(t,n,r),m=h.boxes,v=h.scores,y=h.maxOutputSize,g=h.iouThreshold,b=h.scoreThreshold,w=Fl("padToMaxOutputSize",t,n,r),e.next=13,o.image.nonMaxSuppressionPaddedAsync(m,v,y,g,b,w);case 13:return k=e.sent,e.abrupt("return",[k.selectedIndices,k.validOutputs]);case 15:return S=zc(t,n,r),N=S.boxes,T=S.scores,_=S.maxOutputSize,I=S.iouThreshold,O=S.scoreThreshold,e.next=18,o.image.nonMaxSuppressionAsync(N,T,_,I,O);case 18:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 20:return A=o.cast(Fl("condition",t,n,r),"bool"),e.next=23,o.whereAsync(A);case 23:return e.t2=e.sent,C=[e.t2],A.dispose(),e.abrupt("return",C);case 27:return e.abrupt("return",o.setdiff1dAsync(Fl("x",t,n,r),Fl("y",t,n,r)));case 28:throw TypeError("Node type ".concat(t.op," is not implemented"));case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),jc=function(){function e(t,n){D(this,e),this.keyDType=t,this.valueDType=n,this.handle=Er(0),this.tensorMap=new Map,yr(this.handle)}return L(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return Er(this.size(),"int32")}},{key:"import",value:function(){var e=I(E().mark((function e(t,n){var r,a=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",mr((function(){var e=Zs(n),t=r.length,o=e.length;re(t===o,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(o," ")+"elements."}));for(var i=0;i<t;i++){var s=r[i],u=e[i];yr(u),a.tensorMap.set(s,u)}return a.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=I(E().mark((function e(t,n){var r,a=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",mr((function(){for(var e=[],t=0;t<r.length;t++){var o=r[t],i=a.findWithDefault(o,n);e.push(i)}return zs(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),Uc=function(){var e=I(E().mark((function e(t,n,r,a){var o,i,s,u,l,c,f,p,d,h,m,v,y,g;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"InitializeTable"===e.t0||"InitializeTableV2"===e.t0||"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?13:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?21:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?29:32;break;case 3:if(null==(o=a.getHashTableHandleByName(t.name))){e.next=8;break}return e.abrupt("return",[o]);case 8:return i=Fl("keyDType",t,n,r),s=Fl("valueDType",t,n,r),u=new jc(i,s),a.addHashTable(t.name,u),e.abrupt("return",[u.handle]);case 13:return l=Fl("tableHandle",t,n,r,a),c=Fl("keys",t,n,r),f=Fl("values",t,n,r),p=a.getHashTableById(l.id),e.next=19,p.import(c,f);case 19:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 21:return d=Fl("tableHandle",t,n,r,a),h=Fl("keys",t,n,r),m=Fl("defaultValue",t,n,r),v=a.getHashTableById(d.id),e.next=27,v.find(h,m);case 27:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 29:return y=Fl("tableHandle",t,n,r,a),g=a.getHashTableById(y.id),e.abrupt("return",[g.tensorSize()]);case 32:throw TypeError("Node type ".concat(t.op," is not implemented"));case 33:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function Vc(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mr,o=function(e,t,n){switch(e.category){case"arithmetic":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Fl("a",e,t,n),Fl("b",e,t,n))];case"AddN":return[r.addN(Fl("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Fl("a",e,t,n),Fl("b",e,t,n))];case"Mul":return[r.mul(Fl("a",e,t,n),Fl("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Fl("a",e,t,n),Fl("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Fl("a",e,t,n),Fl("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Fl("a",e,t,n),Fl("b",e,t,n))];case"Sub":return[r.sub(Fl("a",e,t,n),Fl("b",e,t,n))];case"Minimum":return[r.minimum(Fl("a",e,t,n),Fl("b",e,t,n))];case"Maximum":return[r.maximum(Fl("a",e,t,n),Fl("b",e,t,n))];case"Pow":return[r.pow(Fl("a",e,t,n),Fl("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Fl("a",e,t,n),Fl("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Fl("x",e,t,n))];case"Acos":return[r.acos(Fl("x",e,t,n))];case"Acosh":return[r.acosh(Fl("x",e,t,n))];case"Asin":return[r.asin(Fl("x",e,t,n))];case"Asinh":return[r.asinh(Fl("x",e,t,n))];case"Atan":return[r.atan(Fl("x",e,t,n))];case"Atan2":return[r.atan2(Fl("x",e,t,n),Fl("y",e,t,n))];case"Atanh":return[r.atanh(Fl("x",e,t,n))];case"Ceil":return[r.ceil(Fl("x",e,t,n))];case"Complex":return[r.complex(Fl("real",e,t,n),Fl("imag",e,t,n))];case"Cos":return[r.cos(Fl("x",e,t,n))];case"Cosh":return[r.cosh(Fl("x",e,t,n))];case"Elu":return[r.elu(Fl("x",e,t,n))];case"Erf":return[r.erf(Fl("x",e,t,n))];case"Exp":return[r.exp(Fl("x",e,t,n))];case"Expm1":return[r.expm1(Fl("x",e,t,n))];case"Floor":return[r.floor(Fl("x",e,t,n))];case"Log":return[r.log(Fl("x",e,t,n))];case"Log1p":return[r.log1p(Fl("x",e,t,n))];case"Imag":return[r.imag(Fl("x",e,t,n))];case"Neg":return[r.neg(Fl("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Fl("x",e,t,n))];case"Real":return[r.real(Fl("x",e,t,n))];case"Relu":return[r.relu(Fl("x",e,t,n))];case"Round":return[r.round(Fl("x",e,t,n))];case"Selu":return[r.selu(Fl("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Fl("x",e,t,n))];case"Sin":return[r.sin(Fl("x",e,t,n))];case"Sign":return[r.sign(Fl("x",e,t,n))];case"Sinh":return[r.sinh(Fl("x",e,t,n))];case"Softplus":return[r.softplus(Fl("x",e,t,n))];case"Sqrt":return[r.sqrt(Fl("x",e,t,n))];case"Square":return[r.square(Fl("x",e,t,n))];case"Tanh":return[r.tanh(Fl("x",e,t,n))];case"Tan":return[r.tan(Fl("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Fl("x",e,t,n),Fl("clipValueMin",e,t,n),Fl("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Fl("x",e,t,n))];case"Rsqrt":return[r.rsqrt(zl(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(Fl("x",e,t,n),Fl("alpha",e,t,n))];case"Prelu":return[r.prelu(Fl("x",e,t,n),Fl("alpha",e,t,n))];case"IsNan":return[r.isNaN(zl(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(zl(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(zl(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return Lc(e,t,n);case"convolution":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Conv1D":var a=Fl("stride",e,t,n),o=Fl("pad",e,t,n),i=Fl("dataFormat",e,t,n).toUpperCase(),s=Fl("dilation",e,t,n);return[r.conv1d(Fl("x",e,t,n),Fl("filter",e,t,n),a,o,i,s)];case"Conv2D":var u=Fl("strides",e,t,n),l=Hl(e,t,n),c=Fl("dataFormat",e,t,n).toUpperCase(),f=Fl("dilations",e,t,n);return[r.conv2d(Fl("x",e,t,n),Fl("filter",e,t,n),[u[1],u[2]],l,c,[f[1],f[2]])];case"_FusedConv2D":var p=Fc(e,t,n),d=p.stride,h=p.pad,m=p.dataFormat,v=p.dilations,y=p.biasArg,g=p.preluArg,b=p.activationFunc,w=p.leakyreluAlpha;return[r.fused.conv2d({x:Fl("x",e,t,n),filter:Fl("filter",e,t,n),strides:[d[1],d[2]],pad:h,dataFormat:m,dilations:[v[1],v[2]],bias:y,activation:b,preluActivationWeights:g,leakyreluAlpha:w})];case"FusedDepthwiseConv2dNative":var k=Fc(e,t,n),S=k.stride,N=k.pad,T=k.dataFormat,E=k.dilations,_=k.biasArg,I=k.preluArg,O=k.activationFunc,A=k.leakyreluAlpha;return[r.fused.depthwiseConv2d({x:Fl("x",e,t,n),filter:Fl("filter",e,t,n),strides:[S[1],S[2]],pad:N,dataFormat:T,dilations:[E[1],E[2]],bias:_,activation:O,preluActivationWeights:I,leakyreluAlpha:A})];case"Conv2DBackpropInput":case"Conv2dTranspose":var C=Fl("outputShape",e,t,n),M=Fl("strides",e,t,n),D=Hl(e,t,n);return[r.conv2dTranspose(Fl("x",e,t,n),Fl("filter",e,t,n),C,[M[1],M[2]],D)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var R=Fl("strides",e,t,n),P=Hl(e,t,n),L=Fl("dilations",e,t,n),F=Fl("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Fl("input",e,t,n),Fl("filter",e,t,n),[R[1],R[2]],P,F,[L[1],L[2]])];case"Conv3D":var z=Fl("strides",e,t,n),B=Fl("pad",e,t,n),j=Fl("dataFormat",e,t,n).toUpperCase(),U=Fl("dilations",e,t,n);return[r.conv3d(Fl("x",e,t,n),Fl("filter",e,t,n),[z[1],z[2],z[3]],B,j,[U[1],U[2],U[3]])];case"AvgPool":var V=Fl("strides",e,t,n),H=Fl("pad",e,t,n),W=Fl("kernelSize",e,t,n);return[r.avgPool(Fl("x",e,t,n),[W[1],W[2]],[V[1],V[2]],H)];case"MaxPool":var K=Fl("strides",e,t,n),q=Fl("pad",e,t,n),G=Fl("kernelSize",e,t,n);return[r.maxPool(Fl("x",e,t,n),[G[1],G[2]],[K[1],K[2]],q)];case"MaxPoolWithArgmax":var $=Fl("strides",e,t,n),Y=Fl("pad",e,t,n),Q=Fl("kernelSize",e,t,n),X=Fl("includeBatchInIndex",e,t,n),J=r.maxPoolWithArgmax(Fl("x",e,t,n),[Q[1],Q[2]],[$[1],$[2]],Y,X);return[J.result,J.indexes];case"AvgPool3D":var Z=Fl("strides",e,t,n),ee=Fl("pad",e,t,n),te=Fl("kernelSize",e,t,n);return[r.avgPool3d(Fl("x",e,t,n),[te[1],te[2],te[3]],[Z[1],Z[2],Z[3]],ee)];case"MaxPool3D":var ne=Fl("strides",e,t,n),re=Fl("pad",e,t,n),ae=Fl("kernelSize",e,t,n);return[r.maxPool3d(Fl("x",e,t,n),[ae[1],ae[2],ae[3]],[ne[1],ne[2],ne[3]],re)];case"Dilation2D":var oe=Fl("strides",e,t,n),ie=Fl("pad",e,t,n),se=Fl("dilations",e,t,n),ue=oe[1],le=oe[2],ce=se[1],fe=se[2];return[r.dilation2d(Fl("x",e,t,n),Fl("filter",e,t,n),[ue,le],ie,[ce,fe],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Fill":var a=Fl("shape",e,t,n),o=Fl("dtype",e,t,n),i=Fl("value",e,t,n);return[r.fill(a,i,o)];case"LinSpace":var s=Fl("start",e,t,n),u=Fl("stop",e,t,n),l=Fl("num",e,t,n);return[r.linspace(s,u,l)];case"Multinomial":var c=Fl("logits",e,t,n),f=Fl("numSamples",e,t,n),p=Fl("seed",e,t,n);return[r.multinomial(c,f,p)];case"OneHot":var d=Fl("indices",e,t,n),h=Fl("depth",e,t,n),m=Fl("onValue",e,t,n),v=Fl("offValue",e,t,n),y=Fl("dtype",e,t,n);return[r.oneHot(d,h,m,v,y)];case"Ones":return[r.ones(Fl("shape",e,t,n),Fl("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Fl("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Fl("shape",e,t,n),Fl("dtype",e,t,n),Fl("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Fl("shape",e,t,n),Fl("minval",e,t,n),Fl("maxval",e,t,n),Fl("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(Fl("shape",e,t,n),Fl("minval",e,t,n),Fl("maxval",e,t,n),Fl("seed",e,t,n))];case"Range":var g=Fl("start",e,t,n),b=Fl("stop",e,t,n),w=Fl("step",e,t,n);return[r.range(g,b,w,Fl("dtype",e,t,n))];case"TruncatedNormal":var k=Fl("shape",e,t,n),S=Fl("mean",e,t,n),N=Fl("stdDev",e,t,n),T=Fl("seed",e,t,n);return[r.truncatedNormal(k,S,N,Fl("dtype",e,t,n),T)];case"Zeros":return[r.zeros(Fl("shape",e,t,n),Fl("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Fl("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return Bc(e,t,n);case"evaluation":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"LowerBound":var a=Fl("sortedSequence",e,t,n),o=Fl("values",e,t,n);return[r.lowerBound(a,o)];case"TopKV2":var i=Fl("x",e,t,n),s=Fl("k",e,t,n),u=Fl("sorted",e,t,n),l=r.topk(i,s,u);return[l.values,l.indices];case"UpperBound":var c=Fl("sortedSequence",e,t,n),f=Fl("values",e,t,n);return[r.upperBound(c,f)];case"Unique":var p=Fl("x",e,t,n),d=r.unique(p);return[d.values,d.indices];case"UniqueV2":var h=Fl("x",e,t,n),m=Fl("axis",e,t,n),v=r.unique(h,m);return[v.values,v.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"ResizeBilinear":var a=Fl("images",e,t,n),o=Fl("size",e,t,n),i=Fl("alignCorners",e,t,n),s=Fl("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[o[0],o[1]],i,s)];case"ResizeNearestNeighbor":var u=Fl("images",e,t,n),l=Fl("size",e,t,n),c=Fl("alignCorners",e,t,n),f=Fl("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(u,[l[0],l[1]],c,f)];case"CropAndResize":var p=Fl("image",e,t,n),d=Fl("boxes",e,t,n),h=Fl("boxInd",e,t,n),m=Fl("cropSize",e,t,n),v=Fl("method",e,t,n),y=Fl("extrapolationValue",e,t,n);return[r.image.cropAndResize(p,d,h,m,v,y)];case"ImageProjectiveTransformV3":var g=Fl("images",e,t,n),b=Fl("transforms",e,t,n),w=Fl("outputShape",e,t,n),k=Fl("fillValue",e,t,n),S=Fl("interpolation",e,t,n),N=Fl("fillMode",e,t,n);return[r.image.transform(g,b,S.toLowerCase(),N.toLowerCase(),k,w)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var a=Fl("default",e,t,n);return[zl(e.name,t,n)||a];case"Placeholder":return[zl(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Wl(Fl("x",e,t,n))];case"IdentityN":return Fl("x",e,t,n).map((function(e){return Wl(e)}));case"Shape":return[r.tensor1d(Fl("x",e,t,n).shape,"int32")];case"ShapeN":return Fl("x",e,t,n).map((function(e){return r.tensor1d(e.shape)}));case"Size":return[r.scalar(Fl("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Fl("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":var o=Fl("x",e,t,n),i=Fl("data",e,t,n),s=Fl("message",e,t,n),u=Fl("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var l=0;l<i.length;l++)console.log(Array.prototype.slice.call(i[l].dataSync()).slice(0,u));return[o];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Equal":return[r.equal(Fl("a",e,t,n),Fl("b",e,t,n))];case"NotEqual":return[r.notEqual(Fl("a",e,t,n),Fl("b",e,t,n))];case"Greater":return[r.greater(Fl("a",e,t,n),Fl("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Fl("a",e,t,n),Fl("b",e,t,n))];case"Less":return[r.less(Fl("a",e,t,n),Fl("b",e,t,n))];case"LessEqual":return[r.lessEqual(Fl("a",e,t,n),Fl("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Fl("a",e,t,n),Fl("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Fl("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Fl("a",e,t,n),Fl("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Fl("condition",e,t,n),Fl("a",e,t,n),Fl("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(Fl("a",e,t,n),Fl("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Fl("a",e,t,n),Fl("b",e,t,n),Fl("transposeA",e,t,n),Fl("transposeB",e,t,n))];case"Einsum":return[r.einsum.apply(r,[Fl("equation",e,t,n)].concat(ee(Fl("tensors",e,t,n))))];case"Transpose":return[r.transpose(Fl("x",e,t,n),Fl("perm",e,t,n))];case"_FusedMatMul":var a=C(Fl("fusedOps",e,t,n),2),o=a[0],i=a[1],s="biasadd"===o,u="prelu"===i,l=Fl("numArgs",e,t,n),c=Fl("leakyreluAlpha",e,t,n);if(s){if(u&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var f=C(Fl("args",e,t,n),2),p=f[0],d=f[1];return[r.fused.matMul({a:Fl("a",e,t,n),b:Fl("b",e,t,n),transposeA:Fl("transposeA",e,t,n),transposeB:Fl("transposeB",e,t,n),bias:p,activation:i,preluActivationWeights:d,leakyreluAlpha:c})];case"MatrixBandPart":return[r.linalg.bandPart(Fl("a",e,t,n),Fl("numLower",e,t,n),Fl("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Fl("x",e,t,n),Fl("axis",e,t,n),Fl("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Fl("x",e,t,n),Fl("mean",e,t,n),Fl("variance",e,t,n),Fl("offset",e,t,n),Fl("scale",e,t,n),Fl("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Fl("x",e,t,n),Fl("radius",e,t,n),Fl("bias",e,t,n),Fl("alpha",e,t,n),Fl("beta",e,t,n))];case"Softmax":return[r.softmax(Fl("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Fl("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"ragged":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"RaggedGather":var a=r.raggedGather(Fl("paramsNestedSplits",e,t,n),Fl("paramsDenseValues",e,t,n),Fl("indices",e,t,n),Fl("outputRaggedRank",e,t,n)),o=a.outputNestedSplits,i=a.outputDenseValues;return o.concat(i);case"RaggedRange":var s=r.raggedRange(Fl("starts",e,t,n),Fl("limits",e,t,n),Fl("splits",e,t,n));return[s.rtNestedSplits,s.rtDenseValues];case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Fl("shape",e,t,n),Fl("values",e,t,n),Fl("defaultValue",e,t,n),Fl("rowPartitionTensors",e,t,n),Fl("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Max":var a=Fl("axis",e,t,n),o=Fl("keepDims",e,t,n);return[r.max(Fl("x",e,t,n),a,o)];case"Mean":var i=Fl("axis",e,t,n),s=Fl("keepDims",e,t,n);return[r.mean(Fl("x",e,t,n),i,s)];case"Min":var u=Fl("axis",e,t,n),l=Fl("keepDims",e,t,n);return[r.min(Fl("x",e,t,n),u,l)];case"Sum":var c=Fl("axis",e,t,n),f=Fl("keepDims",e,t,n);return[r.sum(Fl("x",e,t,n),c,f)];case"All":var p=Fl("axis",e,t,n),d=Fl("keepDims",e,t,n);return[r.all(Fl("x",e,t,n),p,d)];case"Any":var h=Fl("axis",e,t,n),m=Fl("keepDims",e,t,n);return[r.any(Fl("x",e,t,n),h,m)];case"ArgMax":var v=Fl("axis",e,t,n);return[r.argMax(Fl("x",e,t,n),v)];case"ArgMin":var y=Fl("axis",e,t,n);return[r.argMin(Fl("x",e,t,n),y)];case"Prod":var g=Fl("axis",e,t,n),b=Fl("keepDims",e,t,n);return[r.prod(Fl("x",e,t,n),g,b)];case"Cumprod":var w=Fl("axis",e,t,n),k=Fl("exclusive",e,t,n),S=Fl("reverse",e,t,n);return[r.cumprod(Fl("x",e,t,n),w,k,S)];case"Cumsum":var N=Fl("axis",e,t,n),T=Fl("exclusive",e,t,n),E=Fl("reverse",e,t,n);return[r.cumsum(Fl("x",e,t,n),N,T,E)];case"Bincount":var _=Fl("x",e,t,n),I=Fl("weights",e,t,n),O=Fl("size",e,t,n);return[r.bincount(_,I,O)];case"DenseBincount":var A=Fl("x",e,t,n),C=Fl("weights",e,t,n),M=Fl("size",e,t,n),D=Fl("binaryOutput",e,t,n);return[r.denseBincount(A,C,M,D)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"ConcatV2":case"Concat":var a=Fl("n",e,t,n),o=Fl("axis",e,t,n),i=Fl("tensors",e,t,n);return i=i.slice(0,a),[r.concat(i,o)];case"Gather":var s=Fl("x",e,t,n),u=Fl("indices",e,t,n);return[r.gather(s,r.cast(u,"int32"),0)];case"GatherV2":var l=Fl("axis",e,t,n),c=Fl("batchDims",e,t,n),f=Fl("x",e,t,n),p=Fl("indices",e,t,n);return[r.gather(f,r.cast(p,"int32"),l,c)];case"Reverse":for(var d=Fl("dims",e,t,n),h=[],m=0;m<d.length;m++)d[m]&&h.push(m);var v=Fl("x",e,t,n);return[r.reverse(v,h)];case"ReverseV2":var y=Fl("axis",e,t,n),g=Fl("x",e,t,n);return[r.reverse(g,y)];case"Slice":var b=Fl("begin",e,t,n),w=Fl("size",e,t,n);return[r.slice(Fl("x",e,t,n),b,w)];case"StridedSlice":var k=Fl("begin",e,t,n),S=Fl("end",e,t,n),N=Fl("strides",e,t,n),T=Fl("beginMask",e,t,n),E=Fl("endMask",e,t,n),_=Fl("ellipsisMask",e,t,n),I=Fl("newAxisMask",e,t,n),O=Fl("shrinkAxisMask",e,t,n),A=Fl("x",e,t,n);return[r.stridedSlice(A,k,S,N,T,E,_,I,O)];case"Pack":return mr((function(){var a=Fl("axis",e,t,n),o=Fl("tensors",e,t,n),i=o[0].shape,s=r.squeeze(o[0]).shape,u=o.map((function(e){var t=se(e.shape,i);if(!t&&!se(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,i)}));return[r.stack(u,a)]}));case"Unpack":var C=Fl("axis",e,t,n),M=Fl("tensor",e,t,n);return r.unstack(M,C);case"Tile":var D=Fl("reps",e,t,n);return[r.tile(Fl("x",e,t,n),D)];case"Split":case"SplitV":var R=Fl("axis",e,t,n),P=Fl("numOrSizeSplits",e,t,n),L=Fl("x",e,t,n);return r.split(L,P,R);case"ScatterNd":var F=Fl("indices",e,t,n),z=Fl("values",e,t,n),B=Fl("shape",e,t,n);return[r.scatterND(F,z,B)];case"GatherNd":var j=Fl("x",e,t,n),U=Fl("indices",e,t,n);return[r.gatherND(j,U)];case"SparseToDense":var V=Fl("sparseIndices",e,t,n),H=Fl("outputShape",e,t,n),W=Fl("sparseValues",e,t,n),K=Fl("defaultValue",e,t,n);return[r.sparseToDense(V,W,H,W.dtype===K.dtype?K:r.cast(K,W.dtype))];case"TensorScatterUpdate":var q=Fl("indices",e,t,n),G=Fl("values",e,t,n),$=Fl("tensor",e,t,n);return[r.tensorScatterUpdate($,q,G)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"SparseFillEmptyRows":var a=r.sparse.sparseFillEmptyRows(Fl("indices",e,t,n),Fl("values",e,t,n),Fl("denseShape",e,t,n),Fl("defaultValue",e,t,n));return[a.outputIndices,a.outputValues,a.emptyRowIndicator,a.reverseIndexMap];case"SparseReshape":var o=r.sparse.sparseReshape(Fl("inputIndices",e,t,n),Fl("inputShape",e,t,n),Fl("newShape",e,t,n));return[o.outputIndices,o.outputShape];case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Fl("data",e,t,n),Fl("indices",e,t,n),Fl("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Fl("data",e,t,n),Fl("indices",e,t,n),Fl("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"FFT":return[r.fft(Fl("x",e,t,n))];case"IFFT":return[r.ifft(Fl("x",e,t,n))];case"RFFT":return[r.rfft(Fl("x",e,t,n))];case"IRFFT":return[r.irfft(Fl("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Fl("input",e,t,n),Fl("pattern",e,t,n),Fl("rewrite",e,t,n),Fl("replaceGlobal",e,t,n))];case"StringNGrams":var a=r.string.stringNGrams(Fl("data",e,t,n),Fl("dataSplits",e,t,n),Fl("separator",e,t,n),Fl("nGramWidths",e,t,n),Fl("leftPad",e,t,n),Fl("rightPad",e,t,n),Fl("padWidth",e,t,n),Fl("preserveShortSequences",e,t,n));return[a.nGrams,a.nGramsSplits];case"StringSplit":var o=r.string.stringSplit(Fl("input",e,t,n),Fl("delimiter",e,t,n),Fl("skipEmpty",e,t,n));return[o.indices,o.values,o.shape];case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Fl("input",e,t,n),Fl("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Cast":return[r.cast(Fl("x",e,t,n),Fl("dtype",e,t,n))];case"ExpandDims":var a=Fl("axis",e,t,n);return[r.expandDims(Fl("x",e,t,n),a)];case"Squeeze":var o=Fl("axis",e,t,n);return[r.squeeze(Fl("x",e,t,n),o)];case"Reshape":return[r.reshape(Fl("x",e,t,n),Fl("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(Fl("x",e,t,n),Fl("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Fl("x",e,t,n),Fl("padding",e,t,n),Fl("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Fl("x",e,t,n),Fl("padding",e,t,n),Fl("constantValue",e,t,n))];case"SpaceToBatchND":var i=Fl("blockShape",e,t,n),s=Fl("paddings",e,t,n);return[r.spaceToBatchND(Fl("x",e,t,n),i,s)];case"BatchToSpaceND":var u=Fl("blockShape",e,t,n),l=Fl("crops",e,t,n);return[r.batchToSpaceND(Fl("x",e,t,n),u,l)];case"DepthToSpace":var c=Fl("blockSize",e,t,n),f=Fl("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Fl("x",e,t,n),c,f)];case"BroadcastTo":return[r.broadcastTo(Fl("x",e,t,n),Fl("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Fl("s0",e,t,n),Fl("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return Uc(e,t,n,r);case"custom":var o=Ll(e.op);if(o&&o.customExecutor)return o.customExecutor(new Tc(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return Se(o)?o.then((function(e){return[].concat(e)})):[].concat(o)}var Hc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;D(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return L(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function Wc(e,t,n){return Wc=ft()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&ut(a,n.prototype),a},Wc.apply(null,arguments)}function Kc(e){var t="function"===typeof Map?new Map:void 0;return Kc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Wc(e,arguments,ct(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ut(n,e)},Kc(e)}function qc(e,t,n,r){var a=new Set,o=[],i=null,s=null,u=new Set,l=new Set(Object.keys(e).map((function(e){return Vl(e)[0]})));r=r||[];for(var c=new Set(r.map((function(e){return Vl(e.name)[0]}))),f=ee(t);f.length>0;){var p=f.pop();(Jc(p)||Zc(p)||ef(p))&&null==i&&(s=(i=p).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(p.name),null==n[p.name]&&(l.has(p.name)||c.has(p.name)||(0!==p.inputs.length?p.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),f.push(e))})):o.push(p.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:i,syncInputs:s}}function Gc(e,t){var n=t.usedNodes,r=t.inputs,a=Object.keys(r).map((function(e){return Vl(e)[0]})).map((function(t){return e.nodes[t]})),o=e.initNodes||[],i=function(e){return n.has("string"===typeof e?e:e.name)};function s(e){return ee(new Map(e.map((function(e){return[e.name,e]}))).values())}var u,l=s([].concat(ee(a),ee(e.weights),ee(o))).filter(i),c=s([].concat(ee(l),ee(Object.values(e.nodes)))).filter(i),f=new Map(c.map((function(e){return[e.name,e]}))),p={},d=M(c);try{for(d.s();!(u=d.n()).done;){var h=u.value;p[h.name]=p[h.name]||0;var m,v=M(h.children);try{for(v.s();!(m=v.n()).done;){var y=m.value;i(y)||(p[y.name]=Number.POSITIVE_INFINITY),p[y.name]=(p[y.name]||0)+1}}catch(Qh){v.e(Qh)}finally{v.f()}}}catch(Qh){d.e(Qh)}finally{d.f()}for(var g=Object.entries(p).filter((function(e){return 0===C(e,2)[1]})).map((function(e){return C(e,1)[0]})),b=ee(g);g.length>0;){var w,k=g.pop(),x=M(f.get(k).children.filter(i));try{for(x.s();!(w=x.n()).done;){var S=w.value;0===--p[S.name]&&(b.push(S.name),g.push(S.name))}}catch(Qh){x.e(Qh)}finally{x.f()}}var N=function(e,t){var n=new Map(e.map((function(e){return[e.name,e]}))),r=t.map((function(e){return e.name})),a=new Set(r);for(;r.length>0;){var o,i=r.pop(),s=M(n.get(i).children);try{for(s.s();!(o=s.n()).done;){var u=o.value;n.has(u.name)&&!a.has(u.name)&&(a.add(u.name),r.push(u.name))}}catch(Qh){s.e(Qh)}finally{s.f()}}var l=e.filter((function(e){return a.has(e.name)}));return l}(b.map((function(e){return f.get(e)})),l);return function(e,t){var n,r=new Map(e.map((function(e,t){return[e.name,t]}))),a=new Set(t.map((function(e){return e.name}))),o=function(e){return a.has("string"===typeof e?e:e.name)},i=new Set(e.map((function(e){return e.name}))),s=function(e){return i.has("string"===typeof e?e:e.name)},u=M(e);try{for(u.s();!(n=u.n()).done;){var l,c=n.value,f=M(c.children.filter(s));try{for(f.s();!(l=f.n()).done;){var p=l.value;if(!r.has(p.name))throw new $c("Child ".concat(p.name," of node ").concat(c.name," is unreachable."));if(r.get(c.name)>r.get(p.name))throw new $c("Node ".concat(c.name," is scheduled to run after its child ").concat(p.name,"."))}}catch(Qh){f.e(Qh)}finally{f.f()}if(!o(c)){var d,h=M(c.inputs);try{for(h.s();!(d=h.n()).done;){var m=d.value;if(!r.has(m.name))throw new $c("Input ".concat(m.name," of node ").concat(c.name," is unreachable."));if(r.get(m.name)>r.get(c.name))throw new $c("Node ".concat(c.name," is scheduled to run before its input ").concat(m.name,"."))}}catch(Qh){h.e(Qh)}finally{h.f()}}}}catch(Qh){u.e(Qh)}finally{u.f()}}(N,l),N}var $c=function(e){lt(n,e);var t=dt(n);function n(e){return D(this,n),t.call(this,"NodesExecutionOrderError: ".concat(e))}return L(n)}(Kc(Error));var Yc=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Qc=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Xc=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Jc(e){return Yc.has(e.op)}function Zc(e){return Qc.has(e.op)}function ef(e){return Xc.has(e.op)}var tf=function(){function e(t,n){var r=this;D(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return L(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,ee(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}},{key:"compile",value:function(e,t){var n=qc(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,o=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){var i=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(i,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}var u=Gc(this.graph,n),l=function(e){for(var t=new Map(e.map((function(e,t){return[e.name,t]}))),n=Number.MAX_SAFE_INTEGER,r=e.map((function(e,t){return Jc(e)?n:t})),a=function(e){var n=r[t.get(e.name)];return null==n?-1:n},o=e.map((function(e,t){return e.children.map(a).reduce((function(e,t){return Math.max(e,t)}),r[t])})),i=new Map,s=0;s<e.length;++s){var u=o[s];if(u!==n){var l=e[s],c=e[u];i.has(c.name)||i.set(c.name,[]),i.get(c.name).push(l)}}return i}(u);return{orderedNodes:u,nodeLiveUntilMap:l}}},{key:"cloneAndKeepTensor",value:function(e){if(null==e)return null;var t=e.clone();return yr(t),t}},{key:"cloneTensorList",value:function(e){var t=this;if(!e)return null;var n=e.map((function(e){return t.cloneAndKeepTensor(e)}));return n}},{key:"cloneTensorMap",value:function(e){var t=this;return Object.fromEntries(Object.entries(e).map((function(e){var n=C(e,2),r=n[0],a=n[1];return[r,t.cloneTensorList(a)]})))}},{key:"execute",value:function(e,t){var n=this;this.disposeIntermediateTensors(),e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[Vl(e)[0]]})),o=t.map((function(e){return Vl(e)[0]})),i=new Set(o),s=o.map((function(e){return n.graph.nodes[e]}));0===s.length&&(s=this._outputs);var u=this.getCompilationKey(a,s),l=this.compiledMap.get(u);null==l&&(l=this.compile(e,s),this.compiledMap.set(u,l));try{this.keepIntermediateTensors=_e().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){this.keepIntermediateTensors=!1,console.warn(p.message)}var c={},f={};return mr((function(){var r=new Hc(n.weightMap,c,f,n.functionExecutorMap,n.parseNodeNameCache),a=Object.assign({},n.weightMap);n.keepIntermediateTensors&&(n.clonedTensorsMap=n.cloneTensorMap(n.weightMap)),Object.keys(e).forEach((function(t){var o=C(Vl(t,r),2),i=o[0],s=[];s[o[1]]=e[t],a[i]=s,n.keepIntermediateTensors&&(n.clonedTensorsMap[i]=n.cloneTensorList(s))}));var o,s=n.getFrozenTensorIds(a),u=l,p=u.orderedNodes,d=u.nodeLiveUntilMap,h=M(p);try{for(h.s();!(o=h.n()).done;){var m=o.value;if(!a[m.name]){var v=Vc(m,a,r,n._resourceManager);if(Se(v))throw new Error("The execution of the op '".concat(m.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[m.name]=v,n.keepIntermediateTensors&&(n.clonedTensorsMap[m.name]=n.cloneTensorList(v)),n.checkTensorForDisposalWithNodeLiveUntilInfo(m,a,r,s,i,d.get(m.name))}}}catch(Qh){h.e(Qh)}finally{h.f()}return null==n.parent&&r.dispose(s),t.map((function(e){return zl(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,o,i){if(!Jc(t)&&!o.has(e)){var s,u=M(n[e]);try{for(u.s();!(s=u.n()).done;){var l=s.value;null!=l&&(i[l.id]=(i[l.id]||0)+t.children.length)}}catch(Qh){u.e(Qh)}finally{u.f()}var c,f=M(t.inputs);try{for(f.s();!(c=f.n()).done;){var p=c.value;if(!Jc(p)){var d=Bl(p.name,n,r);if(null!=d){var h,m=M(d);try{for(m.s();!(h=m.n()).done;){var v=h.value;if(v&&!v.kept&&!a.has(v.id)){var y=i[v.id];1===y?(v.dispose(),delete i[v.id]):null!=y&&i[v.id]--}}}catch(Qh){m.e(Qh)}finally{m.f()}}}}}catch(Qh){f.e(Qh)}finally{f.f()}}}},{key:"checkTensorForDisposalWithNodeLiveUntilInfo",value:function(e,t,n,r,a,o){function i(e){return Jc(e)||a.has(e.name)}if(!Jc(e)&&null!=o){var s,u=M(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!i(l)){var c,f=M(Bl(l.name,t,n));try{for(f.s();!(c=f.n()).done;){var p=c.value;!p||p.kept||r.has(p.id)||p.dispose()}}catch(Qh){f.e(Qh)}finally{f.f()}}}}catch(Qh){u.e(Qh)}finally{u.f()}}}},{key:"executeAsync",value:function(){var e=I(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((function(e){var t,n=M(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r&&!r.isDisposed&&r.dispose()}}catch(Qh){n.e(Qh)}finally{n.f()}})),this.clonedTensorsMap=null)}},{key:"getIntermediateTensors",value:function(){return this.clonedTensorsMap}},{key:"_executeAsync",value:function(){var e=I(E().mark((function e(t,n){var r,a,o,i,s,u,l,c,f,p=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>2&&void 0!==p[2]&&p[2],a=p.length>3&&void 0!==p[3]?p[3]:{},o=p.length>4&&void 0!==p[4]?p[4]:{},this.disposeIntermediateTensors(),r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=_e().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}return i=new Hc(this.weightMap,a,o,this.functionExecutorMap,this.parseNodeNameCache),this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),e.next=10,this.executeWithControlFlow(t,i,n,r);case 10:return s=e.sent,u=n.map((function(e){return zl(e,s,i)})),l=u.map((function(e){return e.id})),c=Object.keys(t).map((function(e){return t[e].id})),f=new Set([].concat(ee(l),ee(c),ee(this.weightIds))),Object.values(s).forEach((function(e){e.forEach((function(e){!e||e.isDisposed||f.has(e.id)||e.dispose()}))})),null==this.parent&&i.dispose(f),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=I(E().mark((function e(t,n,r){var a,o=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[o.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=I(E().mark((function e(t,n,r,a){var o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,w,k,x,S=this;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object.keys(t),i=o.map((function(e){return S.graph.nodes[Vl(e)[0]]})),s=r.map((function(e){return Vl(e)[0]})),u=new Set(s),0===(l=s.map((function(e){return S.graph.nodes[e]}))).length&&(l=this._outputs),c=qc(t,l,this.weightMap,this._initNodes),f=c.usedNodes,p=c.missingInputs,d=c.dynamicNode,h=c.syncInputs,m=[].concat(ee(i),ee(this.graph.weights),ee(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),v=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=C(Vl(e),2),r=n[0],a=[];a[n[1]]=t[e],v[r]=a})),y={},g=this.getFrozenTensorIds(v),b={};case 13:if(!(m.length>0)){e.next=19;break}return w=this.processStack(i,m,n,v,b,g,u,y,f),e.next=17,Promise.all(w);case 17:e.next=13;break;case 19:if(null!=d||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),k=l.filter((function(e){return!Jc(e)&&!zl(e.name,v,n)})).map((function(e){return e.name})),!(k.length>0)){e.next=25;break}throw x="",null!=d&&(x="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(h,"]")),new Error("Cannot compute the outputs [".concat(k,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(p,"]. ").concat(x));case 25:return e.abrupt("return",v);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,o,i,s,u){for(var l=this,c=[],f=function(){var e=t.pop();n.currentContext=e.contexts;var f="";if("Enter"===e.node.op&&Fl("isConstant",e.node,r,n)){var p=C(jl(e.node.name,n),1);f=p[0]}if(null==r[e.node.name]){var d=Vc(e.node,r,n,l._resourceManager);if(!f){var h=C(jl(e.node.name,n),1);f=h[0]}var m=n.currentContext;Se(d)?c.push(d.then((function(c){return r[f]=c,l.keepIntermediateTensors&&(l.clonedTensorsMap[f]=l.cloneTensorList(c)),n.currentContext=m,l.checkTensorForDisposal(f,e.node,r,n,o,i,s),l.processChildNodes(e.node,t,n,r,a,u),c}))):(r[f]=d,l.keepIntermediateTensors&&(l.clonedTensorsMap[f]=l.cloneTensorList(d)),l.checkTensorForDisposal(f,e.node,r,n,o,i,s),l.processChildNodes(e.node,t,n,r,a,u))}else l.processChildNodes(e.node,t,n,r,a,u)};t.length>0;)f();return c}},{key:"processChildNodes",value:function(e,t,n,r,a,o){e.children.forEach((function(e){var i=C(jl(e.name,n),1)[0];!a[i]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!zl(e,r,n)}))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!zl(e,r,n)}))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=C(Vl(n),1)[0],o=t.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){var i=o.attrParams.shape.value;re(i.length===r.shape.length&&r.shape.every((function(e,t){return-1===i[t]||i[t]===e})),(function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(i,"], but was ")+"[".concat(r.shape,"]")}))}o.attrParams.dtype&&o.attrParams.dtype.value&&re(r.dtype===o.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t,n,r={};for(var a in e){var o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=o?r[o.name]=e[a]:r[a]=e[a]}return r}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=C(Vl(e),1)[0];return null==t.graph.nodes[n]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){var n,r,a=null===(r=null===(n=t._signature)||void 0===n?void 0:n.outputs)||void 0===r?void 0:r[e];return null!=a?a.name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=C(Vl(e),1)[0];if(!t.graph.nodes[n])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),nf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return L(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),rf="?tfjs-format=file",af="model.json",of=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;D(this,t),this.modelUrl=n,this.loadOptions=r,this.version="n/a",this.io=a,null==r&&(this.loadOptions={}),this.resourceManager=new nf}return L(t,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"modelStructuredOutputKeys",get:function(){return this.structuredOutputKeys}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return Se(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t=this.artifacts.modelTopology,n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){var r=this.artifacts.userDefinedMetadata;null!=r.signature&&(n=r.signature),null!=r.structuredOutputKeys&&(this.structuredOutputKeys=r.structuredOutputKeys)}this.signature=n,this.version="".concat(t.versions.producer,".").concat(t.versions.minConsumer);var a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new tf(cc.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var o=cc.Instance.transformGraph(e.modelInitializer);this.initializer=new tf(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}},{key:"save",value:function(){var e=I(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=this.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addStructuredOutputNames",value:function(e){var t=this;if(this.structuredOutputKeys){var n={};return(e instanceof Tt?[e]:e).forEach((function(e,r){return n[t.structuredOutputKeys[r]]=e})),n}return e}},{key:"predict",value:function(e,t){var n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}},{key:"predictAsync",value:function(){var e=I(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.executeAsync(t,this.outputNodes);case 2:return r=e.sent,e.abrupt("return",this.addStructuredOutputNames(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"normalizeInputs",value:function(e){var t,n=this;if(!(e instanceof Tt)&&!Array.isArray(e)){var r=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=r)for(var a in r){var o=r[a];null!=o.resourceId&&(e[a]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];var i=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+i!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-i," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));var s=0;return this.inputNodes.reduce((function(t,r){var a,o,i,u=null===(i=null===(o=null===(a=n.signature)||void 0===a?void 0:a.inputs)||void 0===o?void 0:o[r])||void 0===i?void 0:i.resourceId;return t[r]=null!=u?n.resourceIdToCapturedInput[u]:e[s++],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"executeInitializerGraph",value:function(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}},{key:"executeInitializerGraphAsync",value:function(){var e=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.initializer){e.next=2;break}return e.abrupt("return",[]);case 2:if(null!=this.initializerSignature){e.next=6;break}return e.abrupt("return",this.initializer.executeAsync({},[]));case 6:return e.abrupt("return",this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setResourceIdToCapturedInput",value:function(e){if(this.resourceIdToCapturedInput={},this.initializerSignature)for(var t=this.initializerSignature.outputs,n=Object.keys(t),r=0;r<n.length;r++){var a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}},{key:"execute",value:function(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=I(E().mark((function e(t,n){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.resourceIdToCapturedInput){e.next=6;break}return e.t0=this,e.next=4,this.executeInitializerGraphAsync();case 4:e.t1=e.sent,e.t0.setResourceIdToCapturedInput.call(e.t0,e.t1);case 6:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=10,this.executor.executeAsync(t,n);case 10:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&vr(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}]),t}();function sf(e){return uf.apply(this,arguments)}function uf(){return uf=I(E().mark((function t(n){var r,a,o,i=arguments;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2&&void 0!==i[2]?i[2]:e,null!=n){t.next=4;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 4:return null==r&&(r={}),r.fromTFHub&&"string"===typeof n&&(n=lf(n)),o=new of(n,r,a),t.next=9,o.load();case 9:return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)}))),uf.apply(this,arguments)}function lf(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat(af).concat(rf)}var cf=function(){return(cf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function ff(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function pf(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var df=["wrist","thumb_cmc","thumb_mcp","thumb_ip","thumb_tip","index_finger_mcp","index_finger_pip","index_finger_dip","index_finger_tip","middle_finger_mcp","middle_finger_pip","middle_finger_dip","middle_finger_tip","ring_finger_mcp","ring_finger_pip","ring_finger_dip","ring_finger_tip","pinky_finger_mcp","pinky_finger_pip","pinky_finger_dip","pinky_finger_tip"],hf={runtime:"mediapipe",maxHands:2,modelType:"full"},mf=function(){function e(e){var t,n=this;if("lite"===(this.width=0,this.height=0,this.selfieMode=!1,this.handsSolution=new Z.Hands({locateFile:function(t,n){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:n+"/"+t}}),e.modelType))t=0;else t=1;this.handsSolution.setOptions({modelComplexity:t,selfieMode:this.selfieMode,maxNumHands:e.maxHands}),this.handsSolution.onResults((function(e){if(n.height=e.image.height,n.width=e.image.width,n.hands=[],null!==e.multiHandLandmarks)for(var t=e.multiHandedness,r=e.multiHandLandmarks,a=e.multiHandWorldLandmarks,o=0;o<t.length;o++)n.hands.push(cf(cf({},n.translateOutput(r[o],a[o])),{score:t[o].score,handedness:t[o].label}))}))}return e.prototype.translateOutput=function(e,t){var n=this;return{keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,score:e.visibility,name:df[t]}})),keypoints3D:t.map((function(e,t){return{x:e.x,y:e.y,z:e.z,score:e.visibility,name:df[t]}}))}},e.prototype.estimateHands=function(e,t){return ff(this,void 0,void 0,(function(){var n,r;return pf(this,(function(a){switch(a.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.handsSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Tt?(r=ImageData.bind,[4,ga(e)]):[3,2];case 1:return n=new(r.apply(ImageData,[void 0,a.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,a.label=3;case 3:return e=n,[4,this.handsSolution.send({image:e})];case 4:return a.sent(),[2,this.hands]}}))}))},e.prototype.dispose=function(){this.handsSolution.close()},e.prototype.reset=function(){this.handsSolution.reset(),this.width=0,this.height=0,this.hands=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.handsSolution.initialize()},e}();function vf(e){return ff(this,void 0,void 0,(function(){var t,n;return pf(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return cf({},hf);var t=cf({},e);return t.runtime="mediapipe",null==t.maxHands&&(t.maxHands=hf.maxHands),null==t.modelType&&(t.modelType=hf.modelType),t}(e),[4,(n=new mf(t)).initialize()];case 1:return r.sent(),[2,n]}}))}))}function yf(e){return e.width*e.height}function gf(e){var t=e.xCenter-e.width/2,n=t+e.width,r=e.yCenter-e.height/2;return{xMin:t,xMax:n,yMin:r,yMax:r+e.height,width:e.width,height:e.height}}function bf(e,t){var n=gf(e),r=gf(t);if(!function(e,t){return!(e.xMax<t.xMin||t.xMax<e.xMin||e.yMax<t.yMin||t.yMax<e.yMin)}(n,r))return 0;var a=yf(function(e,t){var n=Math.max(e.xMin,t.xMin),r=Math.min(e.xMax,t.xMax),a=Math.max(e.yMin,t.yMin),o=Math.min(e.yMax,t.yMax);return{xMin:n,xMax:r,yMin:a,yMax:o,width:Math.max(r-n,0),height:Math.max(o-a,0)}}(n,r)),o=yf(n)+yf(r)-a;return o>0?a/o:0}function wf(e){return e instanceof Tt?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function kf(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function xf(e){return e instanceof Tt?e:wa(e)}function Sf(e,t){re(0!==e.width,(function(){return t+" width cannot be 0."})),re(0!==e.height,(function(){return t+" height cannot be 0."}))}function Nf(e,t,n){var r=t.outputTensorSize,a=t.keepAspectRatio,o=t.borderMode,i=t.outputTensorFloatRange,s=wf(e),u=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(s,n),l=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var r=t.height,a=t.width;Sf(t,"targetSize"),Sf(e,"roi");var o,i,s=r/a,u=e.height/e.width,l=0,c=0;return s>u?(o=e.width,i=e.width*s,c=(1-u/s)/2):(o=e.height/s,i=e.height,l=(1-s/u)/2),e.width=o,e.height=i,{top:c,left:l,right:l,bottom:c}}(u,r,a),c=function(e,t,n,r){var a=e.width,o=e.height,i=r?-1:1,s=Math.cos(e.rotation),u=Math.sin(e.rotation),l=e.xCenter,c=e.yCenter,f=1/t,p=1/n,d=new Array(16);return d[0]=a*s*i*f,d[1]=-o*u*f,d[2]=0,d[3]=(-.5*a*s*i+.5*o*u+l)*f,d[4]=a*u*i*p,d[5]=o*s*p,d[6]=0,d[7]=(-.5*o*s-.5*a*u*i+c)*p,d[8]=0,d[9]=0,d[10]=a*f,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(d)}(u,s.width,s.height,!1);return{imageTensor:mr((function(){var t=xf(e),n=Hs(function(e,t,n){return Sf(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(c,s,r),[1,8]),a="zero"===o?"constant":"nearest",u=Al.transform(Ko(pr(t,"float32")),n,"bilinear",a,0,[r.height,r.width]);return null!=i?function(e,t){var n=function(e,t,n,r){var a=(r-n)/255;return{scale:a,offset:n-0*a}}(0,0,t[0],t[1]);return mr((function(){return gr(kr(e,n.scale),n.offset)}))}(u,i):u})),padding:l,transformationMatrix:c}}function Tf(e,t,n,r){return 1===r?.5*(e+t):e+(t-e)*n/(r-1)}function Ef(e){return{xCenter:e.xMin+e.width/2,yCenter:e.yMin+e.height/2,width:e.width,height:e.height}}function _f(e){var t=e.relativeKeypoints;if(t.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,o=Number.MIN_VALUE;return t.forEach((function(e){n=Math.min(n,e.x),a=Math.max(a,e.x),r=Math.min(r,e.y),o=Math.max(o,e.y)})),{xCenter:(n+a)/2,yCenter:(r+o)/2,width:a-n,height:o-r}}function If(e,t,n,r){return ff(this,void 0,void 0,(function(){var r,a,o,i,s;return pf(this,(function(u){switch(u.label){case 0:return e.sort((function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)})),r=Hs(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),a=Vs(e.map((function(e){return e.score[0]}))),[4,Al.nonMaxSuppressionAsync(r,a,t,n)];case 1:return[4,(o=u.sent()).array()];case 2:return i=u.sent(),s=e.filter((function(e,t){return i.indexOf(t)>-1})),vr([r,a,o]),[2,s]}}))}))}function Of(e,t){return e.map((function(e){var n=cf(cf({},e),{x:e.x*t.width,y:e.y*t.height});return null!=e.z&&(n.z=e.z*t.width),n}))}function Af(e,t,n){return ff(this,void 0,void 0,(function(){var r,a,o,i,s;return pf(this,(function(u){switch(u.label){case 0:return r=e[0],a=e[1],o=function(e,t,n){return mr((function(){var r,a,o,i;n.reverseOutputOrder?(a=Fs($a(e,[0,n.boxCoordOffset+0],[-1,1])),r=Fs($a(e,[0,n.boxCoordOffset+1],[-1,1])),i=Fs($a(e,[0,n.boxCoordOffset+2],[-1,1])),o=Fs($a(e,[0,n.boxCoordOffset+3],[-1,1]))):(r=Fs($a(e,[0,n.boxCoordOffset+0],[-1,1])),a=Fs($a(e,[0,n.boxCoordOffset+1],[-1,1])),o=Fs($a(e,[0,n.boxCoordOffset+2],[-1,1])),i=Fs($a(e,[0,n.boxCoordOffset+3],[-1,1]))),a=gr(kr(wr(a,n.xScale),t.w),t.x),r=gr(kr(wr(r,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(o=kr(Wo(wr(o,n.hScale)),t.h),i=kr(Wo(wr(i,n.wScale)),t.w)):(o=kr(wr(o,n.hScale),t.h),i=kr(wr(i,n.wScale),t.h));var s=Pr(r,wr(o,2)),u=Pr(a,wr(i,2)),l=gr(r,wr(o,2)),c=gr(a,wr(i,2)),f=Ka([Va(s,[n.numBoxes,1]),Va(u,[n.numBoxes,1]),Va(l,[n.numBoxes,1]),Va(c,[n.numBoxes,1])],1);if(n.numKeypoints)for(var p=0;p<n.numKeypoints;++p){var d=n.keypointCoordOffset+p*n.numValuesPerKeypoint,h=void 0,m=void 0;n.reverseOutputOrder?(h=Fs($a(e,[0,d],[-1,1])),m=Fs($a(e,[0,d+1],[-1,1]))):(m=Fs($a(e,[0,d],[-1,1])),h=Fs($a(e,[0,d+1],[-1,1])));var v=gr(kr(wr(h,n.xScale),t.w),t.x),y=gr(kr(wr(m,n.yScale),t.h),t.y);f=Ka([f,Va(v,[n.numBoxes,1]),Va(y,[n.numBoxes,1])],1)}return f}))}(a,t,n),i=mr((function(){var e=r;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=so(r,-n.scoreClippingThresh,n.scoreClippingThresh)),e=Ga(e)):e})),[4,Cf(o,i,n)];case 1:return s=u.sent(),vr([o,i]),[2,s]}}))}))}function Cf(e,t,n){return ff(this,void 0,void 0,(function(){var r,a,o,i,s,u,l,c,f,p,d,h;return pf(this,(function(m){switch(m.label){case 0:return r=[],[4,e.data()];case 1:return a=m.sent(),[4,t.data()];case 2:for(o=m.sent(),i=0;i<n.numBoxes;++i)if(!(null!=n.minScoreThresh&&o[i]<n.minScoreThresh||(s=i*n.numCoords,u=Mf(a[s+0],a[s+1],a[s+2],a[s+3],o[i],n.flipVertically,i),(l=u.locationData.relativeBoundingBox).width<0||l.height<0))){if(n.numKeypoints>0)for((c=u.locationData).relativeKeypoints=[],f=n.numKeypoints*n.numValuesPerKeypoint,p=0;p<f;p+=n.numValuesPerKeypoint)d=s+n.keypointCoordOffset+p,h={x:a[d+0],y:n.flipVertically?1-a[d+1]:a[d+1]},c.relativeKeypoints.push(h);r.push(u)}return[2,r]}}))}))}function Mf(e,t,n,r,a,o,i){return{score:[a],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}function Df(e,t){return"none"===e?t:function(e){return 1/(1+Math.exp(-e))}(t)}function Rf(e,t,n,r){return ff(this,void 0,void 0,(function(){var a,o,i,s,u,l,c,f;return pf(this,(function(p){switch(p.label){case 0:return n=n||t.flipHorizontally||!1,r=r||t.flipVertically||!1,a=e.size,o=a/t.numLandmarks,[4,e.data()];case 1:for(i=p.sent(),s=[],u=0;u<t.numLandmarks;++u)l=u*o,(f={x:0,y:0}).x=n?t.inputImageWidth-i[l]:i[l],o>1&&(f.y=r?t.inputImageHeight-i[l+1]:i[l+1]),o>2&&(f.z=i[l+2]),o>3&&(f.score=Df(t.visibilityActivation,i[l+3])),s.push(f);for(c=0;c<s.length;++c)(f=s[c]).x=f.x/t.inputImageWidth,f.y=f.y/t.inputImageHeight,f.z=f.z/t.inputImageWidth/(t.normalizeZ||1);return[2,s]}}))}))}function Pf(e,t,n){var r=e.width,a=e.height,o=e.rotation;if(null==n.rotation&&null==n.rotationDegree||(o=function(e,t){return null!=t.rotation?e+=t.rotation:null!=t.rotationDegree&&(e+=Math.PI*t.rotationDegree/180),kf(e)}(o,n)),0===o)e.xCenter=e.xCenter+r*n.shiftX,e.yCenter=e.yCenter+a*n.shiftY;else{var i=(t.width*r*n.shiftX*Math.cos(o)-t.height*a*n.shiftY*Math.sin(o))/t.width,s=(t.width*r*n.shiftX*Math.sin(o)+t.height*a*n.shiftY*Math.cos(o))/t.height;e.xCenter=e.xCenter+i,e.yCenter=e.yCenter+s}if(n.squareLong){var u=Math.max(r*t.width,a*t.height);r=u/t.width,a=u/t.height}else if(n.squareShort){var l=Math.min(r*t.width,a*t.height);r=l/t.width,a=l/t.height}return e.width=r*n.scaleX,e.height=a*n.scaleY,e}var Lf,Ff={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},zf={runtime:"tfjs",modelType:"full",maxHands:2,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/detector/full/1",landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/landmark/full/1"},Bf={flipHorizontal:!1,staticImageMode:!1},jf={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2016,numCoords:18,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:7,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.5},Uf={shiftX:0,shiftY:-.5,scaleX:2.6,scaleY:2.6,squareLong:!0},Vf={shiftX:0,shiftY:-.1,scaleX:2,scaleY:2,squareLong:!0},Hf={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[0,1],borderMode:"zero"},Wf={outputTensorSize:{width:224,height:224},keepAspectRatio:!0,outputTensorFloatRange:[0,1],borderMode:"zero"},Kf={numLandmarks:21,inputImageWidth:224,inputImageHeight:224,normalizeZ:.4,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},qf={numLandmarks:21,inputImageWidth:1,inputImageHeight:1,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},Gf=function(){function e(e,t,n){this.detectorModel=e,this.landmarkModel=t,this.maxHands=n,this.prevHandRectsFromLandmarks=null,this.anchors=function(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],a=[],o=[],i=[],s=n;s<e.strides.length&&e.strides[s]===e.strides[n];){var u=Tf(e.minScale,e.maxScale,s,e.strides.length);if(0===s&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),i.push(.1),i.push(u),i.push(u);else{for(var l=0;l<e.aspectRatios.length;++l)o.push(e.aspectRatios[l]),i.push(u);if(e.interpolatedScaleAspectRatio>0){var c=s===e.strides.length-1?1:Tf(e.minScale,e.maxScale,s+1,e.strides.length);i.push(Math.sqrt(u*c)),o.push(e.interpolatedScaleAspectRatio)}}s++}for(var f=0;f<o.length;++f){var p=Math.sqrt(o[f]);r.push(i[f]/p),a.push(i[f]*p)}var d=0,h=0;if(e.featureMapHeight.length>0)d=e.featureMapHeight[n],h=e.featureMapWidth[n];else{var m=e.strides[n];d=Math.ceil(e.inputSizeHeight/m),h=Math.ceil(e.inputSizeWidth/m)}for(var v=0;v<d;++v)for(var y=0;y<h;++y)for(var g=0;g<r.length;++g){var b={xCenter:(y+e.anchorOffsetX)/h,yCenter:(v+e.anchorOffsetY)/d,width:0,height:0};e.fixedAnchorSize?(b.width=1,b.height=1):(b.width=a[g],b.height=r[g]),t.push(b)}n=s}return t}(Ff);var r=Vs(this.anchors.map((function(e){return e.width}))),a=Vs(this.anchors.map((function(e){return e.height}))),o=Vs(this.anchors.map((function(e){return e.xCenter}))),i=Vs(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:o,y:i,w:r,h:a}}return e.prototype.estimateHands=function(e,t){return ff(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,w=this;return pf(this,(function(k){switch(k.label){case 0:return n=function(e){if(null==e)return cf({},Bf);var t=cf({},e);return null==t.flipHorizontal&&(t.flipHorizontal=Bf.flipHorizontal),null==t.staticImageMode&&(t.staticImageMode=Bf.staticImageMode),t}(t),null==e?(this.reset(),[2,[]]):(r=wf(e),a=mr((function(){var t=pr(xf(e),"float32");return n.flipHorizontal&&(t=Fs(Al.flipLeftRight(Ko(t,0)),[0])),t})),o=this.prevHandRectsFromLandmarks,n.staticImageMode||null==o||o.length<this.maxHands?[4,this.detectPalm(a)]:[3,2]);case 1:return 0===(s=k.sent()).length?(this.reset(),a.dispose(),[2,[]]):(u=s.map((function(e){return w.palmDetectionToRoi(e,r)})),i=u,[3,3]);case 2:i=o,k.label=3;case 3:return.5,x=[],[i].forEach((function(e){return e.forEach((function(e){(x=x.filter((function(t){return bf(e,t)<=.5}))).push(e)}))})),i=x,[4,Promise.all(i.map((function(e){return w.handLandmarks(e,a)})))];case 4:for(l=k.sent(),c=[],this.prevHandRectsFromLandmarks=[],f=0,p=l;f<p.length;f++)null!=(d=p[f])&&(h=d.landmarks,m=d.worldLandmarks,v=d.handScore,y=d.handedness,this.prevHandRectsFromLandmarks.push(this.handLandmarksToRoi(h,r)),null!=(g=Of(h,r))&&g.forEach((function(e,t){delete e.z,e.name=df[t]})),null!=(b=m)&&b.forEach((function(e,t){e.name=df[t]})),c.push({keypoints:g,keypoints3D:b,handedness:y,score:v}));return a.dispose(),[2,c]}var x}))}))},e.prototype.dispose=function(){this.detectorModel.dispose(),this.landmarkModel.dispose(),vr([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){this.prevHandRectsFromLandmarks=null},e.prototype.detectPalm=function(e){return ff(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,l,c;return pf(this,(function(f){switch(f.label){case 0:return t=Nf(e,Hf),n=t.imageTensor,r=t.padding,a=this.detectorModel.predict(n),o=function(e){return mr((function(){var t=function(e){return mr((function(){return[$a(e,[0,0,0],[1,-1,1]),$a(e,[0,0,1],[1,-1,-1])]}))}(e),n=t[0],r=t[1];return{boxes:Fs(r),logits:Fs(n)}}))}(a),i=o.boxes,[4,Af([s=o.logits,i],this.anchorTensor,jf)];case 1:return 0===(u=f.sent()).length?(vr([n,a,s,i]),[2,u]):[4,If(u,this.maxHands,.3)];case 2:return l=f.sent(),c=function(e,t){void 0===e&&(e=[]);for(var n=t.left,r=t.top,a=t.left+t.right,o=t.top+t.bottom,i=0;i<e.length;i++){var s=e[i],u=s.locationData.relativeBoundingBox,l=(u.xMin-n)/(1-a),c=(u.yMin-r)/(1-o),f=u.width/(1-a),p=u.height/(1-o);u.xMin=l,u.yMin=c,u.width=f,u.height=p,u.xMax=l+f,u.yMax=c+p;var d=s.locationData.relativeKeypoints;d&&d.forEach((function(e){var t=(e.x-n)/(1-a),i=(e.y-r)/(1-o);e.x=t,e.y=i}))}return e}(l,r),vr([n,a,s,i]),[2,c]}}))}))},e.prototype.palmDetectionToRoi=function(e,t){return Pf(function(e,t,n,r,a){var o="rect"===n?function(e,t,n){var r,a=e.locationData;if("boundingbox"===t)r=Ef(a.boundingBox);else{r=_f(a);var o=n.width,i=n.height;r.xCenter=Math.round(r.xCenter*o),r.yCenter=Math.round(r.yCenter*i),r.width=Math.round(r.width*o),r.height=Math.round(r.height*i)}return r}(e,t,r):function(e,t){var n=e.locationData;return"boundingbox"===t?Ef(n.relativeBoundingBox):_f(n)}(e,t);return a&&(o.rotation=function(e,t,n){var r,a=e.locationData,o=n.rotationVectorStartKeypointIndex,i=n.rotationVectorEndKeypointIndex;r=n.rotationVectorTargetAngle?n.rotationVectorTargetAngle:Math.PI*n.rotationVectorTargetAngleDegree/180;var s=a.relativeKeypoints[o].x*t.width,u=a.relativeKeypoints[o].y*t.height,l=a.relativeKeypoints[i].x*t.width,c=a.relativeKeypoints[i].y*t.height;return kf(r-Math.atan2(-(c-u),l-s))}(e,r,a)),o}(e,"boundingbox","normRect",t,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:2,rotationVectorTargetAngleDegree:90}),t,Uf)},e.prototype.handLandmarks=function(e,t){return ff(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,l,c,f,p,d,h,m,v,y;return pf(this,(function(g){switch(g.label){case 0:return n=Nf(t,Wf,e),r=n.imageTensor,a=n.padding,o=this.landmarkModel.execute(r,["Identity_2:0","Identity_1:0","Identity:0","Identity_3:0"]),i=o[0],s=o[1],u=o[2],l=o[3],[4,s.data()];case 1:return(c=g.sent()[0])<.5?(vr(o),vr(r),[2,null]):[4,u.data()];case 2:return f=g.sent()[0],p=f>=.5?"Left":"Right",[4,Rf(i,Kf)];case 3:return d=g.sent(),[4,Rf(l,qf)];case 4:return h=g.sent(),m=function(e,t){var n=t.left,r=t.top,a=t.left+t.right,o=t.top+t.bottom;return e.map((function(e){return cf(cf({},e),{x:(e.x-n)/(1-a),y:(e.y-r)/(1-o),z:e.z/(1-a)})}))}(d,a),v=function(e,t,n){void 0===n&&(n={ignoreRotation:!1});for(var r=[],a=0,o=e;a<o.length;a++){var i=o[a],s=i.x-.5,u=i.y-.5,l=n.ignoreRotation?0:t.rotation,c=Math.cos(l)*s-Math.sin(l)*u,f=Math.sin(l)*s+Math.cos(l)*u;c=c*t.width+t.xCenter,f=f*t.height+t.yCenter;var p=i.z*t.width,d=cf({},i);d.x=c,d.y=f,d.z=p,r.push(d)}return r}(m,e),y=function(e,t){for(var n=[],r=0,a=e;r<a.length;r++){var o=a[r],i=o.x,s=o.y,u=t.rotation,l=Math.cos(u)*i-Math.sin(u)*s,c=Math.sin(u)*i+Math.cos(u)*s,f=cf({},o);f.x=l,f.y=c,n.push(f)}return n}(h,e),vr(o),vr(r),[2,{landmarks:v,worldLandmarks:y,handScore:c,handedness:p}]}}))}))},e.prototype.handLandmarksToRoi=function(e,t){return Pf(function(e,t){for(var n=function(e,t){var n=e[0].x*t.width,r=e[0].y*t.height,a=(e[4].x+e[8].x)/2,o=(e[4].y+e[8].y)/2;return a=(a+e[6].x)/2*t.width,o=(o+e[6].y)/2*t.height,kf(Math.PI/2-Math.atan2(-(o-r),a-n))}(e,t),r=kf(-n),a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=e;u<l.length;u++){var c=(v=l[u]).x,f=v.y;a=Math.min(a,c),o=Math.max(o,c),i=Math.min(i,f),s=Math.max(s,f)}var p=(o+a)/2,d=(s+i)/2;a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(var h=0,m=e;h<m.length;h++){var v,y=((v=m[h]).x-p)*t.width,g=(v.y-d)*t.height,b=y*Math.cos(r)-g*Math.sin(r),w=y*Math.sin(r)+g*Math.cos(r);a=Math.min(a,b),o=Math.max(o,b),i=Math.min(i,w),s=Math.max(s,w)}var k=(o+a)/2,x=(s+i)/2,S=k*Math.cos(n)-x*Math.sin(n)+t.width*p,N=k*Math.sin(n)+x*Math.cos(n)+t.height*d,T=(o-a)/t.width,E=(s-i)/t.height;return{xCenter:S/t.width,yCenter:N/t.height,width:T,height:E,rotation:n}}([].concat(e.slice(0,4),e.slice(5,7),e.slice(9,11),e.slice(13,15),e.slice(17,19)),t),t,Vf)},e}();function $f(e){return ff(this,void 0,void 0,(function(){var t,n,r,a,o,i;return pf(this,(function(s){switch(s.label){case 0:return t=function(e){if(null==e)return cf({},zf);var t=cf({},e);if(t.runtime="tfjs",null==t.maxHands&&(t.maxHands=zf.maxHands),null==t.modelType&&(t.modelType=zf.modelType),"lite"!==t.modelType&&"full"!==t.modelType)throw new Error("Model type must be one of lite or full, but got "+t.modelType);if(null==t.detectorModelUrl)if("lite"===t.modelType)t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/detector/lite/1";else t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/detector/full/1";if(null==t.landmarkModelUrl)if("lite"===t.modelType)t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/landmark/lite/1";else t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/landmark/full/1";return t}(e),n=t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,r=t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Promise.all([sf(t.detectorModelUrl,{fromTFHub:n}),sf(t.landmarkModelUrl,{fromTFHub:r})])];case 1:return a=s.sent(),o=a[0],i=a[1],[2,new Gf(o,i,t.maxHands)]}}))}))}function Yf(e,t){return ff(this,void 0,void 0,(function(){var n,r;return pf(this,(function(a){if(e===Lf.MediaPipeHands){if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,$f(n)];if("mediapipe"===n.runtime)return[2,vf(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(e+" is not a supported model name.")}))}))}!function(e){e.MediaPipeHands="MediaPipeHands"}(Lf||(Lf={}));var Qf={thumb:"#00aa77",index:"#00aa77",middle:"#00aa77",ring:"#00aa77",pinky:"#00aa77",wrist:"#00aa77"},Xf={thumbs_up:"\ud83d\udc4d",victory:"\u270c\ud83c\udffb"};function Jf(){return Zf.apply(this,arguments)}function Zf(){return(Zf=I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yf(Lf.MediaPipeHands,{runtime:"mediapipe",modelType:"full",maxHands:2,solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1646424915"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(e,t,n,r){return tp.apply(this,arguments)}function tp(){return tp=I(E().mark((function e(t,n,r,a){var o,i,s,u,l,c,f,p,d;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.width,i=r.height,s=document.querySelector("#pose-video"),u=document.querySelector("#pose-canvas"),l=u.getContext("2d"),c={right:document.querySelector("#pose-result-right"),left:document.querySelector("#pose-result-left")},f=new W([G,J]),e.next=9,t();case 9:p=e.sent,console.log("mediaPose model loaded"),d=function(){var e=I(E().mark((function e(){var t,r,u,h,m,v,y,g,b,w,k,x;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.clearRect(0,0,o,i),c.right&&(c.right.innerText="",c.left.innerText=""),e.next=4,p.estimateHands(s,{flipHorizontal:!0});case 4:(t=e.sent)[0]&&(8,n({x:t[0].keypoints[8].x*o/640,y:t[0].keypoints[8].y*i/480})),r=M(t);try{for(r.s();!(u=r.n()).done;){h=u.value,m=M(h.keypoints);try{for(m.s();!(v=m.n()).done;)y=v.value,g=y.name.split("_")[0].toString().toLowerCase(),b=Qf[g],rp(l,y.x*o/640,y.y*i/480,3,b)}catch(Qh){m.e(Qh)}finally{m.f()}(w=f.estimate(h.keypoints3D,9)).gestures.length>0&&(k=w.gestures.reduce((function(e,t){return e.score>t.score?e:t})),x=h.handedness.toLowerCase(),c[x].innerText=Xf[k.name],ap(w.poseData,x))}}catch(Qh){r.e(Qh)}finally{r.f()}setTimeout((function(){d()}),1e3/a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d(),console.log("Starting predictions");case 14:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(){return(np=I(E().mark((function e(t,n){var r,a,o,i,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.width,a=t.height,o={audio:!1,video:{facingMode:"user",width:r,height:a,frameRate:{max:n}}},i=document.querySelector("#pose-video"),e.next=5,navigator.mediaDevices.getUserMedia(o);case 5:return s=e.sent,i.srcObject=s,e.abrupt("return",new Promise((function(e){i.onloadedmetadata=function(){e(i)}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rp(e,t,n,r,a){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fillStyle=a,e.fill()}function ap(e,t){var n="#summary-".concat(t);for(var r in e)document.querySelector("".concat(n," span#curl-").concat(r)).innerHTML=e[r][1],document.querySelector("".concat(n," span#dir-").concat(r)).innerHTML=e[r][2]}var op=n(184),ip=function(e){var t=e.size,n=t.width,r=t.height,a={width:"".concat(n,"px"),height:"".concat(r,"px")};return(0,op.jsxs)("div",{className:"video",children:[(0,op.jsx)("video",{id:"pose-video",className:"layer",playsInline:!0,style:a}),(0,op.jsx)("canvas",{id:"pose-canvas",className:"layer",width:n,height:r})]})};var sp=function(){return sp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},sp.apply(this,arguments)};Object.create;function up(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var lp=n(613),cp=n.n(lp),fp="-ms-",pp="-moz-",dp="-webkit-",hp="comm",mp="rule",vp="decl",yp="@import",gp="@keyframes",bp="@layer",wp=Math.abs,kp=String.fromCharCode,xp=Object.assign;function Sp(e){return e.trim()}function Np(e,t){return(e=t.exec(e))?e[0]:e}function Tp(e,t,n){return e.replace(t,n)}function Ep(e,t){return e.indexOf(t)}function _p(e,t){return 0|e.charCodeAt(t)}function Ip(e,t,n){return e.slice(t,n)}function Op(e){return e.length}function Ap(e){return e.length}function Cp(e,t){return t.push(e),e}var Mp=1,Dp=1,Rp=0,Pp=0,Lp=0,Fp="";function zp(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:Mp,column:Dp,length:i,return:""}}function Bp(e,t){return xp(zp("",null,null,"",null,null,0),e,{length:-e.length},t)}function jp(){return Lp=Pp>0?_p(Fp,--Pp):0,Dp--,10===Lp&&(Dp=1,Mp--),Lp}function Up(){return Lp=Pp<Rp?_p(Fp,Pp++):0,Dp++,10===Lp&&(Dp=1,Mp++),Lp}function Vp(){return _p(Fp,Pp)}function Hp(){return Pp}function Wp(e,t){return Ip(Fp,e,t)}function Kp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qp(e){return Mp=Dp=1,Rp=Op(Fp=e),Pp=0,[]}function Gp(e){return Fp="",e}function $p(e){return Sp(Wp(Pp-1,Xp(91===e?e+2:40===e?e+1:e)))}function Yp(e){for(;(Lp=Vp())&&Lp<33;)Up();return Kp(e)>2||Kp(Lp)>3?"":" "}function Qp(e,t){for(;--t&&Up()&&!(Lp<48||Lp>102||Lp>57&&Lp<65||Lp>70&&Lp<97););return Wp(e,Hp()+(t<6&&32==Vp()&&32==Up()))}function Xp(e){for(;Up();)switch(Lp){case e:return Pp;case 34:case 39:34!==e&&39!==e&&Xp(Lp);break;case 40:41===e&&Xp(e);break;case 92:Up()}return Pp}function Jp(e,t){for(;Up()&&e+Lp!==57&&(e+Lp!==84||47!==Vp()););return"/*"+Wp(t,Pp-1)+"*"+kp(47===e?e:Up())}function Zp(e){for(;!Kp(Vp());)Up();return Wp(e,Pp)}function ed(e,t){for(var n="",r=Ap(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function td(e,t,n,r){switch(e.type){case bp:if(e.children.length)break;case yp:case vp:return e.return=e.return||e.value;case hp:return"";case gp:return e.return=e.value+"{"+ed(e.children,r)+"}";case mp:e.value=e.props.join(",")}return Op(n=ed(e.children,r))?e.return=e.value+"{"+n+"}":""}function nd(e,t,n){switch(function(e,t){return 45^_p(e,0)?(((t<<2^_p(e,0))<<2^_p(e,1))<<2^_p(e,2))<<2^_p(e,3):0}(e,t)){case 5103:return dp+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dp+e+e;case 4789:return pp+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return dp+e+pp+e+fp+e+e;case 5936:switch(_p(e,t+11)){case 114:return dp+e+fp+Tp(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return dp+e+fp+Tp(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return dp+e+fp+Tp(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return dp+e+fp+e+e;case 6165:return dp+e+fp+"flex-"+e+e;case 5187:return dp+e+Tp(e,/(\w+).+(:[^]+)/,dp+"box-$1$2"+fp+"flex-$1$2")+e;case 5443:return dp+e+fp+"flex-item-"+Tp(e,/flex-|-self/g,"")+(Np(e,/flex-|baseline/)?"":fp+"grid-row-"+Tp(e,/flex-|-self/g,""))+e;case 4675:return dp+e+fp+"flex-line-pack"+Tp(e,/align-content|flex-|-self/g,"")+e;case 5548:return dp+e+fp+Tp(e,"shrink","negative")+e;case 5292:return dp+e+fp+Tp(e,"basis","preferred-size")+e;case 6060:return dp+"box-"+Tp(e,"-grow","")+dp+e+fp+Tp(e,"grow","positive")+e;case 4554:return dp+Tp(e,/([^-])(transform)/g,"$1"+dp+"$2")+e;case 6187:return Tp(Tp(Tp(e,/(zoom-|grab)/,dp+"$1"),/(image-set)/,dp+"$1"),e,"")+e;case 5495:case 3959:return Tp(e,/(image-set\([^]*)/,dp+"$1$`$1");case 4968:return Tp(Tp(e,/(.+:)(flex-)?(.*)/,dp+"box-pack:$3"+fp+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dp+e+e;case 4200:if(!Np(e,/flex-|baseline/))return fp+"grid-column-align"+Ip(e,t)+e;break;case 2592:case 3360:return fp+Tp(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Np(e.props,/grid-\w+-end/)}))?~Ep(e+(n=n[t].value),"span")?e:fp+Tp(e,"-start","")+e+fp+"grid-row-span:"+(~Ep(n,"span")?Np(n,/\d+/):+Np(n,/\d+/)-+Np(e,/\d+/))+";":fp+Tp(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Np(e.props,/grid-\w+-start/)}))?e:fp+Tp(Tp(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Tp(e,/(.+)-inline(.+)/,dp+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Op(e)-1-t>6)switch(_p(e,t+1)){case 109:if(45!==_p(e,t+4))break;case 102:return Tp(e,/(.+:)(.+)-([^]+)/,"$1"+dp+"$2-$3$1"+pp+(108==_p(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ep(e,"stretch")?nd(Tp(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Tp(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,a,o,i,s){return fp+n+":"+r+s+(a?fp+n+"-span:"+(o?i:+i-+r)+s:"")+e}));case 4949:if(121===_p(e,t+6))return Tp(e,":",":"+dp)+e;break;case 6444:switch(_p(e,45===_p(e,14)?18:11)){case 120:return Tp(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+dp+(45===_p(e,14)?"inline-":"")+"box$3$1"+dp+"$2$3$1"+fp+"$2box$3")+e;case 100:return Tp(e,":",":"+fp)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Tp(e,"scroll-","scroll-snap-")+e}return e}function rd(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case vp:return void(e.return=nd(e.value,e.length,n));case gp:return ed([Bp(e,{value:Tp(e.value,"@","@"+dp)})],r);case mp:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(Np(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ed([Bp(e,{props:[Tp(t,/:(read-\w+)/,":"+pp+"$1")]})],r);case"::placeholder":return ed([Bp(e,{props:[Tp(t,/:(plac\w+)/,":"+dp+"input-$1")]}),Bp(e,{props:[Tp(t,/:(plac\w+)/,":"+pp+"$1")]}),Bp(e,{props:[Tp(t,/:(plac\w+)/,fp+"input-$1")]})],r)}return""}))}}function ad(e){return Gp(od("",null,null,null,[""],e=qp(e),0,[0],e))}function od(e,t,n,r,a,o,i,s,u){for(var l=0,c=0,f=i,p=0,d=0,h=0,m=1,v=1,y=1,g=0,b="",w=a,k=o,x=r,S=b;v;)switch(h=g,g=Up()){case 40:if(108!=h&&58==_p(S,f-1)){-1!=Ep(S+=Tp($p(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=$p(g);break;case 9:case 10:case 13:case 32:S+=Yp(h);break;case 92:S+=Qp(Hp()-1,7);continue;case 47:switch(Vp()){case 42:case 47:Cp(sd(Jp(Up(),Hp()),t,n),u);break;default:S+="/"}break;case 123*m:s[l++]=Op(S)*y;case 125*m:case 59:case 0:switch(g){case 0:case 125:v=0;case 59+c:-1==y&&(S=Tp(S,/\f/g,"")),d>0&&Op(S)-f&&Cp(d>32?ud(S+";",r,n,f-1):ud(Tp(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Cp(x=id(S,t,n,l,c,a,s,b,w=[],k=[],f),o),123===g)if(0===c)od(S,t,x,x,w,o,f,s,k);else switch(99===p&&110===_p(S,3)?100:p){case 100:case 108:case 109:case 115:od(e,x,x,r&&Cp(id(e,x,x,0,0,a,s,b,a,w=[],f),k),a,k,f,s,r?w:k);break;default:od(S,x,x,x,[""],k,0,s,k)}}l=c=d=0,m=y=1,b=S="",f=i;break;case 58:f=1+Op(S),d=h;default:if(m<1)if(123==g)--m;else if(125==g&&0==m++&&125==jp())continue;switch(S+=kp(g),g*m){case 38:y=c>0?1:(S+="\f",-1);break;case 44:s[l++]=(Op(S)-1)*y,y=1;break;case 64:45===Vp()&&(S+=$p(Up())),p=Vp(),c=f=Op(b=S+=Zp(Hp())),g++;break;case 45:45===h&&2==Op(S)&&(m=0)}}return o}function id(e,t,n,r,a,o,i,s,u,l,c){for(var f=a-1,p=0===a?o:[""],d=Ap(p),h=0,m=0,v=0;h<r;++h)for(var y=0,g=Ip(e,f+1,f=wp(m=i[h])),b=e;y<d;++y)(b=Sp(m>0?p[y]+" "+g:Tp(g,/&\f/g,p[y])))&&(u[v++]=b);return zp(e,t,n,0===a?mp:s,u,l,c)}function sd(e,t,n){return zp(e,t,n,hp,kp(Lp),Ip(e,2,-2),0)}function ud(e,t,n,r){return zp(e,t,n,vp,Ip(e,0,r),Ip(e,r+1,-1),r)}var ld={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cd="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",fd="undefined"!=typeof window&&"HTMLElement"in window,pd=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/projeto-visao-computacional",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),dd=(new Set,Object.freeze([])),hd=Object.freeze({});function md(e,t,n){return void 0===n&&(n=hd),e.theme!==n.theme&&e.theme||t||n.theme}var vd=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),yd=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gd=/(^-|-$)/g;function bd(e){return e.replace(yd,"-").replace(gd,"")}var wd=/(a)(d)/gi,kd=function(e){return String.fromCharCode(e+(e>25?39:97))};function xd(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=kd(t%52)+n;return(kd(t%52)+n).replace(wd,"$1-$2")}var Sd,Nd=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Td=function(e){return Nd(5381,e)};function Ed(e){return xd(Td(e)>>>0)}function _d(e){return e.displayName||e.name||"Component"}function Id(e){return"string"==typeof e&&!0}var Od="function"==typeof Symbol&&Symbol.for,Ad=Od?Symbol.for("react.memo"):60115,Cd=Od?Symbol.for("react.forward_ref"):60112,Md={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Dd={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Rd={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pd=((Sd={})[Cd]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sd[Ad]=Rd,Sd);function Ld(e){return("type"in(t=e)&&t.type.$$typeof)===Ad?Rd:"$$typeof"in e?Pd[e.$$typeof]:Md;var t}var Fd=Object.defineProperty,zd=Object.getOwnPropertyNames,Bd=Object.getOwnPropertySymbols,jd=Object.getOwnPropertyDescriptor,Ud=Object.getPrototypeOf,Vd=Object.prototype;function Hd(e,t,n){if("string"!=typeof t){if(Vd){var r=Ud(t);r&&r!==Vd&&Hd(e,r,n)}var a=zd(t);Bd&&(a=a.concat(Bd(t)));for(var o=Ld(e),i=Ld(t),s=0;s<a.length;++s){var u=a[s];if(!(u in Dd||n&&n[u]||i&&u in i||o&&u in o)){var l=jd(t,u);try{Fd(e,u,l)}catch(e){}}}}return e}function Wd(e){return"function"==typeof e}function Kd(e){return"object"==typeof e&&"styledComponentId"in e}function qd(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Gd(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function $d(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Yd(e,t,n){if(void 0===n&&(n=!1),!n&&!$d(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Yd(e[r],t[r]);else if($d(t))for(var r in t)e[r]=Yd(e[r],t[r]);return e}function Qd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Xd=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,a=r;e>=a;)if((a<<=1)<0)throw Qd(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var o=r;o<a;o++)this.groupSizes[o]=0}for(var i=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(i,t[o])&&(this.groupSizes[e]++,i++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var a=n;a<r;a++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n,o=r;o<a;o++)t+="".concat(this.tag.getRule(o)).concat("/*!sc*/\n");return t},e}(),Jd=new Map,Zd=new Map,eh=1,th=function(e){if(Jd.has(e))return Jd.get(e);for(;Zd.has(eh);)eh++;var t=eh++;return Jd.set(e,t),Zd.set(t,e),t},nh=function(e,t){Jd.set(e,t),Zd.set(t,e)},rh="style[".concat(cd,"][").concat("data-styled-version",'="').concat("6.0.0-rc.1",'"]'),ah=new RegExp("^".concat(cd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),oh=function(e,t,n){for(var r,a=n.split(","),o=0,i=a.length;o<i;o++)(r=a[o])&&e.registerName(t,r)},ih=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),a=[],o=0,i=r.length;o<i;o++){var s=r[o].trim();if(s){var u=s.match(ah);if(u){var l=0|parseInt(u[1],10),c=u[2];0!==l&&(nh(c,l),oh(e,c,u[3]),e.getTag().insertRules(l,a)),a.length=0}else a.push(s)}}};function sh(){return n.nc}var uh=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(cd))return r}}(n),o=void 0!==a?a.nextSibling:null;r.setAttribute(cd,"active"),r.setAttribute("data-styled-version","6.0.0-rc.1");var i=sh();return i&&r.setAttribute("nonce",i),n.insertBefore(r,o),r},lh=function(){function e(e){this.element=uh(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var a=t[n];if(a.ownerNode===e)return a}throw Qd(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),ch=function(){function e(e){this.element=uh(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),fh=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ph=fd,dh={isServer:!fd,useCSSOMInjection:!pd},hh=function(){function e(e,t,n){void 0===e&&(e=hd),void 0===t&&(t={}),this.options=sp(sp({},dh),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&fd&&ph&&(ph=!1,function(e){for(var t=document.querySelectorAll(rh),n=0,r=t.length;n<r;n++){var a=t[n];a&&"active"!==a.getAttribute(cd)&&(ih(e,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}return e.registerId=function(e){return th(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(sp(sp({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new fh(n):t?new lh(n):new ch(n)}(this.options),new Xd(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(th(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(th(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(th(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e.prototype.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",a=function(n){var a=function(e){return Zd.get(e)}(n);if(void 0===a)return"continue";var o=e.names.get(a),i=t.getGroup(n);if(void 0===o||0===i.length)return"continue";var s="".concat(cd,".g").concat(n,'[id="').concat(a,'"]'),u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(i).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},o=0;o<n;o++)a(o);return r}(this)},e}(),mh=/&/g,vh=/^\s*\/\/.*$/gm;function yh(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=yh(e.children,t)),e}))}function gh(e){var t,n,r,a=void 0===e?hd:e,o=a.options,i=void 0===o?hd:o,s=a.plugins,u=void 0===s?dd:s,l=function(e,r,a){return a===n||a.startsWith(n)&&a.endsWith(n)&&a.replaceAll(n,"").length>0?".".concat(t):e},c=u.slice();i.prefix&&c.unshift(rd),c.push((function(e){e.type===mp&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(mh,n).replace(r,l))}),td);var f=function(e,a,o,s){void 0===a&&(a=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=a,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(vh,""),l=ad(o||a?"".concat(o," ").concat(a," { ").concat(u," }"):u);return i.namespace&&(l=yh(l,i.namespace)),function(e,t){for(var n=[],r=0,a=void 0;r<e.length;r+=1)(a=t(e[r],r,e,t))&&n.push(a);return n}(l,function(e){var t=Ap(e);return function(n,r,a,o){for(var i="",s=0;s<t;s++)i+=e[s](n,r,a,o)||"";return i}}(c))};return f.hash=u.length?u.reduce((function(e,t){return t.name||Qd(15),Nd(e,t.name)}),5381).toString():"",f}var bh=new hh,wh=gh(),kh=S.createContext({shouldForwardProp:void 0,styleSheet:bh,stylis:wh}),xh=(kh.Consumer,S.createContext(void 0));function Sh(){return(0,S.useContext)(kh)}function Nh(e){var t=(0,S.useState)(e.stylisPlugins),n=t[0],r=t[1],a=Sh().styleSheet,o=(0,S.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),i=(0,S.useMemo)((function(){return gh({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);return(0,S.useEffect)((function(){cp()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),S.createElement(kh.Provider,{value:{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:i}},S.createElement(xh.Provider,{value:i},e.children))}var Th=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=wh);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){throw Qd(12,String(n.name))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=wh),this.name+e.hash},e}(),Eh=function(e){return e>="A"&&e<="Z"};function _h(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Eh(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Ih=function(e){return null==e||!1===e||""===e},Oh=function e(t){var n,r,a=[];for(var o in t){var i=t[o];t.hasOwnProperty(o)&&!Ih(i)&&(Array.isArray(i)&&i.isCss||Wd(i)?a.push("".concat(_h(o),":"),i,";"):$d(i)?a.push.apply(a,up(up(["".concat(o," {")],e(i),!1),["}"],!1)):a.push("".concat(_h(o),": ").concat((n=o,null==(r=i)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in ld||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function Ah(e,t,n,r){return Ih(e)?[]:Kd(e)?[".".concat(e.styledComponentId)]:Wd(e)?!Wd(a=e)||a.prototype&&a.prototype.isReactComponent||!t?[e]:Ah(e(t),t,n,r):e instanceof Th?n?(e.inject(n,r),[e.getName(r)]):[e]:$d(e)?Oh(e):Array.isArray(e)?e.flatMap((function(e){return Ah(e,t,n,r)})):[e.toString()];var a}function Ch(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Wd(n)&&!Kd(n))return!1}return!0}var Mh=Td("6.0.0-rc.1"),Dh=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Ch(e),this.componentId=t,this.baseHash=Nd(Mh,t),this.baseStyle=n,hh.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=qd(r,this.staticRulesId);else{var a=Gd(Ah(this.rules,e,t,n)),o=xd(Nd(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,o)){var i=n(a,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,i)}r=qd(r,o),this.staticRulesId=o}else{for(var s=Nd(this.baseHash,n.hash),u="",l=0;l<this.rules.length;l++){var c=this.rules[l];if("string"==typeof c)u+=c;else if(c){var f=Gd(Ah(c,e,t,n));s=Nd(s,f),u+=f}}if(u){var p=xd(s>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,n(u,".".concat(p),void 0,this.componentId)),r=qd(r,p)}}return r},e}(),Rh=S.createContext(void 0);Rh.Consumer;function Ph(){return(0,S.useContext)(Rh)}var Lh={};function Fh(e,t,n){var r=Kd(e),a=e,o=!Id(e),i=t.attrs,s=void 0===i?dd:i,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":bd(e);Lh[n]=(Lh[n]||0)+1;var r="".concat(n,"-").concat(Ed("6.0.0-rc.1"+n+Lh[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):u,c=t.displayName,f=void 0===c?function(e){return Id(e)?"styled.".concat(e):"Styled(".concat(_d(e),")")}(e):c,p=t.displayName&&t.componentId?"".concat(bd(t.displayName),"-").concat(t.componentId):t.componentId||l,d=r&&a.attrs?a.attrs.concat(s).filter(Boolean):s,h=t.shouldForwardProp;if(r&&a.shouldForwardProp){var m=a.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;h=function(e,t){return m(e,t)&&v(e,t)}}else h=m}var y=new Dh(n,p,r?a.componentStyle:void 0),g=y.isStatic&&0===s.length;function b(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,i=e.defaultProps,s=e.foldedComponentIds,u=e.styledComponentId,l=e.target,c=Ph(),f=Sh(),p=e.shouldForwardProp||f.shouldForwardProp,d=function(e,t,n){for(var r,a=sp(sp({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var i=Wd(r=e[o])?r(a):r;for(var s in i)a[s]="className"===s?qd(a[s],i[s]):"style"===s?sp(sp({},a[s]),i[s]):i[s]}return t.className&&(a.className=qd(a.className,t.className)),a}(a,t,md(t,c,i)||hd),h=d.as||l,m={};for(var v in d)void 0===d[v]||"$"===v[0]||"as"===v||"theme"===v||("forwardedAs"===v?m.as=d.forwardedAs:p&&!p(v,h)||(m[v]=d[v]));var y=function(e,t,n){var r=Sh();return e.generateAndInjectStyles(t?hd:n,r.styleSheet,r.stylis)}(o,r,d),g=qd(s,u);return y&&(g+=" "+y),d.className&&(g+=" "+d.className),m[Id(h)&&!vd.has(h)?"class":"className"]=g,m.ref=n,(0,S.createElement)(h,m)}(w,e,t,g)}b.displayName=f;var w=S.forwardRef(b);return w.attrs=d,w.componentStyle=y,w.displayName=f,w.shouldForwardProp=h,w.foldedComponentIds=r?qd(a.foldedComponentIds,a.styledComponentId):"",w.styledComponentId=p,w.target=r?a.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,a=t;r<a.length;r++)Yd(e,a[r],!0);return e}({},a.defaultProps,e):e}}),Object.defineProperty(w,"toString",{value:function(){return".".concat(w.styledComponentId)}}),o&&Hd(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function zh(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n}var Bh=function(e){return Object.assign(e,{isCss:!0})};function jh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Wd(e)||$d(e))return Bh(Ah(zh(dd,up([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Ah(r):Bh(Ah(zh(r,t)))}function Uh(e,t,n){if(void 0===n&&(n=hd),!t)throw Qd(1,t);var r=function(r){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return e(t,n,jh.apply(void 0,up([r],a,!1)))};return r.attrs=function(r){return Uh(e,t,sp(sp({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Uh(e,t,sp(sp({},n),r))},r}var Vh=function(e){return Uh(Fh,e)},Hh=Vh;vd.forEach((function(e){Hh[e]=Vh(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Ch(e),hh.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var a=r(Gd(Ah(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,a)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&hh.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=sh(),r=Gd([n&&'nonce="'.concat(n,'"'),"".concat(cd,'="true"'),"".concat("data-styled-version",'="').concat("6.0.0-rc.1",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Qd(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Qd(2);var n=((t={})[cd]="",t["data-styled-version"]="6.0.0-rc.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=sh();return r&&(n.nonce=r),[S.createElement("style",sp({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new hh({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Qd(2);return S.createElement(Nh,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Qd(3)}})(),"__sc-".concat(cd,"__");var Wh,Kh,qh,Gh=Hh.div(Wh||(Kh=["\n  width: 20px;\n  height: 20px;\n  position: fixed;\n  background-color: red;\n  left: ","px;\n  top: ","px;\n  transition: .5s;\n"],qh||(qh=Kh.slice(0)),Wh=Object.freeze(Object.defineProperties(Kh,{raw:{value:Object.freeze(qh)}}))),(function(e){return e.x}),(function(e){return e.y})),$h=function(e){var t=e.x,n=e.y;return(0,op.jsx)(Gh,{x:t.toFixed(2),y:n.toFixed(2)})},Yh=function(){var e=C((0,S.useState)({x:0,y:0}),2),t=e[0],n=e[1],r={width:1024,height:768};return(0,S.useEffect)((function(){(function(e,t){return np.apply(this,arguments)})(r,30).then((function(e){e.play(),e.addEventListener("loadeddata",I(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ep(Jf,n,r,30);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))}))}),[r.width]),(0,op.jsxs)("div",{className:"container",children:[(0,op.jsx)(ip,{size:r}),(0,op.jsx)($h,{x:t.x,y:t.y})]})};N.createRoot(document.getElementById("root")).render((0,op.jsx)(S.StrictMode,{children:(0,op.jsx)(Yh,{})}))}()}();
//# sourceMappingURL=main.156ae61e.js.map